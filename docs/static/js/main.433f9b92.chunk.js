(this.webpackJsonpsucralose=this.webpackJsonpsucralose||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return M})),n.d(t,"a",(function(){return L}));var a,r=n(1),c=n.n(r),s=n(3),i=n(71),o=n(12),l=n(2),u=n.n(l),d=n(75),j=(n(94),n(95),n(18)),h=n(57),b=n(17),v=n(15),p=n(23),f=n(49),O=n(31),m=n(44),x=n(33),g=n(65),y=n(36),w=n(26),k=n(76),C=n(19),N=n(24),S=n.n(N),I=n(48),F=n(74),T=(n(51),n(77)),D=n(0);window.history.scrollRestoration="manual";var A=null!==(a=w.a.get("search"))&&void 0!==a?a:"",E=window.location.hash,P=w.a.get("modalState"),M=Date.now();function B(){var e,t,n,a,r,c=u.a.useReducer((function(e){return e+1}),0),s=Object(o.a)(c,2)[1];B.forceUpdate=s;var l,d,b,v=(null!==(e=window.location.hash.split(/#\/?/)[1])&&void 0!==e?e:"").split("?")[0].split("/"),p=Object(i.a)(v),O=p[0],m=p.slice(1);L.userReady&&!L.user&&~["subscriptions","favorites","settings"].indexOf(O)&&(0===(null===(l=j.a.instance)||void 0===l||null===(d=l.state)||void 0===d||null===(b=d.stack)||void 0===b?void 0:b.length)&&j.a.push(Object(D.jsx)(g.a,{})));switch(L.hash=O,O){default:return Object(D.jsx)(h.b,{});case"posts":return Object(D.jsx)(f.a,{searchPlaceholder:"Search posts..."});case"post":return Object(D.jsx)(k.a,{id:m[0]});case"hot":return Object(D.jsx)(f.a,{search:"order:rank",searchPlaceholder:"Search hot posts..."});case"popular":return Object(D.jsx)(F.a,{});case"sets":return Object(D.jsx)(I.a,{});case"subscriptions":return Object(D.jsx)(f.a,{search:((null===(t=L.userData)||void 0===t||null===(n=t.subscriptions)||void 0===n?void 0:n.length)?L.userData.subscriptions.map((function(e){return"~".concat(e)})):["____"]).join(" "),searchPlaceholder:"Search subscriptions...",emptyPlaceholder:Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h2",{children:"No subscribed posts found."}),Object(D.jsx)("div",{children:'You can subscribe to tags by right clicking on them and pressing "Subscribe."'})]})});case"favorites":return Object(D.jsx)(f.a,{search:"favoritedby:".concat(null===(a=L.e621User)||void 0===a?void 0:a.name),searchPlaceholder:"Search favorites...",emptyPlaceholder:Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h2",{children:"No favorited posts found."}),Object(D.jsx)("div",{children:"Check your search tags, as they also apply to favorites."})]})});case"upvoted":return Object(D.jsx)(f.a,{search:"votedup:".concat(null===(r=L.e621User)||void 0===r?void 0:r.name),searchPlaceholder:"Search upvoted posts...",emptyPlaceholder:Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h2",{children:"No upvoted posts found."}),Object(D.jsx)("div",{children:"Check your search tags, as they also apply to upvotes."})]})});case"settings":return Object(D.jsx)(y.c,{})}}function L(){var e,t=Object(d.useMediaQuery)({query:"(max-width: 1224px)"}),n=u.a.useReducer((function(e){return e+1}),0),a=Object(o.a)(n,2)[1];return L.forceUpdate=a,L.userData=null!==(e=L.userData)&&void 0!==e?e:{},u.a.useEffect((function(){Object(m.c)(x.a.auth,(function(e){e?(L.user=e,x.a.get("users",e.uid).then(function(){var e=Object(s.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.username){e.next=4;break}return e.next=3,C.a.request("users/".concat(t.username));case 3:L.e621User=e.sent;case 4:if(L.userData=S.a.extend({subscriptions:[],settings:{}},t),e.t0=S.a,e.t1=L.userData,!t.username){e.next=13;break}return e.next=10,C.a.request("post_sets",{commit:"Search","search[creator_name]":t.username});case 10:e.t2=e.sent,e.next=14;break;case 13:e.t2=[];case 14:e.t3=e.t2,e.t4={sets:e.t3},e.t0.extend.call(e.t0,e.t1,e.t4),L.userReady=!0,L.forceUpdate(),S.a.merge(y.a.props,L.userData.settings),y.b.forceUpdate(),null===(n=y.c.forceUpdate)||void 0===n||n.call(y.c);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):(L.userReady=!0,localStorage.getItem("hasPromptedLogin")||(j.a.push(Object(D.jsx)(g.a,{})),localStorage.setItem("hasPromptedLogin","1")))}))}),[]),Object(D.jsxs)("div",{className:Object(v.d)("App",t?"Mobile":"Desktop"),children:[Object(D.jsx)("div",{className:"AppBackground"}),Object(D.jsx)("div",{className:"Main",children:Object(D.jsx)(B,{})}),Object(D.jsx)(T.a,{}),Object(D.jsx)(j.a,{}),Object(D.jsx)(b.a,{}),Object(D.jsx)(p.a.Handler,{}),Object(D.jsx)(y.b,{})]})}window.addEventListener("popstate",(function(){var t;null===B||void 0===B||B.forceUpdate();var n,a,r=null!==(t=w.a.get("search"))&&void 0!==t?t:"";A===r&&E===window.location.hash||!document.getElementById("searchField")||(null===(n=O.a.instance)||void 0===n||n.setPosts([]),null===(a=I.b.instances)||void 0===a||a.forEach((function(e){return e.setSets([])})),document.getElementById("searchField").value=r,parseInt(w.a.get("page"))>1&&w.a.set("page",1,{pushHistory:!1}),A=r,E=window.location.hash);var c,s,i,o=w.a.get("modalState");P!==o?(!o&&j.a.pop(),P=o):(o&&P&&j.a.instance.state.stack.length&&w.a.set("modalState",null),null===(c=O.a.instance)||void 0===c||c.setFetchingState(!0),null===(s=I.b.instances)||void 0===s||s.forEach((function(e){return e.setFetchingState(!0)})),null===(i=L.forceUpdate)||void 0===i||i.call(L));M=Date.now(),e((function(){O.a.lastHash=window.location.hash}))}))}).call(this,n(63).setImmediate)},,function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i}));var a=n(17);function r(){for(var e="",t=0;t<arguments.length;t++){switch(typeof arguments[t]){case Array.isArray(arguments[t])&&"boolean"===typeof arguments[t][0]&&"object":!0===arguments[t][0]?e+=arguments[t][1]:arguments[t][2]&&(e+=arguments[t][2]);break;default:e+=arguments[t]}e+=" "}return e.trim()}function c(e){return fetch("https://api.allorigins.win/raw?url=".concat(encodeURIComponent(e))).then((function(e){return e.blob()})).then((function(t){var n=Object.assign(document.createElement("a"),{style:{display:"none"},href:URL.createObjectURL(t),download:e.split("/")[e.split("/").length-1]});document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(n.href),n.remove()})).catch((function(e){return console.error(e),a.a.showToast("Failed to save image!","Failure")}))}function s(){return Math.random().toString(36).substr(7)}function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"N/A";var a=1024,r=n<0?0:n,c=[" bytes","KB","MB","GB","TB"],s=Math.floor(Math.log(e)/Math.log(a));return(e/Math.pow(a,s)).toFixed(r).toLocaleString()+(null!==(t=c[s])&&void 0!==t?t:c[c.length-1])}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(16),r=n(4),c=n(5),s=n(9),i=n(10),o=n(12),l=n(2),u=n.n(l),d=(n(99),n(15)),j=function(){function e(t,n){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object(r.a)(this,e),this.callback=t,this.duration=n,this.remainingTime=n,a&&this.resume()}return Object(c.a)(e,[{key:"resume",value:function(){this.startTime=Date.now(),clearTimeout(this.id),this.id=setTimeout(this.callback,this.remainingTime)}},{key:"pause",value:function(){clearTimeout(this.id),this.remainingTime-=Date.now()-this.startTime}},{key:"end",value:function(){clearTimeout(this.id),this.callback()}}]),e}(),h=n(0);function b(e){var t=e.children,n=e.type,a=e.life,r=e.remove,c=e.callback,s=e.color,i=e.fixedTime,l=void 0!==i&&i,b=function(){O(!0),setTimeout(r,500)},v=u.a.useState(!1),p=Object(o.a)(v,2),f=p[0],O=p[1],m=u.a.useMemo((function(){return new j(b,1e3*a,!1)}),[]),x=u.a.useRef(),g=function(){m.pause(),x.current.style.animationPlayState="paused"},y=function(){m.resume(),x.current.style.animationPlayState="running"};return u.a.useEffect((function(){var e=function(){return!l&&y()},t=function(){return!l&&g()};return window.addEventListener("focus",e),window.addEventListener("blur",t),(l||document.hasFocus())&&y(),function(){window.removeEventListener("focus",e),window.removeEventListener("blur",t)}})),Object(h.jsxs)("div",{className:Object(d.d)("Toast",[f,"Closing"],n),onMouseEnter:l?null:g,onMouseLeave:l?null:y,onClick:c?function(e){c(e),m.end()}:function(){m.end()},style:{cursor:c?"pointer":null,backgroundColor:s},children:[t,Object(h.jsx)("div",{className:"ProgressBarContainer",children:Object(h.jsx)("div",{ref:x,className:"ProgressBar",style:{animationDuration:a+"s"}})})]})}var v=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={toasts:[]},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){n.instance=this}},{key:"horizontalStyle",get:function(){return"Center"}},{key:"verticalStyle",get:function(){return"Bottom"}},{key:"render",value:function(){var e,t=this;return Object(h.jsxs)("div",{ref:n.ref,className:Object(d.d)("ToastsContainer",this.horizontalStyle,this.verticalStyle),children:[Object(h.jsx)("div",{className:Object(d.d)("ClearButton",[!!(null===(e=this.state.toasts)||void 0===e?void 0:e.length),"Visible"]),onClick:function(){return t.setState({toasts:[]})},children:Object(h.jsx)("u",{children:"Close all"})}),this.state.toasts]})}}],[{key:"showToast",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=c.callback,i=void 0===s?null:s,o=c.color,l=void 0===o?null:o,j=c.fixedTime,h=void 0!==j&&j,v=u.a.createElement(b,{key:Object(d.c)(),children:e,type:n,life:r,color:l,fixedTime:h,remove:function(){t.instance.setState({toasts:t.instance.state.toasts.filter((function(e){return e!==v}))})},callback:i});return this.instance.setState({toasts:[].concat(Object(a.a)(this.instance.state.toasts),[v])}),v}}]),n}(u.a.Component);v.ref=u.a.createRef()},function(e,t,n){"use strict";n.d(t,"e",(function(){return D})),n.d(t,"b",(function(){return A})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return L})),n.d(t,"a",(function(){return H}));var a=n(1),r=n.n(a),c=n(16),s=n(4),i=n(5),o=n(9),l=n(10),u=n(14),d=n(12),j=n(3),h=n(2),b=n.n(h),v=(n(96),n(45)),p=n(17),f=n(32),O=n(15),m=n(20),x=n(29),g=n(122),y=n(123),w=n(124),k=n(79),C=n(80),N=n(125),S=n(37),I=n(26),F=n(13),T=n(0);function D(e){H.push(e)}function A(){H.pop().catch(console.error.bind(console,"Failed to pop modal!"))}function E(e){return P.apply(this,arguments)}function P(){return(P=Object(j.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.navigator.clipboard.writeText(t);case 3:p.a.showToast(Object(T.jsxs)("span",{children:[Object(T.jsx)("b",{children:t.length>=100?t.substr(0,100)+"...":t})," copied to clipboard"]}),"Success"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),R({title:"Failed To Copy",description:"Your browser does not support copying to clipboard, you can manually copy here.",value:t});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function M(e){var t=e.image,n=e.setLoaded,a=e.setFailed,r=e.className,c=b.a.useState(!1),s=Object(d.a)(c,2),i=s[0],o=s[1],l={onLoad:function(){return null===n||void 0===n||n(!0),null===a||void 0===a||a(!1),o(!0)},onError:function(){return null===n||void 0===n||n(!0),null===a||void 0===a||a(!0),o(!0)}};return t?/\.webm$/.test(t.full)?Object(T.jsx)("video",Object(u.a)({src:t.full,controls:!0,loop:!0},l)):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("img",{src:t.preview,alt:"Preview failed to load",style:{display:i&&!r?"none":null},className:r}),!r&&Object(T.jsx)("img",Object(u.a)({src:t.full,alt:"Image failed to load",className:r,style:{display:i?null:"none"}},l))]}):null}function B(e){var t,n=e.url,a=e.getSources,r=e.buttons,c="function"===typeof a?a().filter((function(e){return e})):[n],s=(b.a.useRef(),b.a.useState(c.findIndex((function(e){return e.full===n})))),i=Object(d.a)(s,2),o=i[0],l=i[1];b.a.useEffect((function(){return I.a.set("modalState","open"),function(){return Date.now()-F.b>500&&window.history.back()}}),[]);var u=function(e){return c[o+e]?(E(!1),L(!1),function(e){var t;null===(t=document.querySelector('[src="'.concat(c[e].preview,'"]')))||void 0===t||t.scrollIntoView(),l(e)}(o+e)):p.a.showToast("No more images in this direction!","Failure")},j=b.a.useState(!0),h=Object(d.a)(j,2),v=h[0],f=h[1],D=b.a.useState(!1),A=Object(d.a)(D,2),E=(A[0],A[1]),P=b.a.useState(!1),B=Object(d.a)(P,2),L=(B[0],B[1]);return Object(S.a)("keydown",(function(e){switch(e.key){case"Escape":return H.pop();case"ArrowLeft":return u(-1);case"ArrowRight":return u(1)}}),{dependencies:[o]}),Object(T.jsxs)("div",{className:"ImageModal",onClick:function(e){return e.target===e.currentTarget&&H.pop()},children:[Object(T.jsxs)("div",{className:Object(O.d)("ImageContainer",[v,"Expanded"]),children:[Object(T.jsx)(M,{image:c[o-1],setLoaded:E,setFailed:L,className:"Previous"},Object(O.c)()),Object(T.jsx)(M,{image:c[o],setLoaded:E,setFailed:L},Object(O.c)()),Object(T.jsx)(M,{image:c[o+1],setLoaded:E,setFailed:L,className:"Next"},Object(O.c)())]}),Object(T.jsxs)("div",{className:"Footer",children:[Object(T.jsxs)("div",{className:Object(O.d)("Button Arrow Left",[!c.length||!o,"Disabled"]),onClick:function(){return u(-1)},children:[Object(T.jsx)(g.a,{}),Object(T.jsx)(m.a,{children:"Previous Image"})]}),Object(T.jsx)("div",{className:"Divider"}),null!==(t=null===r||void 0===r?void 0:r(o))&&void 0!==t?t:Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"Button",onClick:function(){return f(!v)},children:[v?Object(T.jsx)(y.a,{}):Object(T.jsx)(w.a,{}),Object(T.jsx)(m.a,{children:v?"Compress":"Expand"})]}),Object(T.jsxs)("div",{className:"Button",children:[Object(T.jsx)(k.a,{}),Object(T.jsx)(m.a,{children:"Copy URL"})]}),Object(T.jsxs)(x.a,{className:"Button",style:{display:"block",color:"white"},href:c[o].full,children:[Object(T.jsx)(C.a,{}),Object(T.jsx)(m.a,{children:"Open In New Tab"})]})]}),Object(T.jsx)("div",{className:"Divider"}),Object(T.jsxs)("div",{className:Object(O.d)("Button Arrow Right",[!c.length||o+1>=c.length,"Disabled"]),onClick:function(){return u(1)},children:[Object(T.jsx)(N.a,{}),Object(T.jsx)(m.a,{children:"Next Image"})]})]})]})}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};H.push(Object(T.jsx)(B,Object(u.a)({url:e,getSources:t},n)))}function R(){return U.apply(this,arguments)}function U(){return(U=Object(j.a)(r.a.mark((function e(){var t,n,a,c,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},n=t.async,a=void 0!==n&&n,e.next=4,new Promise((function(e){H.push(Object(T.jsx)(W,Object(u.a)({resolve:e},t)))}));case 4:return c=e.sent,!a&&H.pop(),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={stack:[],closing:[]},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){n.instance=this}},{key:"componentDidUpdate",value:function(e,t,n){document.documentElement.style.overflowY=this.state.stack.length?"hidden":null,document.documentElement.style.marginRight=this.state.stack.length?"5px":null}},{key:"handleBackdropClick",value:function(e){var t;if(e.target===e.currentTarget){var a=this.state.stack;if(a[a.length-1]&&"function"===typeof(null===(t=a[a.length-1].props)||void 0===t?void 0:t.onBackdropClick))return a[a.length-1].props.onBackdropClick();n.pop().catch(console.error.bind(console,"Failed to pop modal!"))}}},{key:"render",value:function(){var e=this,t=this.state,n=t.stack,a=t.closing;return Object(T.jsx)("div",{className:"ModalStack"+(n.length>a.length?" Active":""),children:n.map((function(t,r){return Object(T.jsx)(v.a,{children:Object(T.jsx)("div",{className:"ModalContainer"+(~a.indexOf(t)||r<n.length-1?" Closing":""),onMouseDown:e.handleBackdropClick.bind(e),style:{zIndex:10*r},children:t},r)})}))})}}],[{key:"push",value:function(e){this.instance.setState({stack:[].concat(Object(c.a)(this.instance.state.stack),[e])})}},{key:"pop",value:function(){var e=Object(j.a)(r.a.mark((function e(){var t,n,a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.instance.state,n=t.stack,a=t.closing,s=n[n.length-1],n.length&&s){e.next=4;break}return e.abrupt("return");case 4:return this.instance.setState({closing:[].concat(Object(c.a)(a),[s])}),e.next=7,new Promise((function(e){return setTimeout(e,150)}));case 7:this.instance.setState({stack:this.instance.state.stack.filter((function(e){return e!==s})),closing:this.instance.state.closing.filter((function(e){return e!==s}))});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(b.a.Component);function W(e){var t=e.title,n=void 0===t?"":t,a=e.description,r=void 0===a?"":a,c=e.yesText,s=void 0===c?"Confirm":c,i=e.noText,o=void 0===i?"Cancel":i,l=e.yesColor,u=void 0===l?"":l,j=e.noColor,h=void 0===j?"":j,v=e.value,p=void 0===v?"":v,O=e.onChange,m=void 0===O?null:O,x=(e.rich,e.resolve),g=e.id,y=b.a.useState(!1),w=Object(d.a)(y,2),k=w[0],C=w[1],N=b.a.useState(!1),S=Object(d.a)(N,2),I=S[0],F=S[1];return Object(T.jsxs)("div",{className:"StringModal PrimaryBg",children:[Object(T.jsx)("div",{className:"Title",dangerouslySetInnerHTML:{__html:n}}),Object(T.jsx)("div",{className:"Description",dangerouslySetInnerHTML:{__html:r}}),Object(T.jsx)("input",{id:g,className:"Field TertiaryBg",defaultValue:p,onChange:m}),Object(T.jsxs)("div",{className:"Footer",children:[Object(T.jsx)("div",{className:"Button TertiaryBg",onClick:function(){return x(null),C(!0)},style:{backgroundColor:h},children:k?Object(T.jsx)(f.a,{}):o}),Object(T.jsx)("div",{className:"Button TertiaryBg",onClick:function(){return x(document.getElementById(g).value),F(!0)},style:{backgroundColor:u},children:I?Object(T.jsx)(f.a,{}):s})]})]})}},function(e,t,n){"use strict";var a,r,c=n(1),s=n.n(c),i=n(3),o=n(14),l=n(4),u=n(5),d=n(40),j=n(64),h=n(13),b=n(17);t.a=new(a=Object(j.a)("voting"),r=Object(j.a)("favoriting"),function(){function e(){Object(l.a)(this,e),this.endpoint="https://e621.net/",this.lastMadeRequest=-500,Object.defineProperty(this,a,{writable:!0,value:{}}),Object.defineProperty(this,r,{writable:!0,value:{}})}return Object(u.a)(e,[{key:"loginData",get:function(){return{login:h.a.userData.username,api_key:h.a.userData.apiKey}}},{key:"getEndpoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this.loginData;a.login&&a.api_key||(a={});var r=new URLSearchParams(Object(o.a)(Object(o.a)(Object(o.a)({},a),t),{},{_client:"Sucralose/2.0 by Metalloriff"}));return"".concat(this.endpoint).concat(e).concat(n?".json?":"?").concat(r)}},{key:"request",value:function(){var e=Object(i.a)(s.a.mark((function e(t){var n,a,r,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.length>1&&void 0!==c[1]?c[1]:{},a=!(c.length>2&&void 0!==c[2])||c[2],r=c.length>3&&void 0!==c[3]?c[3]:{};case 3:if(!(Date.now()-this.lastMadeRequest<500)){e.next=8;break}return e.next=6,new Promise((function(e){return setTimeout(e,100)}));case 6:e.next=3;break;case 8:return this.lastMadeRequest=Date.now(),e.next=11,fetch(this.getEndpoint(t,n,a),r).then((function(e){return a?e.json():e}));case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"vote",value:function(){var e=Object(i.a)(s.a.mark((function e(t,n){var r=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.a.userData.username&&h.a.userData.apiKey){e.next=2;break}return e.abrupt("return",b.a.showToast("You must be logged into e621 to favorite posts","Failure"));case 2:if(!Object(d.a)(this,a)[a][t]){e.next=4;break}return e.abrupt("return",b.a.showToast("You're attempting to vote too quickly","Failure"));case 4:return Object(d.a)(this,a)[a][t]=!0,e.next=7,this.request("posts/".concat(t,"/votes"),{score:n,no_unvote:!1},!0,{method:"POST"}).then((function(e){return delete Object(d.a)(r,a)[a][t],e}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"favorite",value:function(){var e=Object(i.a)(s.a.mark((function e(t){var n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.a.userData.username&&h.a.userData.apiKey){e.next=2;break}return e.abrupt("return",b.a.showToast("You must be logged into e621 to favorite posts","Failure"));case 2:if(!Object(d.a)(this,r)[r][t]){e.next=4;break}return e.abrupt("return",b.a.showToast("You're attempting to favorite too quickly","Failure"));case 4:return Object(d.a)(this,r)[r][t]=!0,e.next=7,this.request("favorites",{post_id:t},!0,{method:"POST"}).then((function(e){return delete Object(d.a)(n,r)[r][t],e}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeFavorite",value:function(){var e=Object(i.a)(s.a.mark((function e(t){var n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.a.userData.username&&h.a.userData.apiKey){e.next=2;break}return e.abrupt("return",b.a.showToast("You must be logged into e621 to favorite posts!"));case 2:if(!Object(d.a)(this,r)[r][t]){e.next=4;break}return e.abrupt("return",b.a.showToast("You're attempting to favorite too quickly","Failure"));case 4:return Object(d.a)(this,r)[r][t]=!0,e.next=7,this.request("favorites/".concat(t,".json"),{},!1,{method:"DELETE"}).then((function(e){return delete Object(d.a)(n,r)[r][t],e}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(14);var a=n(12),r=n(2),c=n.n(r),s=(n(101),n(15)),i=(n(46),n(0));function o(e){var t=e.children,n=e.direction,r=void 0===n?"up":n,o=e.className,l=void 0===o?"":o,u=e.color,d=e.style,j=e.onClick,h=c.a.useState(!1),b=Object(a.a)(h,2),v=b[0],p=(b[1],c.a.useRef());return c.a.useEffect((function(){return p.current.parentElement.classList.add("HasTooltip"),function(){p.current&&p.current.parentElement.classList.remove("HasTooltip")}}),[t,r]),Object(i.jsxs)("div",{ref:p,className:Object(s.d)("TooltipContainer",r.toLowerCase(),[v,"Visible"],l),style:d,onClick:j,children:[Object(i.jsx)("div",{className:"Tooltip",style:{backgroundColor:u},children:t}),Object(i.jsx)("div",{className:"TooltipArrow",style:{backgroundColor:u}})]})}},,,function(e,t,n){"use strict";var a,r,c=n(1),s=n.n(c),i=n(12),o=n(3),l=n(39),u=n(14),d=n(4),j=n(5),h=n(9),b=n(10),v=n(2),p=n.n(v),f=n(46),O=n.n(f),m=(n(111),n.p+"static/media/Chevron.c3ee4024.svg"),x=n(45),g=n(0);var y=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).ref=Object(v.createRef)(),e.docClickEv=function(t){!e.ref.current||e.ref.current.contains(t.target)||document.getElementsByClassName("ContextMenu")[0].contains(t.target)||e.close()},e}return Object(j.a)(n,[{key:"close",value:function(){n.activeWrapper&&n.activeWrapper.setState({menu:null,open:!1})}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.docClickEv)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.docClickEv)}},{key:"render",value:function(){return Object(g.jsx)(x.a,{children:Object(g.jsx)("div",Object(u.a)(Object(u.a)({className:"ContextMenu"},this.props),{},{ref:this.ref,children:this.props.children}))})}}]),n}(p.a.Component);y.Handler=(r=a=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(g.jsx)(x.a,{children:Object(g.jsx)("div",{ref:y.Handler.ref,className:"ContextMenuWrapper MainContextMenuContainer"})})}}]),n}(p.a.Component),a.ref=Object(v.createRef)(),r),y.Wrapper=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={menu:null,open:!1},e.ref=Object(v.createRef)(),e.handleContextMenu=function(t){var n,a,r,c;if("function"===typeof t.preventDefault&&t.preventDefault(),y.activeWrapper){if(e.ref.current.contains(y.activeWrapper.ref.current)&&y.activeWrapper.props.menu!==e.props.menu)return;y.activeWrapper.setState({menu:null,open:!1})}y.activeWrapper=Object(l.a)(e);for(var s=(null===(n=(a=e.props.menu.props).overrideY)||void 0===n?void 0:n.call(a))||t.clientY,i=(null===(r=(c=e.props.menu.props).overrideX)||void 0===r?void 0:r.call(c))||t.clientX;i+200>window.innerWidth;)i-=10;e.setState({menu:O.a.createPortal(Object(g.jsx)("div",Object(u.a)(Object(u.a)({className:"ContextMenuContainer SecondaryBg"},e.publicProps),{},{style:{position:"fixed",top:s,left:i},children:e.props.menu})),y.Handler.ref.current),open:!0})},e}return Object(j.a)(n,[{key:"publicProps",get:function(){return function(e){for(var t=Object.assign({},e),n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];for(var c=0,s=a;c<s.length;c++){delete t[s[c]]}return t}(this.props,"menu","openOnClick","wrapperClassName","overrideX","overrideY")}},{key:"componentDidUpdate",value:function(){var e=Object(o.a)(s.a.mark((function e(t,n,a){var r,c,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.activeWrapper!==this||this.state.open||(y.activeWrapper=null),this.state.open&&this.ref.current&&(r=document.getElementsByClassName("ContextMenuContainer"),c=Object(i.a)(r,1),o=c[0],l=o.getBoundingClientRect(),o.style.transform=l.y+l.height>window.innerHeight?"translateY(".concat(window.innerHeight-(l.y+l.height)-20,"px)"):null);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.menu?Object(g.jsx)(x.a,{children:Object(g.jsxs)("div",Object(u.a)(Object(u.a)({ref:this.ref,className:"ContextMenuWrapper "+(this.props.wrapperClassName||""),onClick:this.props.openOnClick?function(t){"function"!==typeof t.target.onClick&&e.handleContextMenu(e.props.openOnClick())}:null},this.publicProps),{},{onContextMenu:this.handleContextMenu,children:[this.props.children,Object(g.jsx)(x.a,{children:this.state.open?this.state.menu:null})]}))}):this.props.children}}]),n}(p.a.Component),y.Item=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(t){t.preventDefault(),t.stopPropagation(),y.activeWrapper&&e.props.autoClose&&y.activeWrapper.setState({menu:null,open:!1}),e.props.onClick&&e.props.onClick(Object(l.a)(e))},e}return Object(j.a)(n,[{key:"render",value:function(){var e=Object.assign({},this.props);return delete e.autoClose,delete e.icon,Object(g.jsxs)("div",Object(u.a)(Object(u.a)({className:"ContextMenuItem"},e),{},{onClick:this.handleClick,children:[this.props.icon,this.props.children]}))}}]),n}(p.a.Component),y.SubMenuItem=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e.handleMouseEnter=function(){e.setState({open:!0})},e.handleMouseLeave=function(){e.setState({open:!1})},e.handleClick=function(t){t.target===t.currentTarget&&(y.activeWrapper&&e.props.autoClose&&y.activeWrapper.setState({menu:null,open:!1}),e.props.onClick&&e.props.onClick(Object(l.a)(e)))},e}return Object(j.a)(n,[{key:"mount",value:function(e){if(e){var t=e.getBoundingClientRect();e.style.transform=t.y+t.height>window.innerHeight?"translateY(".concat(window.innerHeight-(t.y+t.height)-20,"px)"):null,t.x+t.width>window.innerWidth&&(e.style.left="unset",e.style.right="100%")}}},{key:"render",value:function(){var e=Object.assign({},this.props);return delete e.autoClose,delete e.label,delete e.icon,Object(g.jsxs)("div",Object(u.a)(Object(u.a)({className:"ContextMenuItem HasSubMenu"},e),{},{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:[this.props.icon,this.props.label," ",Object(g.jsx)("img",{className:"ContextSubMenuChevron",src:m}),this.state.open?Object(g.jsx)("div",{className:"ContextMenuContainer SubMenuContainer SecondaryBg",ref:this.mount,children:Object(g.jsx)("div",{className:"ContextMenu SubMenu",children:this.props.children})}):null]}))}}]),n}(p.a.Component),y.ToggleItem=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={checked:!1},e.callback=function(){y.activeWrapper&&e.props.autoClose&&y.activeWrapper.setState({menu:null,open:!1});var t=!e.state.checked;e.props.callback&&e.props.callback(t),e.setState({checked:t})},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.setState({checked:this.props.checked})}},{key:"render",value:function(){var e=Object.assign({},this.props);return delete e.autoClose,delete e.callback,Object(g.jsxs)("div",Object(u.a)(Object(u.a)({className:"ContextMenuItem ToggleItem"},e),{},{onClick:this.callback,children:[Object(g.jsx)("div",{className:"ToggleBox"+(this.state.checked?" Checked":""),children:this.state.checked?Object(g.jsx)("div",{className:"ToggleBoxTick"}):null}),this.props.children]}))}}]),n}(p.a.Component),y.Divider=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",Object(u.a)({className:"ContextMenuDivider"},this.props))}}]),n}(p.a.Component);t.a=y},,,function(e,t,n){"use strict";var a=n(4),r=n(5);t.a=new(function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,[{key:"query",get:function(){return Object.fromEntries(new URLSearchParams(window.location.search))}},{key:"get",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!==(t=this.query[e])&&void 0!==t?t:n}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.pushHistory,r=void 0===a||a,c=new URLSearchParams(window.location.search);null===t?c.delete(e):c.set(e,t);var s=window.location.href.replace(window.location.search,"?"+c.toString());window.history[r?"pushState":"replaceState"]({},null,s),window.dispatchEvent(new Event("popstate"))}}]),e}())},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(14),r=n(4),c=n(5),s=n(9),i=n(10),o=n(2),l=n.n(o),u=(n(102),n(0)),d=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(u.jsx)("a",Object(a.a)(Object(a.a)({className:"LinkWrapper"},this.props),{},{children:this.props.children}))}}]),n}(l.a.Component)},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var a=n(16),r=n(12),c=n(2),s=n.n(c),i=(n(108),n(19)),o=n(15),l=n(32),u=n(72),d=n(37),j=n(26),h=n(61),b=n(13),v=n(24),p=n.n(v),f=n(0),O=Date.now(),m=!1;function x(t){var n=t.search,c=t.emptyPlaceholder,v=void 0===c?null:c,g=t.request,y=void 0===g?null:g,w=s.a.useState([]),k=Object(r.a)(w,2),C=k[0],N=k[1],S=s.a.useState(!0),I=Object(r.a)(S,2),F=I[0],T=I[1],D=s.a.useState(""),A=Object(r.a)(D,2),E=A[0],P=A[1],M=s.a.useState(window.location.hash),B=Object(r.a)(M,2),L=B[0],R=B[1],U=s.a.useState(y),H=Object(r.a)(U,2),W=H[0],Y=H[1];return x.instance={posts:C,setPosts:N,isFetching:F,setFetchingState:T},s.a.useEffect((function(){var t,r,c,s=new URLSearchParams(window.location.search),o=parseInt(s.get("page")||1),l=[null===(t=document.getElementById("searchField"))||void 0===t?void 0:t.value,n].concat(Object(a.a)((null!==(r=null===(c=b.a.userData)||void 0===c?void 0:c.blacklist)&&void 0!==r?r:[]).map((function(e){return"-".concat(e)})))).join(" ");W!==y&&(T(!0),Y(y)),F&&e((function(){var e,t;y&&!y[1].page&&(y[1].page=o),y&&!y[1].tags&&(y[1].tags=l);var r="posts",c={tags:l,page:o};n!=="favoritedby:".concat(null===(e=b.a.e621User)||void 0===e?void 0:e.name)||(null===(t=document.getElementById("searchField"))||void 0===t?void 0:t.value)||(r="favorites",delete c.tags);var s=null!==y&&void 0!==y?y:[r,c];if(p.a.isEqual(x.lastSuccessfulRequest,s)&&x.lastHash===window.location.hash)return T(!1);i.a.request.apply(i.a,Object(a.a)(s)).then((function(e){T(!1),m=!1,o>1&&!e.posts.length?(j.a.set("page",o-1,{pushHistory:!1}),m=!0):x.lastSuccessfulRequest=s;var t=l!==E||window.location.hash!==L||y?e.posts:[].concat(Object(a.a)(C),Object(a.a)(e.posts));N(t.filter((function(e,n){return t.findIndex((function(t){return t&&t.id===e.id}))===n}))),P(l),R(window.location.hash)}))}))}),[F,y]),Object(d.a)("scroll",(function(){if(!(Date.now()-O<2e3||F||!(null===C||void 0===C?void 0:C.length)||m)){var e=document.documentElement;e.scrollTop>=e.scrollHeight-window.innerHeight-100&&(j.a.set("page",parseInt(j.a.get("page",1))+1,{pushHistory:!1}),O=Date.now())}}),{dependencies:[F,C,y,m]}),Object(f.jsxs)("div",{className:"Posts",children:[Object(f.jsx)("h2",{className:"PageLabel",children:b.a.hash}),!F&&!(null===C||void 0===C?void 0:C.length)&&Object(f.jsxs)("div",{className:"NoPosts",children:[Object(f.jsx)("div",{className:"Placeholder",children:null!==v&&void 0!==v?v:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{children:"No posts found."}),Object(f.jsx)("div",{children:"Check your search tags, and ensure you've made no typos."})]})}),Object(f.jsx)(h.a,{})]}),Object(f.jsx)("div",{className:"Items",children:null===C||void 0===C?void 0:C.map((function(e){return Object(f.jsx)(u.a,{post:e},e.id)}))}),m&&Object(f.jsxs)("div",{className:"ReachedEndPlaceholder FlexCenter",children:[Object(f.jsx)("h2",{children:"You've reached the end of your search."}),Object(f.jsx)(h.a,{})]}),Object(f.jsx)("div",{className:Object(o.d)("FetchingStateModal",[F,"Active"]),children:Object(f.jsx)(l.a,{})})]})}}).call(this,n(63).setImmediate)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(2),n(100);var a=n(0);function r(){return Object(a.jsxs)("div",{className:"InlineLoadingContainer",children:[Object(a.jsx)("div",{className:"Dot A"}),Object(a.jsx)("div",{className:"Dot B"}),Object(a.jsx)("div",{className:"Dot C"})]})}},function(e,t,n){"use strict";var a=n(1),r=n.n(a),c=n(14),s=n(3),i=n(4),o=n(5),l=n(73),u=n(44),d=n(43),j={apiKey:"AIzaSyDmojC5Kl5vtST4vIyW81UfCrR6B18HnKw",authDomain:"sucralose-74a13.firebaseapp.com",projectId:"sucralose-74a13",storageBucket:"sucralose-74a13.appspot.com",messagingSenderId:"43887129209",appId:"1:43887129209:web:7d607e00a979144af85aa8"};t.a=new(function(){function e(){Object(i.a)(this,e),this.app=Object(l.a)(j),this.auth=Object(u.b)(),this.db=Object(d.c)()}return Object(o.a)(e,[{key:"get",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,n,a,s,i,o=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,n=new Array(t),a=0;a<t;a++)n[a]=o[a];return s=d.a.apply(void 0,[this.db].concat(n)),e.next=4,Object(d.b)(s);case 4:if((i=e.sent).exists()){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",Object(c.a)({_ref:s,_snapshot:i,id:i.id},i.data()));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serializeObject",value:function(e){var t=Object(c.a)({},e);return delete t._ref,delete t._snapshot,delete t.id,t}},{key:"set",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a,c,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=s.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=s[c];return e.next=3,Object(d.d)(d.a.apply(void 0,[this.db].concat(a)),this.serializeObject(t)).catch((function(e){return console.error('Error setting doc data at "'.concat(a.join("/"),'"\n').concat(e.stack))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a,c,s=this,i=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=i.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=i[c];return e.next=3,Object(d.e)(d.a.apply(void 0,[this.db].concat(a)),this.serializeObject(t)).catch((function(){return s.set.apply(s,[t].concat(a))})).catch((function(e){return console.error('Error updating doc data at "'.concat(a.join("/"),'"\n').concat(e.stack))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())},,,function(e,t,n){"use strict";n.d(t,"c",(function(){return I})),n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return A}));var a=n(1),r=n.n(a),c=n(3),s=n(4),i=n(5),o=n(12),l=n(2),u=n.n(l),d=(n(112),n(38)),j=n(18),h=n(51),b=n(17),v=n(33),p=n(13),f=n(24),O=n.n(f),m=n(150),x=n.p+"static/media/0.e687b5f9.png",g=n.p+"static/media/1.cde179fe.png",y=n.p+"static/media/2.c54309b2.png",w=n(20),k=n(15),C=n(0);function N(){return Object(C.jsxs)(h.a,{children:[Object(C.jsxs)("h3",{children:["Your API key is ",Object(C.jsx)("b",{style:{color:"var(--red)"},children:"NOT"})," your pasword."]}),Object(C.jsx)("h4",{children:"It is used to interface with the e621 API, safely and securely;"}),Object(C.jsx)("h4",{children:"however, you should refrain from revealing this API key to anyone, as it gives them access to all of your content, and the ability to post and vote as you."}),Object(C.jsx)("h4",{children:"If you do not trust Sucralose, all of the source is available on GitHub, I recommend and encourage you to view and analyze the source code."}),Object(C.jsxs)("p",{children:["That being said, you may gain access to your API key by navigating to ",Object(C.jsx)("a",{href:"https://e621.net/users/home",children:"https://e621.net/users/home"})," and following the steps below."]}),Object(C.jsxs)("p",{style:{marginTop:50},children:[Object(C.jsx)("h2",{children:"Step 1"}),"After navigating to your home page (and signing in if necessary), you'll want to navigate to ",Object(C.jsx)("b",{children:"Manage API Access"}),"."]}),Object(C.jsx)("img",{src:x,alt:"Help"}),Object(C.jsxs)("p",{style:{marginTop:50},children:[Object(C.jsx)("h2",{children:"Step 2"}),"Enter your password, and press ",Object(C.jsx)("b",{children:"Submit"}),"."]}),Object(C.jsx)("img",{src:g,alt:"Help"}),Object(C.jsxs)("p",{style:{marginTop:50},children:[Object(C.jsx)("h2",{children:"Step 3"}),"Copy the text under ",Object(C.jsx)("b",{children:"API Key"})," to your clipboard."]}),Object(C.jsx)("img",{src:y,alt:"Help"}),Object(C.jsxs)("p",{style:{marginTop:50},children:[Object(C.jsx)("h2",{children:"Step 4, Final"}),"Now that you have the API key, simple enter your username and API key into their respective fields in Sucralose."]})]})}function S(){var e={saveUsername:function(e){var t,n=e.target;if(n.value.trim()!==(null===(t=p.a.userData)||void 0===t?void 0:t.username))return n.length>36?b.a.showToast("Username is too long","Failure"):void v.a.update({username:n.value},"users",p.a.user.uid).then((function(){b.a.showToast("Username updated","Success"),O.a.merge(p.a.userData,{username:n.value})}))},saveApiKey:function(e){var t,n=e.target;if(n.value.trim()!==(null===(t=p.a.userData)||void 0===t?void 0:t.apiKey))return n.length>36?b.a.showToast("Invalid API key","Failure"):void v.a.update({apiKey:n.value},"users",p.a.user.uid).then((function(){b.a.showToast("API key updated","Success"),O.a.merge(p.a.userData,{apiKey:n.value})}))}};return p.a.user&&p.a.userReady?Object(C.jsxs)("div",{className:"Section ApiKey",children:[Object(C.jsx)("h1",{children:"E621 API Key"}),Object(C.jsx)("u",{onClick:function(){return j.a.push(Object(C.jsx)(N,{}))},children:"What's this?"}),Object(C.jsx)("div",{className:"FieldContainer",children:Object(C.jsx)("input",{className:"Field",placeholder:"Username",defaultValue:p.a.userData.username,onBlur:e.saveUsername})}),Object(C.jsx)("div",{className:"FieldContainer",children:Object(C.jsx)("input",{className:"Field Confidential",placeholder:"API Key",defaultValue:p.a.userData.apiKey,onBlur:e.saveApiKey})})]}):null}function I(){var e=O.a.debounce((function(){return A.forceUpdate()}),200),t=O.a.debounce(F.save.bind(F),2e3),n=u.a.useReducer((function(e){return e+1}),0),a=Object(o.a)(n,2)[1];return I.forceUpdate=a,Object(C.jsxs)("div",{className:"SettingsPage",children:[Object(C.jsx)(d.a,{hasSearch:!1}),Object(C.jsx)(S,{}),Object.entries(F.props).map((function(n){var a=Object(o.a)(n,2),r=a[0],c=a[1];return Object(C.jsxs)("div",{className:"Section",children:[Object(C.jsx)("h1",{children:T(r)}),Object.entries(c).map((function(n){var a=Object(o.a)(n,2),c=a[0],s=a[1];return Object(C.jsx)(D,{name:c,setting:s,resetValue:F.defaults[r][c].value,callback:function(n){return F.props[r][c].value=n,t(),e()}},Object(k.c)())}))]},r)}))]})}var F=new(function(){function e(){Object(s.a)(this,e),this.defaults={accentColors:{primary:{type:"color",value:"#7bb1bd"},secondary:{type:"color",value:"#BD7BA2"}},backgroundColors:{primary:{type:"color",value:"#2c3946"},secondary:{type:"color",value:"#364758"},tertiary:{type:"color",value:"#364758"}},backgroundImage:{url:{type:"string",value:"",placeholder:"Example - https://c.tenor.com/Z6gmDPeM6dgAAAAC/dance-moves.gif"},brightness:{type:"slider",min:0,max:100,step:1,value:100},blur:{type:"slider",min:0,max:25,step:.5,value:0},positionX:{type:"slider",min:0,max:100,step:1,value:50},positionY:{type:"slider",min:0,max:100,step:1,value:50}}},this.props=O.a.merge({},this.defaults)}return Object(i.a)(e,[{key:"save",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.a.merge(null===(t=p.a.userData)||void 0===t?void 0:t.settings,this.props),e.next=3,v.a.update(p.a.userData,"users",p.a.user.uid).then((function(){return b.a.showToast("Settings updated on the database")})).catch((function(e){return console.error(e),b.a.showToast("An unknown error occurred while saving settings","Failure")}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}());function T(e){var t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}function D(e){var t=e.name,n=e.setting,a=e.resetValue,r=e.callback,c=u.a.useState(n.value),s=Object(o.a)(c,2),i=s[0],l=s[1],d=u.a.useRef(),j=u.a.useRef(),h=function(e){null===r||void 0===r||r(e),l(e),d.current&&(d.current.value=e),j.current&&(j.current.value=e)},b=i!==a&&Object(C.jsxs)("div",{className:"ResetButton",onClick:function(){return h(a)},children:[Object(C.jsx)(m.a,{}),Object(C.jsx)(w.a,{children:"Reset To Default"})]});switch(n.type){default:return null;case"color":return Object(C.jsxs)("div",{className:"FieldContainer",children:[Object(C.jsx)("h4",{className:"FieldTitle",children:T(t)}),Object(C.jsxs)("div",{className:"Flex",style:{alignItems:"center"},children:[Object(C.jsx)("input",{className:"ColorPicker",defaultValue:i,type:"color",ref:d,onInput:function(e){return h(e.currentTarget.value)}}),Object(C.jsx)("input",{className:"Field ColorField",defaultValue:i,ref:j,style:{borderColor:i},maxLength:64,onInput:function(e){return h(e.currentTarget.value)}}),b]})]});case"string":return Object(C.jsxs)("div",{className:"FieldContainer",children:[Object(C.jsx)("h4",{className:"FieldTitle",children:T(t)}),Object(C.jsx)("div",{className:"Flex",style:{alignItems:"center"},children:Object(C.jsx)("input",{className:"Field",defaultValue:i,placeholder:n.placeholder,ref:j,maxLength:128,onInput:function(e){return h(e.currentTarget.value)}})})]});case"slider":return Object(C.jsxs)("div",{className:"FieldContainer",children:[Object(C.jsxs)("h4",{className:"FieldTitle",children:[T(t)," - ",i]}),Object(C.jsxs)("div",{className:"Flex",style:{alignItems:"center"},children:[Object(C.jsx)("input",{className:"Field ColorField",defaultValue:i,type:"range",ref:j,onInput:function(e){return h(e.currentTarget.value)},min:n.min,max:n.max}),b]})]})}}function A(){var e,t,n,a,r=u.a.useReducer((function(e){return e+1}),0),c=Object(o.a)(r,2)[1];A.forceUpdate=c;var s=F.props;return Object(C.jsxs)("style",{children:["\n            \n\t\t\t:root {\n\t\t\t\t--primary-color: ".concat(s.accentColors.primary.value,";\n\t\t\t\t--secondary-color: ").concat(s.accentColors.secondary.value,";\n\t\t\t\t\n\t\t\t\t--primary-bg: ").concat(s.backgroundColors.primary.value,";\n\t\t\t\t--secondary-bg: ").concat(s.backgroundColors.secondary.value,";\n\t\t\t\t--tertiary-bg: ").concat(s.backgroundColors.tertiary.value,";\n\t\t\t}\n\t\t\t\n\t\t\t"),!!(null===(e=s.backgroundImage)||void 0===e||null===(t=e.url)||void 0===t||null===(n=t.value)||void 0===n||null===(a=n.trim)||void 0===a?void 0:a.call(n))&&'\n                .AppBackground {\n                    background-image: url("'.concat(s.backgroundImage.url.value,'");\n                    background-position: ').concat(s.backgroundImage.positionX.value,"%\n                                         ").concat(s.backgroundImage.positionY.value,"%;\n                    \n                    filter: blur(").concat(s.backgroundImage.blur.value||0,"px)\n                            brightness(").concat(s.backgroundImage.brightness.value,"%);\n                            \n                    opacity: 1;\n                }\n                \n                footer {\n                    backdrop-filter: blur(7px);\n                }\n                \n                .SearchFieldContainer.Focused:After {\n                    background-color: rgba(0,0,0, 0.2);\n                    backdrop-filter: blur(5px);\n                }\n            ")]})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s}));n(12);var a=n(2),r=n.n(a);n(13);function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];r.a.useEffect((function(){var a=setInterval(e,t);return n&&e(),function(){return clearInterval(a)}}),a)}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.target,c=void 0===a?document:a,s=n.dependencies,i=void 0===s?[]:s,o=n.init,l=void 0!==o&&o;r.a.useEffect((function(){return c.addEventListener(e,t),l&&t(),function(){return c.removeEventListener(e,t)}}),i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(2),n(113);var a=n(42),r=n(57),c=n(0);function s(e){var t=e.searchPlaceholder,n=void 0===t?null:t,s=e.hasSearch,i=void 0===s||s;return Object(c.jsx)("div",{className:"Header",children:Object(c.jsxs)("div",{children:[i&&Object(c.jsx)(a.a,{placeholder:n}),Object(c.jsx)(r.a,{className:"NavigationButtons",tooltipMode:!0})]})})}},,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return T}));var a=n(14),r=n(16),c=n(1),s=n.n(c),i=n(3),o=n(12),l=n(2),u=n.n(l),d=(n(106),n(133)),j=n(134),h=n(135),b=n(136),v=n(137),p=n(138),f=n(139),O=n(140),m=n(141),x=n(15),g=n(24),y=n.n(g),w=n(19),k=n(32),C=n(20),N=n(31),S=n(48),I=n(0),F={0:{icon:Object(I.jsx)(d.a,{}),tooltip:"General"},1:{icon:Object(I.jsx)(j.a,{}),tooltip:"Artist"},3:{icon:Object(I.jsx)(h.a,{}),tooltip:"Copyright"},4:{icon:Object(I.jsx)(b.a,{}),tooltip:"Character"},5:{icon:Object(I.jsx)(v.a,{}),tooltip:"Species"},6:{icon:Object(I.jsx)(p.a,{}),tooltip:"Invalid"},7:{icon:Object(I.jsx)(f.a,{}),tooltip:"Meta"},8:{icon:Object(I.jsx)(O.a,{}),tooltip:"Lore"}};function T(t){var n=this,c=t.placeholder,l=void 0===c?"Search...":c,d=u.a.useState(!1),j=Object(o.a)(d,2),h=j[0],b=j[1],v=u.a.useState([]),p=Object(o.a)(v,2),f=p[0],O=p[1],g=u.a.useRef(),D=new URLSearchParams(window.location.search).get("search");function A(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n&&(g.current.value=n),N.a.lastSuccessfulRequest=null;var a=new URLSearchParams(window.location.search);a.set("search",g.current.value),a.delete("page"),window.history.pushState({},null,"?".concat(a.toString()).concat(window.location.hash||"#posts")),null===(e=N.a.instance)||void 0===e||e.setPosts([]),null===(t=S.b.instances)||void 0===t||t.forEach((function(e){return e.setSets([])})),window.dispatchEvent(new Event("popstate"))}T.value=D,T.handleSearch=A;var E=u.a.useMemo((function(){return{onFocus:function(){return b(!0)},onBlur:function(){return b(!1)},onKeyDown:function(e){return"Enter"===e.key&&A()},onInput:y.a.debounce(function(){var e=Object(i.a)(s.a.mark((function e(t){var n,a,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.value,T.value=a,(r=a.split(/\s/).slice(-1)[0].replace(/[-~*]/g,"")).trim()){e.next=5;break}return e.abrupt("return",O([]));case 5:return O([null]),e.next=8,w.a.request("tags/autocomplete",{"search[name_matches]":r});case 8:c=e.sent,O(null!==(n=null===c||void 0===c?void 0:c.tags)&&void 0!==n?n:c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),200)}}),[]);function P(t){g.current.value=[].concat(Object(r.a)(g.current.value.split(/\s/).slice(0,-1)),[t.name,""]).join(" "),O([]),e((function(){g.current.selectionStart=g.current.selectionEnd=g.current.value.length,g.current.focus()}))}return Object(I.jsxs)("div",{className:Object(x.d)("SearchFieldContainer",[h,"Focused"]),children:[Object(I.jsx)("input",Object(a.a)(Object(a.a)({className:"SearchField"},E),{},{ref:g,id:"searchField",autoCorrect:"false",defaultValue:D,autoComplete:"off",placeholder:l})),Object(I.jsx)(m.a,{className:"Button",onClick:A.bind(null,null)}),Object(I.jsx)("div",{className:"AutoCompleteContainer",children:f.map((function(e){var t;return null===e?Object(I.jsx)("div",{className:"AutoCompleteEntry",style:{padding:10},children:Object(I.jsx)(k.a,{},Date.now().toString(36))}):(e.categoryIcon=null!==(t=F[e.category])&&void 0!==t?t:F[0],Object(I.jsxs)("div",{className:"AutoCompleteEntry",onMouseDown:P.bind(n,e),children:[Object(I.jsxs)("div",{className:"IconContainer",children:[e.categoryIcon.icon,Object(I.jsx)(C.a,{children:e.categoryIcon.tooltip})]}),e.antecedent_name?Object(I.jsxs)("div",{className:"Title",children:[e.name," ",Object(I.jsxs)("span",{style:{opacity:.75},children:["(",e.antecedent_name,")"]})]}):Object(I.jsx)("span",{className:"Title",children:e.name}),Object(I.jsxs)("span",{className:"PostCount",children:[e.post_count," posts"]})]},e.id))}))})]})}}).call(this,n(63).setImmediate)},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(4),r=n(5),c=n(9),s=n(10),i=n(2),o=n.n(i),l=(n(97),n(18)),u=n(0),d=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={error:null,errorInfo:null,moreInfo:!1},r}return Object(r.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"showErrorInfo",value:function(){var e=this.state,t=e.error,n=e.errorInfo;Object(l.e)(Object(u.jsxs)("div",{className:"ErrorInfoModal PrimaryBg",onClick:function(){return Object(l.b)()},children:[Object(u.jsx)("h1",{children:t.message}),n.componentStack.split("\n").slice(0,10).map((function(e,t){return Object(u.jsx)("h2",{children:e},t)}))]}))}},{key:"renderError",value:function(){var e=this;this.state.moreInfo;return Object(u.jsxs)("div",{className:"ErrorBoundaryHandler",children:[Object(u.jsx)("h1",{children:"There was an error with this component!"}),Object(u.jsx)("h2",{children:"This is due to a plugin error or application error."}),Object(u.jsxs)("div",{className:"ErrorBoundaryFooter",children:[Object(u.jsx)("div",{className:"ErrorBoundaryButton TertiaryBg",onClick:function(){return e.showErrorInfo()},children:"More Info"}),Object(u.jsx)("div",{className:"ErrorBoundaryButton BackgroundDanger",onClick:function(){return e.setState({error:null})},children:"Retry"})]})]})}},{key:"render",value:function(){return this.state.error?this.renderError():this.props.children}}]),n}(o.a.Component)},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return g}));var a=n(16),r=n(14),c=n(12),s=n(2),i=n.n(s),o=(n(115),n(19)),l=n(26),u=n(37),d=n(38),j=n(61),h=n(15),b=n(32),v=n(29),p=n(60),f=n(13),O=n(0),m=Date.now();function x(e){var t=e.options,n=void 0===t?{}:t,s=i.a.useState([]),d=Object(c.a)(s,2),p=d[0],f=d[1],g=i.a.useState(!0),y=Object(c.a)(g,2),w=y[0],k=y[1],C=i.a.useState(""),N=Object(c.a)(C,2),S=N[0],I=N[1],F=i.a.useState(window.location.hash),T=Object(c.a)(F,2),D=T[0],A=T[1];return i.a.useEffect((function(){x.instances||(x.instances=[]);var e=x.instances.push({sets:p,setSets:f,isFetching:w,setFetchingState:k}),t=l.a.get("page")||1,c=document.getElementById("searchField").value;return o.a.request("post_sets",Object(r.a)({commit:"Search",page:t,"search[order]":"update","search[name]":"*".concat(c,"*")},n)).then((function(e){if(k(!1),Array.isArray(e)){var t=c===S&&window.location.hash===D?[].concat(Object(a.a)(p),Object(a.a)(e)):e;f(t.filter((function(e,n){return t.findIndex((function(t){return t&&t.id===e.id}))===n}))),I(c),A(window.location.hash)}})),function(){x.instances.splice(e,1)}}),[w]),Object(u.a)("scroll",(function(){if(!(Date.now()-m<2e3||w)&&(null===p||void 0===p?void 0:p.length)){var e=document.documentElement;e.scrollTop>=e.scrollHeight-window.innerHeight-100&&(l.a.set("page",parseInt(l.a.get("page",1))+1,{pushHistory:!1}),m=Date.now())}}),{dependencies:[w,p]}),Object(O.jsxs)("div",{className:"Sets",children:[!w&&!(null===p||void 0===p?void 0:p.length)&&Object(O.jsxs)("div",{className:"NoSets",children:[Object(O.jsxs)("div",{className:"Placeholder",children:[Object(O.jsx)("h2",{children:"No sets found."}),Object(O.jsx)("div",{children:"Check your search tags, and ensure you've made no typos."})]}),Object(O.jsx)(j.a,{})]}),Object(O.jsx)("div",{className:"Items",children:null===p||void 0===p?void 0:p.map((function(e){return Object(O.jsx)(v.a,{href:"?search=set:".concat(e.shortname,"#posts"),children:Object(O.jsxs)("div",{className:"PostSet",children:[Object(O.jsxs)("div",{className:"Head",children:[Object(O.jsx)("div",{className:"Title",children:e.name}),Object(O.jsxs)("div",{className:"ShortName",children:["ID - ",e.shortname," | ",e.id]})]}),e.description&&Object(O.jsx)("div",{className:"Description",children:e.description})]})},e.id)}))}),Object(O.jsx)("div",{className:Object(h.d)("FetchingStateModal",[w,"Active"]),children:Object(O.jsx)(b.a,{})})]})}function g(){var e;return Object(O.jsxs)("div",{className:"SetsPage",children:[Object(O.jsx)(d.a,{searchPlaceholder:"Search sets..."}),Object(O.jsxs)(p.a,{tabs:["All","Owned","Subscribed"],children:[Object(O.jsx)(x,{}),Object(O.jsx)(x,{options:{"search[creator_name]":null===(e=f.a.userData)||void 0===e?void 0:e.username}}),Object(O.jsxs)("div",{className:"NoSets",children:[Object(O.jsxs)("div",{className:"Placeholder",children:[Object(O.jsx)("h2",{children:"Not yet added."}),Object(O.jsx)("div",{children:"This feature isn't yet available."}),Object(O.jsxs)("div",{children:["However, you can navigate to ",Object(O.jsx)("a",{href:"#subscriptions",children:"#subscriptions"})," and search ",Object(O.jsx)("b",{children:"set:*"})]}),Object(O.jsx)("div",{children:"This will display all subscribed set posts."})]}),Object(O.jsx)(j.a,{})]})]})]})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(2),n(70);var a=n(31),r=n(38),c=n(13),s=n(0);function i(e){var t=e.search,n=e.searchPlaceholder,i=e.emptyPlaceholder,o=void 0===i?null:i;return Object(s.jsxs)("div",{className:"PostsPage",children:[Object(s.jsx)(r.a,{searchPlaceholder:n}),c.a.userReady&&Object(s.jsx)(a.a,{search:t,emptyPlaceholder:o})]})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(2),n(114);var a=n(83),r=n(18),c=n(0);function s(e){var t=e.children,n=e.title,s=void 0===n?"Help":n;return Object(c.jsxs)("div",{className:"TutorialModal",children:[Object(c.jsxs)("div",{className:"ModalHeader",children:[Object(c.jsx)("h2",{children:s}),Object(c.jsx)(a.a,{onClick:r.a.pop.bind(r.a)})]}),Object(c.jsx)("div",{className:"ModalBody",children:t})]})}},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return w}));n(2),n(105);var a=n(42),r=n(142),c=n(143),s=n(144),i=n(86),o=n(82),l=n(67),u=n(66),d=n(145),j=n(146),h=n(29),b=n(20),v=n(15),p=n(13),f=n(51),O=n(18),m=n(0),x={posts:{icon:Object(m.jsx)(r.a,{}),title:"Latest Posts"},hot:{icon:Object(m.jsx)(c.a,{}),title:"Hot Posts"},popular:{icon:Object(m.jsx)(s.a,{}),title:"Popular Posts"},sets:{icon:Object(m.jsx)(i.a,{}),title:"Browse Sets"},subscriptions:{icon:Object(m.jsx)(o.a,{}),title:"Subscriptions"},favorites:{icon:Object(m.jsx)(l.a,{}),title:"Favorites"},upvoted:{icon:Object(m.jsx)(u.a,{}),title:"Upvoted Posts"},settings:{icon:Object(m.jsx)(d.a,{}),title:"Settings"}},g=[{date:"09/09/2021",title:"Welcome to the new Sucralose!",modal:function(){return Object(m.jsxs)(f.a,{title:this.title,children:[Object(m.jsx)("h2",{children:"What's different?"}),Object(m.jsx)("p",{children:"I've re-built the site from the ground up, with better code, performance, and most importantly, better device support."}),Object(m.jsxs)("p",{children:["Some of the new features include the following:",Object(m.jsxs)("ul",{children:[Object(m.jsxs)("li",{children:[Object(m.jsx)("div",{children:Object(m.jsx)("b",{children:"Database!"})}),"I've added a Firebase database to the site, which will let you create an account and sync your data between devices and browsers."]}),Object(m.jsx)("br",{}),Object(m.jsxs)("li",{children:[Object(m.jsx)("div",{children:Object(m.jsx)("b",{children:"Mobile support"})}),"Mobile support was pretty bad in the previous release, but this version was started with mobile in mind."]}),Object(m.jsx)("br",{}),Object(m.jsxs)("li",{children:[Object(m.jsx)("div",{children:Object(m.jsx)("b",{children:"Better UI/UX"})}),"This is of course an opinional thing, but the user interface and user experience has been redesigned for a friendlier experience."]}),Object(m.jsx)("br",{}),Object(m.jsxs)("li",{children:[Object(m.jsx)("div",{children:Object(m.jsx)("b",{children:"Popular page"})}),"This is an overlooked feature in e621, mostly because its UI is so outdated; but it has been incorporated into Sucralose with a little better interface."]}),Object(m.jsx)("br",{}),Object(m.jsxs)("li",{children:[Object(m.jsx)("div",{children:Object(m.jsx)("b",{children:"Search everything, everywhere"})}),"The previous version of Sucralose did not let you search hot, favorites, sets, etc. All of this is fixed in this version."]})]})]})]})}}];function y(e){var t=e.className,n=e.tooltipMode,a=void 0!==n&&n;return Object(m.jsxs)("div",{className:t||"ButtonsContainer",children:[Object(m.jsxs)("div",{className:"Left",children:[window.location.hash.length>1&&Object(m.jsx)(h.a,{href:"#",children:Object(m.jsxs)("div",{className:"Button",children:[Object(m.jsx)(j.a,{}),Object(m.jsx)(b.a,{direction:"down",children:"Home"})]})}),["posts","hot","popular","sets"].map((function(e){return Object(m.jsx)(h.a,{href:"#"+e,children:Object(m.jsxs)("div",{className:"Button",children:[x[e].icon,a?Object(m.jsx)(b.a,{direction:"down",children:x[e].title}):Object(m.jsx)("div",{className:"Title",children:x[e].title})]})},e)}))]}),Object(m.jsx)("div",{className:"Right",children:["subscriptions","favorites","upvoted","settings"].map((function(e){return Object(m.jsx)(h.a,{href:"#"+e,children:Object(m.jsxs)("div",{className:Object(v.d)("Button HasTooltip",[!p.a.user,"Disabled"]),children:[x[e].icon,a?Object(m.jsx)(b.a,{direction:"down",children:x[e].title}):Object(m.jsx)("div",{className:"Title",children:x[e].title})]})},e)}))})]})}function w(){var e=g[g.length-1];return Object(m.jsxs)("div",{className:"MainPage",children:[Object(m.jsxs)("div",{className:"Head",children:[Object(m.jsx)("h1",{children:"Sucralose!"}),Object(m.jsxs)("div",{children:["A sweeter way to use ",Object(m.jsx)("a",{href:"https://e621.net",children:"e621"}),"."]})]}),Object(m.jsx)(a.a,{}),Object(m.jsx)(y,{}),-1!==window.navigator.userAgent.indexOf("Firefox")&&Object(m.jsxs)("div",{className:"UseAModernWebBrowserThatActuallySupportsBackdropFilterAndOtherFeaturesFromMoreThan5YearsAgo",children:[Object(m.jsx)("h2",{children:"WARNING"}),Object(m.jsx)("div",{children:"You're on an unsupported web browser."}),Object(m.jsx)("div",{children:"You will likely experience visual and functional errors."}),Object(m.jsx)("div",{children:"Please do not report these while on an unsupported browser."}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{children:"Most modern Chromium-based browsers are supported."}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{style:{color:"var(--txt-color)"},children:[Object(m.jsx)("a",{href:"https://www.google.com/chrome/",children:"Chrome"}),",",Object(m.jsx)("a",{href:"https://www.opera.com/download",children:"Opera"}),",",Object(m.jsx)("a",{href:"https://www.opera.com/gx",children:"Opera GX"}),",",Object(m.jsx)("a",{href:"https://brave.com/download/",children:"Brave"}),",",Object(m.jsx)("a",{href:"https://www.microsoft.com/en-us/edge",children:"Literally Edge"})]})]}),Object(m.jsxs)("div",{className:"News",onClick:function(){return O.a.push(e.modal())},children:[Object(m.jsx)("h3",{className:"Title",children:e.title}),Object(m.jsxs)("div",{className:"Flex",children:[Object(m.jsx)("div",{className:"Date",children:e.date}),Object(m.jsxs)("div",{className:"Poster",children:["by ",Object(m.jsx)("b",{children:"Metalloriff"})]})]})]})]})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(2),r=n.n(a),c=(n(110),n(81)),s=n(126),i=n(82),o=n(127),l=n(128),u=n(23),d=n(42),j=n(33),h=n(17),b=n(13),v=n(29),p=n(0);function f(e){var t=e.children;return Object(p.jsx)(u.a.Wrapper,{menu:Object(p.jsx)(O,{tag:t}),wrapperClassName:"TagItemContextMenuWrapper",children:Object(p.jsx)(v.a,{className:"TagItem",onClick:function(){return d.a.handleSearch(t)},href:"?search=".concat(t,"#posts"),children:t})})}function O(e){var t=e.tag,n={appendToSearch:function(){return d.a.handleSearch(d.a.value.trim()+" "+t)},subscribe:function(){b.a.userData.subscriptions.push(t),j.a.update(b.a.userData,"users",b.a.user.uid).then((function(){return h.a.showToast(Object(p.jsxs)("span",{children:["Added ",Object(p.jsx)("b",{children:t})," to subscribed tags"]}))})).catch((function(e){return console.error(e),h.a.showToast("An unknown error occurred","Failure")}))},unsubscribe:function(){},blacklist:function(){},tagInfo:function(){window.open("https://e621.net/wiki_pages/".concat(t),"_blank")}};return Object(p.jsxs)(u.a,{children:[Object(p.jsx)(u.a.Item,{autoClose:!0,icon:Object(p.jsx)(c.a,{}),onClick:n.appendToSearch,children:"Append To Search Tags"}),Object(p.jsx)(u.a.Divider,{}),b.a.userData&&Object(p.jsxs)(r.a.Fragment,{children:[~b.a.userData.subscriptions.indexOf(t.toLowerCase())?Object(p.jsx)(u.a.Item,{autoClose:!0,icon:Object(p.jsx)(s.a,{}),onClick:n.unsubscribe,children:"Unsubscribe"}):Object(p.jsx)(u.a.Item,{autoClose:!0,icon:Object(p.jsx)(i.a,{}),onClick:n.subscribe,children:"Subscribe"}),Object(p.jsx)(u.a.Item,{autoClose:!0,icon:Object(p.jsx)(o.a,{}),onClick:n.blacklist,children:"Blacklist"}),Object(p.jsx)(u.a.Divider,{})]}),Object(p.jsx)(u.a.Item,{autoClose:!0,icon:Object(p.jsx)(l.a,{}),onClick:n.tagInfo,children:"Tag Info"})]})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(4),r=n(5),c=n(9),s=n(10),i=n(2),o=n.n(i),l=(n(116),n(0)),u=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={active:null},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.setState({active:0})}},{key:"render",value:function(){var e=this,t=o.a.Children.toArray(this.props.children);return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"TabsList",children:this.props.tabs.map((function(t,n){return Object(l.jsxs)("span",{className:"TabItem"+(n===e.state.active?" Active":""),onClick:function(){e.setState({active:n}),e.props.onChange&&e.props.onChange(t,n,e)},children:[Object(l.jsx)("span",{className:"TabItemTitle",children:t}),Object(l.jsx)("div",{className:"TabItemBorder"})]},t)}))}),t.map((function(t,n){return Object(l.jsx)("div",{className:"TabItem",style:{display:e.state.active===n?"block":"none"},children:t},n)}))]})}}]),n}(o.a.Component)},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(12),r=n(2),c=n.n(r),s=(n(117),n(83)),i=n(87),o=n(147),l=n(148),u=n(149),d=n(18),j=n(17),h=n(44),b=n(33),v=n(37),p=n(0);function f(){var e=c.a.useState(!1),t=Object(a.a)(e,2),n=t[0],r=t[1],f=c.a.useState(!1),O=Object(a.a)(f,2),m=O[0],x=O[1],g=c.a.useRef(),y={handleSignUp:function(){if(!m){var e=g.current.getElementsByTagName("input"),t=Object(a.a)(e,3),n=t[0],r=t[1];if(t[2].value!==r.value)return j.a.showToast("Passwords must match!","Failure");if(!n.value.trim())return j.a.showToast("You must input an email address","Failure");if(!r.value.trim())return j.a.showToast("You must input a password","Failure");x(!0),Object(h.a)(b.a.auth,n.value,r.value).then((function(){return d.a.pop(),j.a.showToast("Welcome to Sucralose!","Success"),window.location.hash="#settings"})).catch((function(e){j.a.showToast("An unknown error has occured! Check console for details","Failure"),console.error(e)}))}},handleLogIn:function(){if(!m){var e=g.current.getElementsByTagName("input"),t=Object(a.a)(e,2),n=t[0],r=t[1];x(!0),Object(h.d)(b.a.auth,n.value,r.value).then((function(){return d.a.pop(),window.location.reload()})).catch((function(e){var t="Unknown";switch(e.code){case"auth/invalid-email":t="Invalid email address";break;case"auth/user-not-found":t="No user with this email found";break;case"auth/wrong-password":t="Incorrect password"}j.a.showToast("Failed to sign in! Reason - ".concat(t),"Failure",10),console.error(e)}))}}};return Object(v.a)("keydown",(function(e){return"Enter"===e.key&&(n?y.handleSignUp():y.handleLogIn())})),Object(p.jsxs)("div",{className:"AuthModal",ref:g,children:[Object(p.jsx)(s.a,{className:"CloseButton",onClick:d.a.pop.bind(d.a)}),n?Object(p.jsxs)(c.a.Fragment,{children:[Object(p.jsxs)("div",{className:"MainSection Flex",children:[Object(p.jsxs)("div",{className:"HelpSection",children:[Object(p.jsx)("div",{className:"Title",children:"NOTE"}),Object(p.jsxs)("div",{children:["This is not your e621.net details.",Object(p.jsx)("br",{}),"You will have the option to enter",Object(p.jsx)("br",{}),"your e621.net username and API key",Object(p.jsx)("br",{}),"in your settings after signing up.",Object(p.jsx)("br",{})]})]}),Object(p.jsxs)("div",{className:"Fields",children:[Object(p.jsx)("h3",{children:"Sign Up"}),Object(p.jsx)("div",{className:"FieldContainer",children:Object(p.jsx)("input",{type:"email",placeholder:"Email Address"})}),Object(p.jsx)("div",{className:"FieldContainer",children:Object(p.jsx)("input",{type:"password",placeholder:"Password"})}),Object(p.jsx)("div",{className:"FieldContainer",children:Object(p.jsx)("input",{type:"password",placeholder:"Confirm Password"})})]})]}),Object(p.jsxs)("div",{className:"FooterSection Flex",children:[Object(p.jsxs)("div",{className:"Button",onClick:function(){return r(!1)},children:[Object(p.jsx)(i.a,{}),Object(p.jsx)("div",{children:"Log In"})]}),Object(p.jsxs)("div",{className:"Button",style:{marginLeft:"auto"},onClick:y.handleSignUp,children:[Object(p.jsx)(o.a,{}),Object(p.jsx)("div",{children:"Sign Up"})]})]})]}):Object(p.jsxs)(c.a.Fragment,{children:[Object(p.jsxs)("div",{className:"MainSection Flex",children:[Object(p.jsxs)("div",{className:"HelpSection",children:[Object(p.jsx)("div",{className:"Title",children:"Why?"}),Object(p.jsxs)("div",{children:["Having an account ensures that your data",Object(p.jsx)("br",{}),"stays consistent across browsers and devices,",Object(p.jsx)("br",{}),"along with giving you access to useful features,",Object(p.jsx)("br",{}),"without the security risks of storing data on your device.",Object(p.jsx)("br",{})]})]}),Object(p.jsxs)("div",{className:"Fields",children:[Object(p.jsx)("h3",{children:"Login"}),Object(p.jsx)("div",{className:"FieldContainer",children:Object(p.jsx)("input",{type:"email",placeholder:"Email Address"})}),Object(p.jsx)("div",{className:"FieldContainer",children:Object(p.jsx)("input",{type:"password",placeholder:"Password"})})]})]}),Object(p.jsxs)("div",{className:"FooterSection Flex",children:[Object(p.jsxs)("div",{className:"Button",onClick:function(){return r(!0)},children:[Object(p.jsx)(l.a,{}),Object(p.jsx)("div",{children:"Sign Up"})]}),Object(p.jsxs)("div",{className:"Button",style:{marginLeft:"auto"},children:[Object(p.jsx)(u.a,{}),Object(p.jsx)("div",{children:"Reset Password"})]}),Object(p.jsxs)("div",{className:"Button",onClick:y.handleLogIn,children:[Object(p.jsx)(i.a,{}),Object(p.jsx)("div",{children:"Log In"})]})]})]})]})}},,,,,function(e,t,n){},,function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var a=n(1),r=n.n(a),c=n(3),s=n(16),i=n(14),o=n(12),l=n(2),u=n.n(l),d=(n(109),n(129)),j=n(130),h=n(66),b=n(84),v=n(67),p=n(85),f=n(80),O=n(79),m=n(131),x=n(86),g=n(81),y=n(132),w=n(20),k=n(15),C=n(31),N=n(18),S=n(19),I=n(24),F=n.n(I),T=n(58),D=n(32),A=n(23),E=n(17),P=n(13),M=n(36),B=n(29),L=n(0);function R(e){var t,n,a=e.post,r=a.id,c=(a.description,a.sample),l=a.file,O=a.preview,m=a.fav_count,x=a.is_favorited,g=a.score,y=(a.flags,a.created_at,a.rating,a.tags),w=null!==(t=null!==(n=null===c||void 0===c?void 0:c.url)&&void 0!==n?n:null===O||void 0===O?void 0:O.url)&&void 0!==t?t:null===l||void 0===l?void 0:l.url,I=u.a.useState(""),E=Object(o.a)(I,2),P=E[0],M=E[1],R=u.a.useState("left"),W=Object(o.a)(R,2),Y=W[0],K=W[1],_=u.a.useState([]),q=Object(o.a)(_,2),V=q[0],Q=q[1],Z=u.a.useState(!1),z=Object(o.a)(Z,2),G=z[0],X=z[1],J=u.a.useReducer((function(e){return e+1}),0),$=(Object(o.a)(J,2)[1],u.a.useMemo((function(){return function(e){var t=e.text,n=e.children,a=e.onClick,r=e.tooltipText,c=e.tooltipSide,s=e.className,o={onClick:a,onMouseEnter:function(){return M(r),K(null!==c&&void 0!==c?c:"left")},onMouseLeave:function(){return M("")}};return Object(L.jsxs)("div",Object(i.a)(Object(i.a)({className:Object(k.d)("Button",s)},o),{},{children:[~V.indexOf(r)?Object(L.jsx)(d.a,{className:"Spinner"}):n,Object(L.jsx)("span",{children:t})]}))}}),[V])),ee=!1,te={toggleFavorite:function(){Q([].concat(Object(s.a)(V),["Favorite"]));var e=function(){return Q(V.filter((function(e){return"Favorite"!==e})))};x?S.a.removeFavorite(r).then((function(){return a.is_favorited=!1,e()})):S.a.favorite(r).then((function(){return a.is_favorited=!0,e()}))},vote:function(e){Q([].concat(Object(s.a)(V),["Upvote","Downvote"]));S.a.vote(r,e).then((function(e){return F.a.extend(a.score,e),Q(V.filter((function(e){return!~["Upvote","Downvote"].indexOf(e)})))}))},download:function(){if(!ee){ee=!0,Q([].concat(Object(s.a)(V),["Download"]));Object(k.a)(l.url).then((function(){return Q(V.filter((function(e){return"Download"!==e}))),ee=!1}))}},openInNewTab:function(){return window.open("#post/".concat(r),"_blank")}},ne=y.artist.indexOf("conditional_dnp");return~ne&&y.artist.splice(ne,1),w&&"swf"!==l.ext?Object(L.jsxs)("div",{className:"Post",children:[Object(L.jsxs)("div",{className:"PostHeader",children:["Artist",y.artist.length>1?"s":null,Object(L.jsx)("div",{className:"Divider"}),y.artist.length?y.artist.map((function(e,t){return Object(L.jsx)(T.a,{children:e},t)})):Object(L.jsx)("span",{style:{opacity:.65},children:"unknown"})]}),!G&&Object(L.jsx)("div",{className:"Preview Flex Loading",children:Object(L.jsx)(D.a,{})}),Object(L.jsx)(A.a.Wrapper,{menu:Object(L.jsx)(U,{post:a}),children:Object(L.jsx)("img",{src:w,className:"Preview",alt:"Preview",onLoad:function(){return X(!0)},onClick:function(){return Object(N.d)(l.url,(function(){return C.a.instance.posts.map((function(e){var t,n,a,r,c;return{preview:null!==(t=null!==(n=null===(a=e.sample)||void 0===a?void 0:a.url)&&void 0!==n?n:null===(r=e.preview)||void 0===r?void 0:r.url)&&void 0!==t?t:null===(c=e.file)||void 0===c?void 0:c.url,full:e.file.url}}))}),{buttons:function(e){return Object(L.jsx)(H,{post:C.a.instance.posts[e]})}})}})}),"webm"===l.ext&&Object(L.jsx)("div",{className:"VideoOverlay",children:Object(L.jsx)(j.a,{})}),Object(L.jsxs)("div",{className:"PostFooter","data-url":w,children:[P&&Object(L.jsx)("div",{className:Object(k.d)("FooterTooltip",["right"===Y,"RightSide"]),children:P}),Object(L.jsxs)("div",{className:"VotesContainer",children:[Object(L.jsxs)("div",{className:"Flex",children:[Object(L.jsx)($,{text:g.up,tooltipText:"Upvote",className:1===g.our_score?"Active":"",onClick:te.vote.bind(null,1),children:Object(L.jsx)(h.a,{})}),Object(L.jsx)($,{text:-g.down,tooltipText:"Downvote",className:-1===g.our_score?"Active":"",onClick:te.vote.bind(null,-1),children:Object(L.jsx)(b.a,{})})]}),Object(L.jsx)("div",{className:"VotesTally",children:Object(L.jsx)("div",{className:"UpVotes",style:{width:g.up/(g.up+-g.down)*100+"%"}})})]}),Object(L.jsx)($,{text:m,tooltipText:"Favorite",className:x?"Favorited":"",onClick:te.toggleFavorite,children:Object(L.jsx)(v.a,{})}),Object(L.jsxs)("div",{style:{marginLeft:"auto"},className:"Flex",children:[Object(L.jsx)($,{tooltipText:"Download",tooltipSide:"right",onClick:te.download,children:Object(L.jsx)(p.a,{})}),Object(L.jsx)(B.a,{href:"#post/".concat(r),children:Object(L.jsx)($,{tooltipText:"View Post",tooltipSide:"right",children:Object(L.jsx)(f.a,{})})})]})]})]}):null}function U(e){var t,n,a=e.post,s=null!==(t=null===(n=P.a.userData)||void 0===n?void 0:n.sets)&&void 0!==t?t:[],i=u.a.useReducer((function(e){return e+1}),0),l=Object(o.a)(i,2)[1],d={toggleSet:function(){var e=Object(c.a)(r.a.mark((function e(t){var n,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=null===(n=P.a.userData)||void 0===n?void 0:n.sets[t],-1===(s=c.post_ids.indexOf(a.id))){e.next=8;break}return e.next=5,S.a.request("post_sets/".concat(c.id,"/remove_posts"),{"post_ids[]":a.id},!0,{method:"POST"});case 5:c.post_ids.splice(s,1),e.next=11;break;case 8:return e.next=10,S.a.request("post_sets/".concat(c.id,"/add_posts"),{"post_ids[]":a.id},!0,{method:"POST"});case 10:c.post_ids.push(a.id);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};return Object(L.jsxs)(A.a,{children:[Object(L.jsx)(A.a.Item,{icon:Object(L.jsx)(O.a,{}),onClick:function(){return Object(N.c)(a.id)},autoClose:!0,children:"Copy Post ID"}),Object(L.jsx)(A.a.Item,{icon:Object(L.jsx)(m.a,{}),onClick:function(){return M.a.props.backgroundImage.url.value=a.file.url,M.a.save(),M.b.forceUpdate()},autoClose:!0,children:"Set As Background"}),Object(L.jsx)(A.a.Divider,{}),Object(L.jsxs)(A.a.SubMenuItem,{label:"Sets",icon:Object(L.jsx)(x.a,{}),children:[!!s.length&&Object(L.jsxs)(u.a.Fragment,{children:[s.map((function(e,t){return Object(L.jsx)(A.a.Item,{className:Object(k.d)("ContextMenuItem","SetCmItem",[!!~e.post_ids.indexOf(a.id),"Active"]),icon:Object(L.jsx)(g.a,{}),onClick:Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.toggleSet(t);case 2:return e.abrupt("return",l());case 3:case"end":return e.stop()}}),e)}))),children:e.name},e.id)})),Object(L.jsx)(A.a.Divider,{})]}),Object(L.jsx)(A.a.Item,{icon:Object(L.jsx)(y.a,{}),onClick:function(){return E.a.showToast("Not yet added - please do this in e621 for now","Failure")},children:"New Set"})]})]})}function H(e){var t=e.post,n=t.id,a=t.is_favorited,r=t.score,c=t.fav_count,s=t.file,i=u.a.useReducer((function(e){return e+1}),0),l=Object(o.a)(i,2)[1],d={favorite:function(){a?S.a.removeFavorite(n).then((function(){return t.is_favorited=!1,l()})):S.a.favorite(n).then((function(){return t.is_favorited=!0,l()}))},vote:function(e){return S.a.vote(n,e).then((function(e){return F.a.extend(t.score,e),l()}))},download:function(){return Object(k.a)(s.url)}};return Object(L.jsxs)(u.a.Fragment,{children:[Object(L.jsxs)("div",{className:"Button Flex",style:{alignItems:"center",justifyContent:"center",color:1===r.our_score?"var(--primary-color)":null},onClick:d.vote.bind(null,1),children:[Object(L.jsx)(h.a,{}),Object(L.jsx)("div",{style:{marginLeft:5},children:r.up}),Object(L.jsx)(w.a,{style:{color:"var(--txt-color)"},children:"Upvote"})]}),Object(L.jsxs)("div",{className:"Button Flex",style:{alignItems:"center",justifyContent:"center",color:-1===r.our_score?"var(--primary-color)":null},onClick:d.vote.bind(null,-1),children:[Object(L.jsx)(b.a,{}),Object(L.jsx)("div",{style:{marginLeft:5},children:-r.down}),Object(L.jsx)(w.a,{style:{color:"var(--txt-color)"},children:"Downvote"})]}),Object(L.jsxs)("div",{className:"Button Flex",style:{alignItems:"center",justifyContent:"center",color:a?"var(--red)":null},onClick:d.favorite,children:[Object(L.jsx)(v.a,{}),Object(L.jsx)("div",{style:{marginLeft:5},children:c}),Object(L.jsx)(w.a,{style:{color:"var(--txt-color)"},children:"Favorite"})]}),Object(L.jsxs)("div",{className:"Button Flex",style:{alignItems:"center",justifyContent:"center"},onClick:d.download,children:[Object(L.jsx)(p.a,{}),Object(L.jsx)(w.a,{style:{color:"var(--txt-color)"},children:"Download"})]})]})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(12),r=n(2),c=n.n(r),s=(n(70),n(31)),i=n(38),o=n(13),l=n(0);function u(e){return[e.getUTCDate(),e.getMonth()+1,e.getFullYear()].join("-")}function d(){var e=new Date,t=c.a.useState(u(new Date("".concat(e.getFullYear(),"-").concat((e.getUTCMonth()+1).toString().padStart(2,"0"),"-").concat((e.getDay()+1).toString().padStart(2,"0")," 0:00")))),n=Object(a.a)(t,2),r=n[0],d=n[1];return Object(l.jsxs)("div",{className:"PostsPage",children:[Object(l.jsx)(i.a,{hasSearch:!1}),Object(l.jsxs)("div",{className:"DatePicker",children:[Object(l.jsx)("h2",{children:"Date"}),Object(l.jsx)("input",{type:"date",ref:function(e){return e&&!e.value?e.valueAsDate=new Date:null},onInput:function(e){return d(u(new Date(e.target.value)))}})]}),o.a.userReady&&Object(l.jsx)(s.a,{request:["explore/posts/popular",{date:r,scale:"day"}]})]})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var a,r,c=n(12),s=n(2),i=n.n(s),o=(n(118),n(38)),l=n(19),u=n(66),d=n(84),j=n(67),h=n(60),b=n(16),v=(n(119),n(37)),p=n(32),f=["title","titleId"];function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function x(e,t){var n=e.title,c=e.titleId,i=m(e,f);return s.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{isolation:"isolate"},viewBox:"0 0 1024 1024",width:"1024pt",height:"1024pt",ref:t,"aria-labelledby":c},i),n?s.createElement("title",{id:c},n):null,a||(a=s.createElement("defs",null,s.createElement("clipPath",{id:"_clipPath_VLhmLKF27nF926q38ytCl20StHRMDv8J"},s.createElement("rect",{width:1024,height:1024})))),s.createElement("g",{clipPath:"url(#_clipPath_VLhmLKF27nF926q38ytCl20StHRMDv8J)"},s.createElement("rect",{width:1024,height:1024,style:{fill:"rgb(42,42,42)"},fillOpacity:0}),r||(r=s.createElement("g",null,s.createElement("path",{d:" M 391.435 916.828 Q 471.605 721.151 545.738 636.285 C 619.871 551.418 594.377 545.715 537.688 472.589 C 480.998 399.462 436.719 312.918 387.409 291.45 L 391.435 264.614 Q 680.586 344.45 724.193 333.045 Q 515.548 293.462 449.131 264.614 C 382.713 235.766 383.049 223.355 396.802 209.602 C 410.555 195.849 517.226 135.134 572.574 125.07 Q 627.922 115.007 631.611 119.703 Q 718.826 81.128 751.029 161.298 Q 869.999 277.138 857.029 425.627 C 844.058 574.116 851.214 611.238 869.105 638.968 C 886.995 666.698 978.235 769.795 967.054 916.828 L 967.054 916.828 L 391.435 916.828 Z ",fill:"currentColor"}),s.createElement("path",{d:" M 546.384 682.698 C 540.011 678.17 349.479 687.059 264.612 657.205 Q 179.746 627.35 244.486 469.357 Q 327.843 456.275 401.473 260.041 L 174.714 113.788 Q 26.467 257.191 63.347 368.724 Q 84.145 431.62 159.954 457.281 Q 105.277 689.575 206.916 733.685 Q 308.555 777.796 500.764 772.597 Q 552.757 687.227 546.384 682.698 Z ",fill:"currentColor"}),s.createElement("path",{d:" M 646.718 129.096 Q 670.87 129.096 653.427 150.564 Q 659.8 170.104 654.769 173.374 Q 649.737 176.645 644.035 154.589 Q 617.912 136.392 646.718 129.096 Z ",fill:"var(--primary-bg)"})))))}var g=s.forwardRef(x),y=(n.p,n(29)),w=n(15),k=n(0);function C(e){var t=e.id,n=i.a.useState(null),a=Object(c.a)(n,2),r=a[0],s=a[1];return Object(v.b)((function(){l.a.request("posts/".concat(t,"/comments")).then((function(e){var t=(new DOMParser).parseFromString(e.html,"text/html");s(Object(b.a)(t.getElementsByClassName("comment")).map((function(t){var n,a,r;return{id:t.dataset.commentId,userId:t.dataset.creatorId,username:t.dataset.creator,score:parseInt(t.dataset.score),isDeleted:"true"===t.dataset.isDeleted,body:null===(n=t.querySelector(".content > .body"))||void 0===n?void 0:n.innerHTML,avatarPost:e.posts[null===(a=t.querySelector(".avatar > .placeholder"))||void 0===a?void 0:a.dataset.id],timestamp:null===(r=t.querySelector("time"))||void 0===r?void 0:r.dateTime}})))}))}),1e4,!0),Object(k.jsx)("div",{className:"PostComments",children:null===r?Object(k.jsx)(p.a,{}):0===r.length?Object(k.jsxs)("div",{className:"NoComments",children:[Object(k.jsx)("h1",{children:"No comment."}),Object(k.jsx)(g,{className:"Kermit"})]}):Object(k.jsx)("div",{className:"Comments",children:r.map((function(e){var t,n,a;return Object(k.jsxs)("div",{className:"Comment",children:[Object(k.jsx)("div",{className:"UserSection",children:Object(k.jsx)("div",{className:"AvatarContainer",children:Object(k.jsx)(y.a,{href:"#post/".concat(null===(t=e.avatarPost)||void 0===t?void 0:t.id),children:Object(k.jsx)("img",{className:Object(w.d)("Avatar",["e"===(null===(n=e.avatarPost)||void 0===n?void 0:n.rating),"NSFW"]),src:null===(a=e.avatarPost)||void 0===a?void 0:a.cropped_url,onError:function(t){var n;return t.target.src=null===(n=e.avatarPost)||void 0===n?void 0:n.preview_url},alt:"User Avatar"})})})}),Object(k.jsxs)("div",{className:"BodySection",children:[Object(k.jsx)(y.a,{href:"#user/".concat(e.userId),children:Object(k.jsx)("div",{className:"Username",children:e.username})}),Object(k.jsx)("div",{className:"Body",dangerouslySetInnerHTML:{__html:e.body}})]})]},e.id)}))})})}var N=n(58),S=n(24),I=n.n(S);function F(e){var t=e.id,n=i.a.useState(null),a=Object(c.a)(n,2),r=a[0],s=a[1],b=i.a.useState(!1),v=Object(c.a)(b,2),p=(v[0],v[1]),f=i.a.useReducer((function(e){return e+1}),0),O=Object(c.a)(f,2)[1];i.a.useEffect((function(){l.a.request("posts/".concat(t)).then((function(e){return(null===e||void 0===e?void 0:e.post)?s(e.post):p(!0)})).catch((function(e){return console.error(e),p(!0)}))}),[]);var m={toggleFavorite:function(){r.is_favorited?l.a.removeFavorite(t).then((function(){return r.is_favorited=!1,O()})):l.a.favorite(t).then((function(){return r.is_favorited=!0,O()}))},vote:function(e){return l.a.vote(t,e).then((function(e){return I.a.extend(r.score,e),O()}))}};return Object(k.jsxs)("div",{className:"PostPage",children:[Object(k.jsx)(o.a,{}),r?Object(k.jsxs)("div",{className:"PostBody",children:[Object(k.jsx)("div",{className:"ImageContainer",children:Object(k.jsx)("img",{className:"Image",src:r.file.url,alt:"Post Image"})}),Object(k.jsxs)("div",{className:"PostBodyMain",children:[Object(k.jsxs)("div",{className:"Button",style:{color:1===r.score.our_score?"var(--primary-color)":null},onClick:m.vote.bind(null,1),children:[Object(k.jsx)(u.a,{}),Object(k.jsx)("div",{children:r.score.up})]}),Object(k.jsxs)("div",{className:"Button",style:{color:-1===r.score.our_score?"var(--primary-color)":null},onClick:m.vote.bind(null,-1),children:[Object(k.jsx)(d.a,{}),Object(k.jsx)("div",{children:-r.score.down})]}),Object(k.jsxs)("div",{className:"Button",style:{color:r.is_favorited?"var(--red)":null},onClick:m.toggleFavorite,children:[Object(k.jsx)(j.a,{}),Object(k.jsx)("div",{children:r.fav_count})]})]}),r.description&&Object(k.jsx)("div",{className:"PostDescriptionContainer Flex",children:Object(k.jsx)("div",{className:"PostDescription",children:r.description})}),Object(k.jsxs)(h.a,{tabs:["Comments","Tags","Details"],children:[Object(k.jsx)(C,{id:t}),Object(k.jsx)("div",{className:"TagsList",children:Object.keys(r.tags).filter((function(e){return r.tags[e].length})).reverse().map((function(e){return Object(k.jsxs)("div",{className:"TagCategory",children:[Object(k.jsxs)("h2",{children:[e," - ",r.tags[e].length]}),Object(k.jsx)("div",{className:"Tags",children:r.tags[e].map((function(e,t){return Object(k.jsx)(N.a,{children:e},t)}))})]},e)}))}),Object(k.jsx)("div",{className:"PostDetails Flex",children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"Entry",children:[Object(k.jsx)("h2",{children:"Post ID"}),Object(k.jsxs)("div",{children:["#",t]})]}),Object(k.jsxs)("div",{className:"Entry",children:[Object(k.jsx)("h2",{children:"Post MD5 Hash"}),Object(k.jsx)("div",{children:r.file.md5})]}),Object(k.jsxs)("div",{className:"Entry",children:[Object(k.jsx)("h2",{children:"Creation Date"}),Object(k.jsx)("div",{children:r.created_at})]}),Object(k.jsxs)("div",{className:"Entry",children:[Object(k.jsx)("h2",{children:"Size"}),Object(k.jsx)("div",{children:Object(w.b)(r.file.size)})]}),Object(k.jsxs)("div",{className:"Entry",children:[Object(k.jsx)("h2",{children:"Width"}),Object(k.jsxs)("div",{children:[r.file.width," pixels"]})]}),Object(k.jsxs)("div",{className:"Entry",children:[Object(k.jsx)("h2",{children:"Height"}),Object(k.jsxs)("div",{children:[r.file.height," pixels"]})]}),Object(k.jsxs)("div",{className:"Entry",children:[Object(k.jsx)("h2",{children:"Sources"}),Object(k.jsx)("div",{children:r.sources.map((function(e,t){return Object(k.jsx)("div",{style:{marginTop:10},children:Object(k.jsx)("a",{href:e,children:e})},t)}))})]})]})})]})]}):Object(k.jsx)("div",{})]})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));n(2),n(120);var a=n(151),r=n(152),c=n(153),s=n(154),i=n(155),o=n.p+"static/media/TwemojiHeart.a32c5071.svg",l=n(20),u=n(18),d=n(0);function j(){var e={website:function(){return window.open("https://metalloriff.github.io/","_blank")},github:function(){return window.open("https://github.com/metalloriff/","_blank")},twitter:function(){return window.open("https://twitter.com/Metalloriff/","_blank")},email:function(){return window.open("mailto:metalloriff@gmail.com","_blank")},discord:function(){return Object(u.c)("Metalloriff \ud83d\udc95\ud83c\udf08#2891")}};return Object(d.jsx)("footer",{children:Object(d.jsxs)("div",{className:"Flex",children:[Object(d.jsxs)("div",{className:"LeftSections",children:[Object(d.jsxs)("div",{className:"HeadSection FlexCenter",children:[Object(d.jsx)("img",{className:"Logo",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuNWRHWFIAAAawSURBVGhD7VlbT1NZFJ4/5SXRTIaQyMOMiWiMRnzQiTo+6ZviMDMoCCMyCgKCgCgqeEHlMgIzVKRyv5QWgTIWaGmhpVBaKJVSoFC+OWvb1racHnpaaYjhS75Auy9nfWfvtdZeu9/dvNSIb4E7QrYbd4RsN0Yk5K/Ed8hLaeFtizYjElKU0Y5R5QxvW7QZkZDy/F6srbrQ8Pojb3s0GZGQZwW96O+exNSEDY9zenj7RIsRCbmf2YHhARPbYjPGBdxLb+PtFw1GJCSTc3bz1AJuXm5EWZ4MpslPyL/eirdVKvaXb8xWMSIhxEGZEc+L5Ox/2mokZrDXiOUlJ+RtE3iY1bVhzFYwYiEPbnVCr7Uik1sV+lzKGT4/54DBYEBSUhKamppg1FswpJhCY80wHt7eGmERCRnhQq9+zArrrAMt/6q93+debYaq34Tu7m4cOnQIe/fuRUJCAlJSUiCRSDAxZmGr+CS3B0+5VfSdM1yGJeSvK+/w6sEH2KxLaHozAu3ILNbX16Ho0Pv5xsv7fdxqzaGhoQEXL17Evn37sGvXLhw8eBDt7e3sJSzYlnHnj/d+84dD0UIK0loxO7OInp4eKJVKlHBbi74vze6G5qMZzpU1tPyjZmI9Y8ruypi/TE3OoqqqCkeOHMGePXvY/zqdDs1cf0/fcBnWirwoUnAGO9Hb24v6F0N+bRX3FZgzL8LEheNAfyA/evWgDwbdHAoLC9mWO3v2LCbH5/z6hUPRQl6W9GFYpca5c+cQHx+PCc1GI24nNUHWMg6ncw2dTVo8utPt105ntL5OA8rLy9lW6+8fYKtIPlf7TOnXN1SKEkLbaFg1itjYWGYAsba2Fn+XD/L2ryhWYHFhBQRKmM8LP4dpIq3OuHoOJ0+eRE1NDROVk5MDq9WK1w8/+M0TCkUJ0Y1acOLECa8I4oEDBzBpmEbxzQ7eMeT8k+PzTIzLtc5tvT5vW9XjfpSWliIuLg7aMT3aJBoWolt9ImCoDFkIhcv6+no/ER7SPp+Zmg96RLn1axMkdV1IT0/HtHEWt7nP9D1tOZPJhOTkZBauA8eJYchCNCozjh8/zivk9OnTsFgsLBxTggwc+0vCdW/furo6FnIpILjW1tlKUeg2cgfPwHFiGJKQ8nwZy9C+xnt44cIFLC8vM4MIK8urqHrU7zc+/sefWd8zZ85gbW3N3XMjuqRadm7zHRsqNxWS/bsUep2Fxf5AEbRCDofDbYY/FO16ZCVJkXHpLWK+j2MBYnp62t0K2Gw25uDXrl1lTk45iaCUG5GT3MxrixAFhdz7sw3jGgsSExM3iKAcMDIywh4eDD2d/Yj94SfWv7q62v3tRpjNZuZ/HjFLjlVI60a9vhQKeYVQnO98p4V5Zha5ubksshw9etRPSGpqKnuoEFZXV3H+/HmcOnWK+YFY2OaW8OYpF9pD2G5BV+QVl/iU8ilYpu1QKBSIiYnxE6LRaNyPE8b8/PymK7cZDLp5dgTis9NDwa11N7UFOq1+gwg6yUYblIOoIuWzkygopLVBg7S0ND8RxPz8fPf00UVlqX809KWgkNEhM4tWu3fvxuHDh71CpFKpe+rIYTQaYbfb3Z+EUVka/OgiKIQuFo4dO8bqCa1W6xUil8vdU0cOl8vF1SZtqKioQHFxEcv+2dlZKCkpgVqtdvf6DCrE+OwkCgqR1o6wo7q8fYIrgma9vtLR0eGeWjxWnS6W2R1256aRTCbr8QYV8hHKaXx2EgWF5F1r5mK6kzk9icrIyGBCKisr2eRiMCCbZJEn8/KXgivrNymGuMhIRxU+TXTkKctvY8UaHTx9bQukoBCip6amclTHnVD379+PGzduuB8VGuglBM7rIeUsaqc6hN66L+yfVlif91xyrK/wL+ACuakQX0oqP6KsrIw5fqiwmOzeG5bN2Fitco/6DM8LoAzvu5J8FCWEDKJTMB0UBwcH3Y8TRvd7He9cwUgXEh5UPx7g7cNHUUKI5Dd6nQkFBQXuxwlDUqXinScYqZQm0DYT85OFaCFEyrD6cRMWFxfZQ4VA+5tvjmAkn6FETLeVfO3BGJYQIr2tMZXFbW5wTOltIfuIh3R5kZMs7q4rbCEe1j5XctHlS2HFh74Ovd8911YwYiFEWh26bRQCRS/6QYhyEt8ckfKrCPGw+skAu/bZDFaLA+r/zPjQaWD3Xi+KFaK3XyC/qhAPn+TJ0MUZSPdW9oUVb6KjIwnV9PSbCmV0SaUKhVwVyjeHWG6JkEBSJKKkdutK6KWrWEZFSDS4I2S7cUfIduM3IqQR/wPMTZmSnhx+ZgAAAABJRU5ErkJggg==",alt:"Logo"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Metalloriff"}),Object(d.jsxs)("div",{children:["Made with ",Object(d.jsx)("img",{src:o,alt:"\u2665",width:15,height:15})]})]})]}),Object(d.jsxs)("div",{className:"ContactSection Flex",children:[Object(d.jsxs)("div",{className:"ContactEntry",onClick:e.website,children:[Object(d.jsx)(a.a,{}),Object(d.jsx)(l.a,{children:"Website"})]}),Object(d.jsxs)("div",{className:"ContactEntry",onClick:e.github,children:[Object(d.jsx)(r.a,{}),Object(d.jsx)(l.a,{children:"GitHub"})]}),Object(d.jsxs)("div",{className:"ContactEntry",onClick:e.twitter,children:[Object(d.jsx)(c.a,{}),Object(d.jsx)(l.a,{children:"Twitter"})]}),Object(d.jsxs)("div",{className:"ContactEntry",onClick:e.email,children:[Object(d.jsx)(s.a,{}),Object(d.jsx)(l.a,{children:"Email"})]}),Object(d.jsxs)("div",{className:"ContactEntry",onClick:e.discord,children:[Object(d.jsx)(i.a,{}),Object(d.jsx)(l.a,{children:"Discord"})]})]})]}),Object(d.jsx)("div",{className:"MiddleSection"}),Object(d.jsx)("div",{className:"RightSections FlexCenter",children:Object(d.jsxs)("div",{className:"LinksSection",children:[Object(d.jsx)("a",{href:"https://github.com/Metalloriff/sucralose",children:"Source Code"}),Object(d.jsx)("a",{href:"https://feathericons.com/",children:"Icons Used"}),Object(d.jsx)("a",{href:"https://metalloriff.github.io/city-fog",children:"Color Palette"}),Object(d.jsxs)("a",{href:"https://paypal.me/israelboone",children:[Object(d.jsx)("img",{src:o,alt:"\u2665",width:15,height:15}),Object(d.jsx)("span",{style:{margin:"0 7px"},children:"Donate"}),Object(d.jsx)("img",{src:o,alt:"\u2665",width:15,height:15})]}),Object(d.jsxs)("div",{className:"Copyright",children:["Copyright \xa9 ",(new Date).getFullYear()," Israel Boone"]})]})})]})})}},,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(46),s=n.n(c),i=n(13);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=n(0);s.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(i.a,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[121,1,2]]]);
//# sourceMappingURL=main.433f9b92.chunk.js.map