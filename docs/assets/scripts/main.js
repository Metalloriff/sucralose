/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={486:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=32,u=128,c=1/0,h=9007199254740991,d=NaN,f=4294967295,p=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",l],["partialRight",64],["rearg",256]],m="[object Arguments]",g="[object Array]",v="[object Boolean]",y="[object Date]",w="[object Error]",b="[object Function]",E="[object GeneratorFunction]",_="[object Map]",k="[object Number]",S="[object Object]",T="[object Promise]",C="[object RegExp]",I="[object Set]",O="[object String]",N="[object Symbol]",x="[object WeakMap]",P="[object ArrayBuffer]",A="[object DataView]",R="[object Float32Array]",D="[object Float64Array]",L="[object Int8Array]",M="[object Int16Array]",j="[object Int32Array]",U="[object Uint8Array]",F="[object Uint8ClampedArray]",z="[object Uint16Array]",B="[object Uint32Array]",V=/\b__p \+= '';/g,$=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,K=RegExp(H.source),G=RegExp(q.source),Q=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,ie=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ue=/[()=,{}\[\]\/\s]/,ce=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,be=/['\n\r\u2028\u2029\\]/g,Ee="\\ud800-\\udfff",_e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Se="a-z\\xdf-\\xf6\\xf8-\\xff",Te="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",Ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Oe="["+Ee+"]",Ne="["+Ie+"]",xe="["+_e+"]",Pe="\\d+",Ae="["+ke+"]",Re="["+Se+"]",De="[^"+Ee+Ie+Pe+ke+Se+Te+"]",Le="\\ud83c[\\udffb-\\udfff]",Me="[^"+Ee+"]",je="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]",Fe="["+Te+"]",ze="\\u200d",Be="(?:"+Re+"|"+De+")",Ve="(?:"+Fe+"|"+De+")",$e="(?:['’](?:d|ll|m|re|s|t|ve))?",We="(?:['’](?:D|LL|M|RE|S|T|VE))?",He="(?:"+xe+"|"+Le+")?",qe="["+Ce+"]?",Ke=qe+He+"(?:"+ze+"(?:"+[Me,je,Ue].join("|")+")"+qe+He+")*",Ge="(?:"+[Ae,je,Ue].join("|")+")"+Ke,Qe="(?:"+[Me+xe+"?",xe,je,Ue,Oe].join("|")+")",Ye=RegExp("['’]","g"),Xe=RegExp(xe,"g"),Je=RegExp(Le+"(?="+Le+")|"+Qe+Ke,"g"),Ze=RegExp([Fe+"?"+Re+"+"+$e+"(?="+[Ne,Fe,"$"].join("|")+")",Ve+"+"+We+"(?="+[Ne,Fe+Be,"$"].join("|")+")",Fe+"?"+Be+"+"+$e,Fe+"+"+We,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pe,Ge].join("|"),"g"),et=RegExp("["+ze+Ee+_e+Ce+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,it={};it[R]=it[D]=it[L]=it[M]=it[j]=it[U]=it[F]=it[z]=it[B]=!0,it[m]=it[g]=it[P]=it[v]=it[A]=it[y]=it[w]=it[b]=it[_]=it[k]=it[S]=it[C]=it[I]=it[O]=it[x]=!1;var ot={};ot[m]=ot[g]=ot[P]=ot[A]=ot[v]=ot[y]=ot[R]=ot[D]=ot[L]=ot[M]=ot[j]=ot[_]=ot[k]=ot[S]=ot[C]=ot[I]=ot[O]=ot[N]=ot[U]=ot[F]=ot[z]=ot[B]=!0,ot[w]=ot[b]=ot[x]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,lt=parseInt,ut="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ct="object"==typeof self&&self&&self.Object===Object&&self,ht=ut||ct||Function("return this")(),dt=t&&!t.nodeType&&t,ft=dt&&e&&!e.nodeType&&e,pt=ft&&ft.exports===dt,mt=pt&&ut.process,gt=function(){try{return ft&&ft.require&&ft.require("util").types||mt&&mt.binding&&mt.binding("util")}catch(e){}}(),vt=gt&&gt.isArrayBuffer,yt=gt&&gt.isDate,wt=gt&&gt.isMap,bt=gt&&gt.isRegExp,Et=gt&&gt.isSet,_t=gt&&gt.isTypedArray;function kt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function St(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function It(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Nt(e,t){return!(null==e||!e.length)&&Ft(e,t,0)>-1}function xt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function At(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Rt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Dt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Mt=$t("length");function jt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Ut(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Ft(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Ut(e,Bt,n)}function zt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Bt(e){return e!=e}function Vt(e,t){var n=null==e?0:e.length;return n?qt(e,t)/n:d}function $t(e){return function(t){return null==t?i:t[e]}}function Wt(e){return function(t){return null==e?i:e[t]}}function Ht(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function qt(e,t){for(var n,r=-1,o=e.length;++r<o;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function Kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Gt(e){return e?e.slice(0,dn(e)+1).replace(re,""):e}function Qt(e){return function(t){return e(t)}}function Yt(e,t){return Pt(t,(function(t){return e[t]}))}function Xt(e,t){return e.has(t)}function Jt(e,t){for(var n=-1,r=e.length;++n<r&&Ft(t,e[n],0)>-1;);return n}function Zt(e,t){for(var n=e.length;n--&&Ft(t,e[n],0)>-1;);return n}var en=Wt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tn=Wt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(e){return"\\"+st[e]}function rn(e){return et.test(e)}function on(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function sn(e,t){return function(n){return e(t(n))}}function an(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function cn(e){return rn(e)?function(e){for(var t=Je.lastIndex=0;Je.test(e);)++t;return t}(e):Mt(e)}function hn(e){return rn(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.split("")}(e)}function dn(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var fn=Wt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pn=function e(t){var n,r=(t=null==t?ht:pn.defaults(ht.Object(),t,pn.pick(ht,nt))).Array,ie=t.Date,Ee=t.Error,_e=t.Function,ke=t.Math,Se=t.Object,Te=t.RegExp,Ce=t.String,Ie=t.TypeError,Oe=r.prototype,Ne=_e.prototype,xe=Se.prototype,Pe=t["__core-js_shared__"],Ae=Ne.toString,Re=xe.hasOwnProperty,De=0,Le=(n=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Me=xe.toString,je=Ae.call(Se),Ue=ht._,Fe=Te("^"+Ae.call(Re).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=pt?t.Buffer:i,Be=t.Symbol,Ve=t.Uint8Array,$e=ze?ze.allocUnsafe:i,We=sn(Se.getPrototypeOf,Se),He=Se.create,qe=xe.propertyIsEnumerable,Ke=Oe.splice,Ge=Be?Be.isConcatSpreadable:i,Qe=Be?Be.iterator:i,Je=Be?Be.toStringTag:i,et=function(){try{var e=lo(Se,"defineProperty");return e({},"",{}),e}catch(e){}}(),st=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,ut=ie&&ie.now!==ht.Date.now&&ie.now,ct=t.setTimeout!==ht.setTimeout&&t.setTimeout,dt=ke.ceil,ft=ke.floor,mt=Se.getOwnPropertySymbols,gt=ze?ze.isBuffer:i,Mt=t.isFinite,Wt=Oe.join,mn=sn(Se.keys,Se),gn=ke.max,vn=ke.min,yn=ie.now,wn=t.parseInt,bn=ke.random,En=Oe.reverse,_n=lo(t,"DataView"),kn=lo(t,"Map"),Sn=lo(t,"Promise"),Tn=lo(t,"Set"),Cn=lo(t,"WeakMap"),In=lo(Se,"create"),On=Cn&&new Cn,Nn={},xn=jo(_n),Pn=jo(kn),An=jo(Sn),Rn=jo(Tn),Dn=jo(Cn),Ln=Be?Be.prototype:i,Mn=Ln?Ln.valueOf:i,jn=Ln?Ln.toString:i;function Un(e){if(ea(e)&&!$s(e)&&!(e instanceof Vn)){if(e instanceof Bn)return e;if(Re.call(e,"__wrapped__"))return Uo(e)}return new Bn(e)}var Fn=function(){function e(){}return function(t){if(!Zs(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function zn(){}function Bn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function $n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Hn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Wn(e);this.size=t.size}function Gn(e,t){var n=$s(e),r=!n&&Vs(e),i=!n&&!r&&Ks(e),o=!n&&!r&&!i&&la(e),s=n||r||i||o,a=s?Kt(e.length,Ce):[],l=a.length;for(var u in e)!t&&!Re.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||go(u,l))||a.push(u);return a}function Qn(e){var t=e.length;return t?e[Hr(0,t-1)]:i}function Yn(e,t){return Ao(Ci(e),or(t,0,e.length))}function Xn(e){return Ao(Ci(e))}function Jn(e,t,n){(n!==i&&!Fs(e[t],n)||n===i&&!(t in e))&&rr(e,t,n)}function Zn(e,t,n){var r=e[t];Re.call(e,t)&&Fs(r,n)&&(n!==i||t in e)||rr(e,t,n)}function er(e,t){for(var n=e.length;n--;)if(Fs(e[n][0],t))return n;return-1}function tr(e,t,n,r){return cr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function nr(e,t){return e&&Ii(t,xa(t),e)}function rr(e,t,n){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ir(e,t){for(var n=-1,o=t.length,s=r(o),a=null==e;++n<o;)s[n]=a?i:Ta(e,t[n]);return s}function or(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function sr(e,t,n,r,o,s){var a,l=1&t,u=2&t,c=4&t;if(n&&(a=o?n(e,r,o,s):n(e)),a!==i)return a;if(!Zs(e))return e;var h=$s(e);if(h){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return Ci(e,a)}else{var d=ho(e),f=d==b||d==E;if(Ks(e))return bi(e,l);if(d==S||d==m||f&&!o){if(a=u||f?{}:po(e),!l)return u?function(e,t){return Ii(e,co(e),t)}(e,function(e,t){return e&&Ii(t,Pa(t),e)}(a,e)):function(e,t){return Ii(e,uo(e),t)}(e,nr(a,e))}else{if(!ot[d])return o?e:{};a=function(e,t,n){var r,i=e.constructor;switch(t){case P:return Ei(e);case v:case y:return new i(+e);case A:return function(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case R:case D:case L:case M:case j:case U:case F:case z:case B:return _i(e,n);case _:return new i;case k:case O:return new i(e);case C:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case I:return new i;case N:return r=e,Mn?Se(Mn.call(r)):{}}}(e,d,l)}}s||(s=new Kn);var p=s.get(e);if(p)return p;s.set(e,a),oa(e)?e.forEach((function(r){a.add(sr(r,t,n,r,e,s))})):ta(e)&&e.forEach((function(r,i){a.set(i,sr(r,t,n,i,e,s))}));var g=h?i:(c?u?to:eo:u?Pa:xa)(e);return Tt(g||e,(function(r,i){g&&(r=e[i=r]),Zn(a,i,sr(r,t,n,i,e,s))})),a}function ar(e,t,n){var r=n.length;if(null==e)return!r;for(e=Se(e);r--;){var o=n[r],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function lr(e,t,n){if("function"!=typeof e)throw new Ie(o);return Oo((function(){e.apply(i,n)}),t)}function ur(e,t,n,r){var i=-1,o=Nt,s=!0,a=e.length,l=[],u=t.length;if(!a)return l;n&&(t=Pt(t,Qt(n))),r?(o=xt,s=!1):t.length>=200&&(o=Xt,s=!1,t=new qn(t));e:for(;++i<a;){var c=e[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,s&&h==h){for(var d=u;d--;)if(t[d]===h)continue e;l.push(c)}else o(t,h,r)||l.push(c)}return l}Un.templateSettings={escape:Q,evaluate:Y,interpolate:X,variable:"",imports:{_:Un}},Un.prototype=zn.prototype,Un.prototype.constructor=Un,Bn.prototype=Fn(zn.prototype),Bn.prototype.constructor=Bn,Vn.prototype=Fn(zn.prototype),Vn.prototype.constructor=Vn,$n.prototype.clear=function(){this.__data__=In?In(null):{},this.size=0},$n.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},$n.prototype.get=function(e){var t=this.__data__;if(In){var n=t[e];return n===s?i:n}return Re.call(t,e)?t[e]:i},$n.prototype.has=function(e){var t=this.__data__;return In?t[e]!==i:Re.call(t,e)},$n.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=In&&t===i?s:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=er(t,e);return!(n<0||(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,0))},Wn.prototype.get=function(e){var t=this.__data__,n=er(t,e);return n<0?i:t[n][1]},Wn.prototype.has=function(e){return er(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,r=er(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new $n,map:new(kn||Wn),string:new $n}},Hn.prototype.delete=function(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t},Hn.prototype.get=function(e){return so(this,e).get(e)},Hn.prototype.has=function(e){return so(this,e).has(e)},Hn.prototype.set=function(e,t){var n=so(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},qn.prototype.add=qn.prototype.push=function(e){return this.__data__.set(e,s),this},qn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!kn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(e,t),this.size=n.size,this};var cr=xi(yr),hr=xi(wr,!0);function dr(e,t){var n=!0;return cr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function fr(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(l===i?a==a&&!aa(a):n(a,l)))var l=a,u=s}return u}function pr(e,t){var n=[];return cr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function mr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=mo),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?mr(a,t-1,n,r,i):At(i,a):r||(i[i.length]=a)}return i}var gr=Pi(),vr=Pi(!0);function yr(e,t){return e&&gr(e,t,xa)}function wr(e,t){return e&&vr(e,t,xa)}function br(e,t){return Ot(t,(function(t){return Ys(e[t])}))}function Er(e,t){for(var n=0,r=(t=gi(t,e)).length;null!=e&&n<r;)e=e[Mo(t[n++])];return n&&n==r?e:i}function _r(e,t,n){var r=t(e);return $s(e)?r:At(r,n(e))}function kr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Je&&Je in Se(e)?function(e){var t=Re.call(e,Je),n=e[Je];try{e[Je]=i;var r=!0}catch(e){}var o=Me.call(e);return r&&(t?e[Je]=n:delete e[Je]),o}(e):function(e){return Me.call(e)}(e)}function Sr(e,t){return e>t}function Tr(e,t){return null!=e&&Re.call(e,t)}function Cr(e,t){return null!=e&&t in Se(e)}function Ir(e,t,n){for(var o=n?xt:Nt,s=e[0].length,a=e.length,l=a,u=r(a),c=1/0,h=[];l--;){var d=e[l];l&&t&&(d=Pt(d,Qt(t))),c=vn(d.length,c),u[l]=!n&&(t||s>=120&&d.length>=120)?new qn(l&&d):i}d=e[0];var f=-1,p=u[0];e:for(;++f<s&&h.length<c;){var m=d[f],g=t?t(m):m;if(m=n||0!==m?m:0,!(p?Xt(p,g):o(h,g,n))){for(l=a;--l;){var v=u[l];if(!(v?Xt(v,g):o(e[l],g,n)))continue e}p&&p.push(g),h.push(m)}}return h}function Or(e,t,n){var r=null==(e=To(e,t=gi(t,e)))?e:e[Mo(Qo(t))];return null==r?i:kt(r,e,n)}function Nr(e){return ea(e)&&kr(e)==m}function xr(e,t,n,r,o){return e===t||(null==e||null==t||!ea(e)&&!ea(t)?e!=e&&t!=t:function(e,t,n,r,o,s){var a=$s(e),l=$s(t),u=a?g:ho(e),c=l?g:ho(t),h=(u=u==m?S:u)==S,d=(c=c==m?S:c)==S,f=u==c;if(f&&Ks(e)){if(!Ks(t))return!1;a=!0,h=!1}if(f&&!h)return s||(s=new Kn),a||la(e)?Ji(e,t,n,r,o,s):function(e,t,n,r,i,o,s){switch(n){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case P:return!(e.byteLength!=t.byteLength||!o(new Ve(e),new Ve(t)));case v:case y:case k:return Fs(+e,+t);case w:return e.name==t.name&&e.message==t.message;case C:case O:return e==t+"";case _:var a=on;case I:var l=1&r;if(a||(a=ln),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;r|=2,s.set(e,t);var c=Ji(a(e),a(t),r,i,o,s);return s.delete(e),c;case N:if(Mn)return Mn.call(e)==Mn.call(t)}return!1}(e,t,u,n,r,o,s);if(!(1&n)){var p=h&&Re.call(e,"__wrapped__"),b=d&&Re.call(t,"__wrapped__");if(p||b){var E=p?e.value():e,T=b?t.value():t;return s||(s=new Kn),o(E,T,n,r,s)}}return!!f&&(s||(s=new Kn),function(e,t,n,r,o,s){var a=1&n,l=eo(e),u=l.length;if(u!=eo(t).length&&!a)return!1;for(var c=u;c--;){var h=l[c];if(!(a?h in t:Re.call(t,h)))return!1}var d=s.get(e),f=s.get(t);if(d&&f)return d==t&&f==e;var p=!0;s.set(e,t),s.set(t,e);for(var m=a;++c<u;){var g=e[h=l[c]],v=t[h];if(r)var y=a?r(v,g,h,t,e,s):r(g,v,h,e,t,s);if(!(y===i?g===v||o(g,v,n,r,s):y)){p=!1;break}m||(m="constructor"==h)}if(p&&!m){var w=e.constructor,b=t.constructor;w==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,n,r,o,s))}(e,t,n,r,xr,o))}function Pr(e,t,n,r){var o=n.length,s=o,a=!r;if(null==e)return!s;for(e=Se(e);o--;){var l=n[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){var u=(l=n[o])[0],c=e[u],h=l[1];if(a&&l[2]){if(c===i&&!(u in e))return!1}else{var d=new Kn;if(r)var f=r(c,h,u,e,t,d);if(!(f===i?xr(h,c,3,r,d):f))return!1}}return!0}function Ar(e){return!(!Zs(e)||(t=e,Le&&Le in t))&&(Ys(e)?Fe:me).test(jo(e));var t}function Rr(e){return"function"==typeof e?e:null==e?nl:"object"==typeof e?$s(e)?Ur(e[0],e[1]):jr(e):hl(e)}function Dr(e){if(!Eo(e))return mn(e);var t=[];for(var n in Se(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lr(e,t){return e<t}function Mr(e,t){var n=-1,i=Hs(e)?r(e.length):[];return cr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function jr(e){var t=ao(e);return 1==t.length&&t[0][2]?ko(t[0][0],t[0][1]):function(n){return n===e||Pr(n,e,t)}}function Ur(e,t){return yo(e)&&_o(t)?ko(Mo(e),t):function(n){var r=Ta(n,e);return r===i&&r===t?Ca(n,e):xr(t,r,3)}}function Fr(e,t,n,r,o){e!==t&&gr(t,(function(s,a){if(o||(o=new Kn),Zs(s))!function(e,t,n,r,o,s,a){var l=Co(e,n),u=Co(t,n),c=a.get(u);if(c)Jn(e,n,c);else{var h=s?s(l,u,n+"",e,t,a):i,d=h===i;if(d){var f=$s(u),p=!f&&Ks(u),m=!f&&!p&&la(u);h=u,f||p||m?$s(l)?h=l:qs(l)?h=Ci(l):p?(d=!1,h=bi(u,!0)):m?(d=!1,h=_i(u,!0)):h=[]:ra(u)||Vs(u)?(h=l,Vs(l)?h=ga(l):Zs(l)&&!Ys(l)||(h=po(u))):d=!1}d&&(a.set(u,h),o(h,u,r,s,a),a.delete(u)),Jn(e,n,h)}}(e,t,a,n,Fr,r,o);else{var l=r?r(Co(e,a),s,a+"",e,t,o):i;l===i&&(l=s),Jn(e,a,l)}}),Pa)}function zr(e,t){var n=e.length;if(n)return go(t+=t<0?n:0,n)?e[t]:i}function Br(e,t,n){t=t.length?Pt(t,(function(e){return $s(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e})):[nl];var r=-1;t=Pt(t,Qt(oo()));var i=Mr(e,(function(e,n,i){var o=Pt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var r=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var l=ki(i[r],o[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));r--;)e[r]=e[r].value;return e}(i)}function Vr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=Er(e,s);n(a,s)&&Yr(o,gi(s,e),a)}return o}function $r(e,t,n,r){var i=r?zt:Ft,o=-1,s=t.length,a=e;for(e===t&&(t=Ci(t)),n&&(a=Pt(e,Qt(n)));++o<s;)for(var l=0,u=t[o],c=n?n(u):u;(l=i(a,c,l,r))>-1;)a!==e&&Ke.call(a,l,1),Ke.call(e,l,1);return e}function Wr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;go(i)?Ke.call(e,i,1):li(e,i)}}return e}function Hr(e,t){return e+ft(bn()*(t-e+1))}function qr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=ft(t/2))&&(e+=e)}while(t);return n}function Kr(e,t){return No(So(e,t,nl),e+"")}function Gr(e){return Qn(Fa(e))}function Qr(e,t){var n=Fa(e);return Ao(n,or(t,0,n.length))}function Yr(e,t,n,r){if(!Zs(e))return e;for(var o=-1,s=(t=gi(t,e)).length,a=s-1,l=e;null!=l&&++o<s;){var u=Mo(t[o]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=a){var h=l[u];(c=r?r(h,u,l):i)===i&&(c=Zs(h)?h:go(t[o+1])?[]:{})}Zn(l,u,c),l=l[u]}return e}var Xr=On?function(e,t){return On.set(e,t),e}:nl,Jr=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Za(t),writable:!0})}:nl;function Zr(e){return Ao(Fa(e))}function ei(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function ti(e,t){var n;return cr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ni(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!aa(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return ri(e,t,nl,n)}function ri(e,t,n,r){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,l=null===t,u=aa(t),c=t===i;o<s;){var h=ft((o+s)/2),d=n(e[h]),f=d!==i,p=null===d,m=d==d,g=aa(d);if(a)var v=r||m;else v=c?m&&(r||f):l?m&&f&&(r||!p):u?m&&f&&!p&&(r||!g):!p&&!g&&(r?d<=t:d<t);v?o=h+1:s=h}return vn(s,4294967294)}function ii(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Fs(a,l)){var l=a;o[i++]=0===s?0:s}}return o}function oi(e){return"number"==typeof e?e:aa(e)?d:+e}function si(e){if("string"==typeof e)return e;if($s(e))return Pt(e,si)+"";if(aa(e))return jn?jn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ai(e,t,n){var r=-1,i=Nt,o=e.length,s=!0,a=[],l=a;if(n)s=!1,i=xt;else if(o>=200){var u=t?null:qi(e);if(u)return ln(u);s=!1,i=Xt,l=new qn}else l=t?[]:a;e:for(;++r<o;){var c=e[r],h=t?t(c):c;if(c=n||0!==c?c:0,s&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),a.push(c)}else i(l,h,n)||(l!==a&&l.push(h),a.push(c))}return a}function li(e,t){return null==(e=To(e,t=gi(t,e)))||delete e[Mo(Qo(t))]}function ui(e,t,n,r){return Yr(e,t,n(Er(e,t)),r)}function ci(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ei(e,r?0:o,r?o+1:i):ei(e,r?o+1:0,r?i:o)}function hi(e,t){var n=e;return n instanceof Vn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,At([e],t.args))}),n)}function di(e,t,n){var i=e.length;if(i<2)return i?ai(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],l=-1;++l<i;)l!=o&&(s[o]=ur(s[o]||a,e[l],t,n));return ai(mr(s,1),t,n)}function fi(e,t,n){for(var r=-1,o=e.length,s=t.length,a={};++r<o;){var l=r<s?t[r]:i;n(a,e[r],l)}return a}function pi(e){return qs(e)?e:[]}function mi(e){return"function"==typeof e?e:nl}function gi(e,t){return $s(e)?e:yo(e,t)?[e]:Lo(va(e))}var vi=Kr;function yi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ei(e,t,n)}var wi=st||function(e){return ht.clearTimeout(e)};function bi(e,t){if(t)return e.slice();var n=e.length,r=$e?$e(n):new e.constructor(n);return e.copy(r),r}function Ei(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function _i(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ki(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,s=aa(e),a=t!==i,l=null===t,u=t==t,c=aa(t);if(!l&&!c&&!s&&e>t||s&&a&&u&&!l&&!c||r&&a&&u||!n&&u||!o)return 1;if(!r&&!s&&!c&&e<t||c&&n&&o&&!r&&!s||l&&n&&o||!a&&o||!u)return-1}return 0}function Si(e,t,n,i){for(var o=-1,s=e.length,a=n.length,l=-1,u=t.length,c=gn(s-a,0),h=r(u+c),d=!i;++l<u;)h[l]=t[l];for(;++o<a;)(d||o<s)&&(h[n[o]]=e[o]);for(;c--;)h[l++]=e[o++];return h}function Ti(e,t,n,i){for(var o=-1,s=e.length,a=-1,l=n.length,u=-1,c=t.length,h=gn(s-l,0),d=r(h+c),f=!i;++o<h;)d[o]=e[o];for(var p=o;++u<c;)d[p+u]=t[u];for(;++a<l;)(f||o<s)&&(d[p+n[a]]=e[o++]);return d}function Ci(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Ii(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var l=t[s],u=r?r(n[l],e[l],l,n,e):i;u===i&&(u=e[l]),o?rr(n,l,u):Zn(n,l,u)}return n}function Oi(e,t){return function(n,r){var i=$s(n)?St:tr,o=t?t():{};return i(n,e,oo(r,2),o)}}function Ni(e){return Kr((function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&vo(n[0],n[1],a)&&(s=o<3?i:s,o=1),t=Se(t);++r<o;){var l=n[r];l&&e(t,l,r,s)}return t}))}function xi(e,t){return function(n,r){if(null==n)return n;if(!Hs(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Se(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Pi(e){return function(t,n,r){for(var i=-1,o=Se(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}function Ai(e){return function(t){var n=rn(t=va(t))?hn(t):i,r=n?n[0]:t.charAt(0),o=n?yi(n,1).join(""):t.slice(1);return r[e]()+o}}function Ri(e){return function(t){return Rt(Ya(Va(t).replace(Ye,"")),e,"")}}function Di(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Fn(e.prototype),r=e.apply(n,t);return Zs(r)?r:n}}function Li(e){return function(t,n,r){var o=Se(t);if(!Hs(t)){var s=oo(n,3);t=xa(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[s?t[a]:a]:i}}function Mi(e){return Zi((function(t){var n=t.length,r=n,s=Bn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Ie(o);if(s&&!l&&"wrapper"==ro(a))var l=new Bn([],!0)}for(r=l?r:n;++r<n;){var u=ro(a=t[r]),c="wrapper"==u?no(a):i;l=c&&wo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[ro(c[0])].apply(l,c[3]):1==a.length&&wo(a)?l[u]():l.thru(a)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&$s(r))return l.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function ji(e,t,n,o,s,a,l,c,h,d){var f=t&u,p=1&t,m=2&t,g=24&t,v=512&t,y=m?i:Di(e);return function u(){for(var w=arguments.length,b=r(w),E=w;E--;)b[E]=arguments[E];if(g)var _=io(u),k=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,_);if(o&&(b=Si(b,o,s,g)),a&&(b=Ti(b,a,l,g)),w-=k,g&&w<d){var S=an(b,_);return Wi(e,t,ji,u.placeholder,n,b,S,c,h,d-w)}var T=p?n:this,C=m?T[e]:e;return w=b.length,c?b=function(e,t){for(var n=e.length,r=vn(t.length,n),o=Ci(e);r--;){var s=t[r];e[r]=go(s,n)?o[s]:i}return e}(b,c):v&&w>1&&b.reverse(),f&&h<w&&(b.length=h),this&&this!==ht&&this instanceof u&&(C=y||Di(C)),C.apply(T,b)}}function Ui(e,t){return function(n,r){return function(e,t,n,r){return yr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Fi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=oi(n),r=oi(r)),o=e(n,r)}return o}}function zi(e){return Zi((function(t){return t=Pt(t,Qt(oo())),Kr((function(n){var r=this;return e(t,(function(e){return kt(e,r,n)}))}))}))}function Bi(e,t){var n=(t=t===i?" ":si(t)).length;if(n<2)return n?qr(t,e):t;var r=qr(t,dt(e/cn(t)));return rn(t)?yi(hn(r),0,e).join(""):r.slice(0,e)}function Vi(e){return function(t,n,o){return o&&"number"!=typeof o&&vo(t,n,o)&&(n=o=i),t=da(t),n===i?(n=t,t=0):n=da(n),function(e,t,n,i){for(var o=-1,s=gn(dt((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,o=o===i?t<n?1:-1:da(o),e)}}function $i(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ma(t),n=ma(n)),e(t,n)}}function Wi(e,t,n,r,o,s,a,u,c,h){var d=8&t;t|=d?l:64,4&(t&=~(d?64:l))||(t&=-4);var f=[e,t,o,d?s:i,d?a:i,d?i:s,d?i:a,u,c,h],p=n.apply(i,f);return wo(e)&&Io(p,f),p.placeholder=r,xo(p,e,t)}function Hi(e){var t=ke[e];return function(e,n){if(e=ma(e),(n=null==n?0:vn(fa(n),292))&&Mt(e)){var r=(va(e)+"e").split("e");return+((r=(va(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var qi=Tn&&1/ln(new Tn([,-0]))[1]==c?function(e){return new Tn(e)}:al;function Ki(e){return function(t){var n=ho(t);return n==_?on(t):n==I?un(t):function(e,t){return Pt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Gi(e,t,n,s,c,h,d,f){var p=2&t;if(!p&&"function"!=typeof e)throw new Ie(o);var m=s?s.length:0;if(m||(t&=-97,s=c=i),d=d===i?d:gn(fa(d),0),f=f===i?f:fa(f),m-=c?c.length:0,64&t){var g=s,v=c;s=c=i}var y=p?i:no(e),w=[e,t,n,s,c,g,v,h,d,f];if(y&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==u&&8==n||r==u&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?Si(c,l,t[4]):l,e[4]=c?an(e[3],a):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Ti(c,l,t[6]):l,e[6]=c?an(e[5],a):t[6]),(l=t[7])&&(e[7]=l),r&u&&(e[8]=null==e[8]?t[8]:vn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(w,y),e=w[0],t=w[1],n=w[2],s=w[3],c=w[4],!(f=w[9]=w[9]===i?p?0:e.length:gn(w[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)b=8==t||16==t?function(e,t,n){var o=Di(e);return function s(){for(var a=arguments.length,l=r(a),u=a,c=io(s);u--;)l[u]=arguments[u];var h=a<3&&l[0]!==c&&l[a-1]!==c?[]:an(l,c);return(a-=h.length)<n?Wi(e,t,ji,s.placeholder,i,l,h,i,i,n-a):kt(this&&this!==ht&&this instanceof s?o:e,this,l)}}(e,t,f):t!=l&&33!=t||c.length?ji.apply(i,w):function(e,t,n,i){var o=1&t,s=Di(e);return function t(){for(var a=-1,l=arguments.length,u=-1,c=i.length,h=r(c+l),d=this&&this!==ht&&this instanceof t?s:e;++u<c;)h[u]=i[u];for(;l--;)h[u++]=arguments[++a];return kt(d,o?n:this,h)}}(e,t,n,s);else var b=function(e,t,n){var r=1&t,i=Di(e);return function t(){return(this&&this!==ht&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return xo((y?Xr:Io)(b,w),e,t)}function Qi(e,t,n,r){return e===i||Fs(e,xe[n])&&!Re.call(r,n)?t:e}function Yi(e,t,n,r,o,s){return Zs(e)&&Zs(t)&&(s.set(t,e),Fr(e,t,i,Yi,s),s.delete(t)),e}function Xi(e){return ra(e)?i:e}function Ji(e,t,n,r,o,s){var a=1&n,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var c=s.get(e),h=s.get(t);if(c&&h)return c==t&&h==e;var d=-1,f=!0,p=2&n?new qn:i;for(s.set(e,t),s.set(t,e);++d<l;){var m=e[d],g=t[d];if(r)var v=a?r(g,m,d,t,e,s):r(m,g,d,e,t,s);if(v!==i){if(v)continue;f=!1;break}if(p){if(!Lt(t,(function(e,t){if(!Xt(p,t)&&(m===e||o(m,e,n,r,s)))return p.push(t)}))){f=!1;break}}else if(m!==g&&!o(m,g,n,r,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function Zi(e){return No(So(e,i,Wo),e+"")}function eo(e){return _r(e,xa,uo)}function to(e){return _r(e,Pa,co)}var no=On?function(e){return On.get(e)}:al;function ro(e){for(var t=e.name+"",n=Nn[t],r=Re.call(Nn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function io(e){return(Re.call(Un,"placeholder")?Un:e).placeholder}function oo(){var e=Un.iteratee||rl;return e=e===rl?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function so(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ao(e){for(var t=xa(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,_o(i)]}return t}function lo(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Ar(n)?n:i}var uo=mt?function(e){return null==e?[]:(e=Se(e),Ot(mt(e),(function(t){return qe.call(e,t)})))}:pl,co=mt?function(e){for(var t=[];e;)At(t,uo(e)),e=We(e);return t}:pl,ho=kr;function fo(e,t,n){for(var r=-1,i=(t=gi(t,e)).length,o=!1;++r<i;){var s=Mo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Js(i)&&go(s,i)&&($s(e)||Vs(e))}function po(e){return"function"!=typeof e.constructor||Eo(e)?{}:Fn(We(e))}function mo(e){return $s(e)||Vs(e)||!!(Ge&&e&&e[Ge])}function go(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&ve.test(e))&&e>-1&&e%1==0&&e<t}function vo(e,t,n){if(!Zs(n))return!1;var r=typeof t;return!!("number"==r?Hs(n)&&go(t,n.length):"string"==r&&t in n)&&Fs(n[t],e)}function yo(e,t){if($s(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!aa(e))||Z.test(e)||!J.test(e)||null!=t&&e in Se(t)}function wo(e){var t=ro(e),n=Un[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=no(n);return!!r&&e===r[0]}(_n&&ho(new _n(new ArrayBuffer(1)))!=A||kn&&ho(new kn)!=_||Sn&&ho(Sn.resolve())!=T||Tn&&ho(new Tn)!=I||Cn&&ho(new Cn)!=x)&&(ho=function(e){var t=kr(e),n=t==S?e.constructor:i,r=n?jo(n):"";if(r)switch(r){case xn:return A;case Pn:return _;case An:return T;case Rn:return I;case Dn:return x}return t});var bo=Pe?Ys:ml;function Eo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||xe)}function _o(e){return e==e&&!Zs(e)}function ko(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in Se(n))}}function So(e,t,n){return t=gn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=gn(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var l=r(t+1);++o<t;)l[o]=i[o];return l[t]=n(a),kt(e,this,l)}}function To(e,t){return t.length<2?e:Er(e,ei(t,0,-1))}function Co(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Io=Po(Xr),Oo=ct||function(e,t){return ht.setTimeout(e,t)},No=Po(Jr);function xo(e,t,n){var r=t+"";return No(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Tt(p,(function(n){var r="_."+n[0];t&n[1]&&!Nt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ae):[]}(r),n)))}function Po(e){var t=0,n=0;return function(){var r=yn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ao(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var s=Hr(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Ro,Do,Lo=(Ro=Rs((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,i){t.push(r?i.replace(ce,"$1"):n||e)})),t}),(function(e){return 500===Do.size&&Do.clear(),e})),Do=Ro.cache,Ro);function Mo(e){if("string"==typeof e||aa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function jo(e){if(null!=e){try{return Ae.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Uo(e){if(e instanceof Vn)return e.clone();var t=new Bn(e.__wrapped__,e.__chain__);return t.__actions__=Ci(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Fo=Kr((function(e,t){return qs(e)?ur(e,mr(t,1,qs,!0)):[]})),zo=Kr((function(e,t){var n=Qo(t);return qs(n)&&(n=i),qs(e)?ur(e,mr(t,1,qs,!0),oo(n,2)):[]})),Bo=Kr((function(e,t){var n=Qo(t);return qs(n)&&(n=i),qs(e)?ur(e,mr(t,1,qs,!0),i,n):[]}));function Vo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:fa(n);return i<0&&(i=gn(r+i,0)),Ut(e,oo(t,3),i)}function $o(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=fa(n),o=n<0?gn(r+o,0):vn(o,r-1)),Ut(e,oo(t,3),o,!0)}function Wo(e){return null!=e&&e.length?mr(e,1):[]}function Ho(e){return e&&e.length?e[0]:i}var qo=Kr((function(e){var t=Pt(e,pi);return t.length&&t[0]===e[0]?Ir(t):[]})),Ko=Kr((function(e){var t=Qo(e),n=Pt(e,pi);return t===Qo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Ir(n,oo(t,2)):[]})),Go=Kr((function(e){var t=Qo(e),n=Pt(e,pi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Ir(n,i,t):[]}));function Qo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Yo=Kr(Xo);function Xo(e,t){return e&&e.length&&t&&t.length?$r(e,t):e}var Jo=Zi((function(e,t){var n=null==e?0:e.length,r=ir(e,t);return Wr(e,Pt(t,(function(e){return go(e,n)?+e:e})).sort(ki)),r}));function Zo(e){return null==e?e:En.call(e)}var es=Kr((function(e){return ai(mr(e,1,qs,!0))})),ts=Kr((function(e){var t=Qo(e);return qs(t)&&(t=i),ai(mr(e,1,qs,!0),oo(t,2))})),ns=Kr((function(e){var t=Qo(e);return t="function"==typeof t?t:i,ai(mr(e,1,qs,!0),i,t)}));function rs(e){if(!e||!e.length)return[];var t=0;return e=Ot(e,(function(e){if(qs(e))return t=gn(e.length,t),!0})),Kt(t,(function(t){return Pt(e,$t(t))}))}function is(e,t){if(!e||!e.length)return[];var n=rs(e);return null==t?n:Pt(n,(function(e){return kt(t,i,e)}))}var os=Kr((function(e,t){return qs(e)?ur(e,t):[]})),ss=Kr((function(e){return di(Ot(e,qs))})),as=Kr((function(e){var t=Qo(e);return qs(t)&&(t=i),di(Ot(e,qs),oo(t,2))})),ls=Kr((function(e){var t=Qo(e);return t="function"==typeof t?t:i,di(Ot(e,qs),i,t)})),us=Kr(rs),cs=Kr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,is(e,n)}));function hs(e){var t=Un(e);return t.__chain__=!0,t}function ds(e,t){return t(e)}var fs=Zi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return ir(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&go(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ds,args:[o],thisArg:i}),new Bn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),ps=Oi((function(e,t,n){Re.call(e,n)?++e[n]:rr(e,n,1)})),ms=Li(Vo),gs=Li($o);function vs(e,t){return($s(e)?Tt:cr)(e,oo(t,3))}function ys(e,t){return($s(e)?Ct:hr)(e,oo(t,3))}var ws=Oi((function(e,t,n){Re.call(e,n)?e[n].push(t):rr(e,n,[t])})),bs=Kr((function(e,t,n){var i=-1,o="function"==typeof t,s=Hs(e)?r(e.length):[];return cr(e,(function(e){s[++i]=o?kt(t,e,n):Or(e,t,n)})),s})),Es=Oi((function(e,t,n){rr(e,n,t)}));function _s(e,t){return($s(e)?Pt:Mr)(e,oo(t,3))}var ks=Oi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Ss=Kr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&vo(e,t[0],t[1])?t=[]:n>2&&vo(t[0],t[1],t[2])&&(t=[t[0]]),Br(e,mr(t,1),[])})),Ts=ut||function(){return ht.Date.now()};function Cs(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Gi(e,u,i,i,i,i,t)}function Is(e,t){var n;if("function"!=typeof t)throw new Ie(o);return e=fa(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Os=Kr((function(e,t,n){var r=1;if(n.length){var i=an(n,io(Os));r|=l}return Gi(e,r,t,n,i)})),Ns=Kr((function(e,t,n){var r=3;if(n.length){var i=an(n,io(Ns));r|=l}return Gi(t,r,e,n,i)}));function xs(e,t,n){var r,s,a,l,u,c,h=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new Ie(o);function m(t){var n=r,o=s;return r=s=i,h=t,l=e.apply(o,n)}function g(e){var n=e-c;return c===i||n>=t||n<0||f&&e-h>=a}function v(){var e=Ts();if(g(e))return y(e);u=Oo(v,function(e){var n=t-(e-c);return f?vn(n,a-(e-h)):n}(e))}function y(e){return u=i,p&&r?m(e):(r=s=i,l)}function w(){var e=Ts(),n=g(e);if(r=arguments,s=this,c=e,n){if(u===i)return function(e){return h=e,u=Oo(v,t),d?m(e):l}(c);if(f)return wi(u),u=Oo(v,t),m(c)}return u===i&&(u=Oo(v,t)),l}return t=ma(t)||0,Zs(n)&&(d=!!n.leading,a=(f="maxWait"in n)?gn(ma(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),w.cancel=function(){u!==i&&wi(u),h=0,r=c=s=u=i},w.flush=function(){return u===i?l:y(Ts())},w}var Ps=Kr((function(e,t){return lr(e,1,t)})),As=Kr((function(e,t,n){return lr(e,ma(t)||0,n)}));function Rs(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ie(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Rs.Cache||Hn),n}function Ds(e){if("function"!=typeof e)throw new Ie(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Rs.Cache=Hn;var Ls=vi((function(e,t){var n=(t=1==t.length&&$s(t[0])?Pt(t[0],Qt(oo())):Pt(mr(t,1),Qt(oo()))).length;return Kr((function(r){for(var i=-1,o=vn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return kt(e,this,r)}))})),Ms=Kr((function(e,t){var n=an(t,io(Ms));return Gi(e,l,i,t,n)})),js=Kr((function(e,t){var n=an(t,io(js));return Gi(e,64,i,t,n)})),Us=Zi((function(e,t){return Gi(e,256,i,i,i,t)}));function Fs(e,t){return e===t||e!=e&&t!=t}var zs=$i(Sr),Bs=$i((function(e,t){return e>=t})),Vs=Nr(function(){return arguments}())?Nr:function(e){return ea(e)&&Re.call(e,"callee")&&!qe.call(e,"callee")},$s=r.isArray,Ws=vt?Qt(vt):function(e){return ea(e)&&kr(e)==P};function Hs(e){return null!=e&&Js(e.length)&&!Ys(e)}function qs(e){return ea(e)&&Hs(e)}var Ks=gt||ml,Gs=yt?Qt(yt):function(e){return ea(e)&&kr(e)==y};function Qs(e){if(!ea(e))return!1;var t=kr(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ra(e)}function Ys(e){if(!Zs(e))return!1;var t=kr(e);return t==b||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Xs(e){return"number"==typeof e&&e==fa(e)}function Js(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function Zs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ea(e){return null!=e&&"object"==typeof e}var ta=wt?Qt(wt):function(e){return ea(e)&&ho(e)==_};function na(e){return"number"==typeof e||ea(e)&&kr(e)==k}function ra(e){if(!ea(e)||kr(e)!=S)return!1;var t=We(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ae.call(n)==je}var ia=bt?Qt(bt):function(e){return ea(e)&&kr(e)==C},oa=Et?Qt(Et):function(e){return ea(e)&&ho(e)==I};function sa(e){return"string"==typeof e||!$s(e)&&ea(e)&&kr(e)==O}function aa(e){return"symbol"==typeof e||ea(e)&&kr(e)==N}var la=_t?Qt(_t):function(e){return ea(e)&&Js(e.length)&&!!it[kr(e)]},ua=$i(Lr),ca=$i((function(e,t){return e<=t}));function ha(e){if(!e)return[];if(Hs(e))return sa(e)?hn(e):Ci(e);if(Qe&&e[Qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qe]());var t=ho(e);return(t==_?on:t==I?ln:Fa)(e)}function da(e){return e?(e=ma(e))===c||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function fa(e){var t=da(e),n=t%1;return t==t?n?t-n:t:0}function pa(e){return e?or(fa(e),0,f):0}function ma(e){if("number"==typeof e)return e;if(aa(e))return d;if(Zs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Zs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Gt(e);var n=pe.test(e);return n||ge.test(e)?lt(e.slice(2),n?2:8):fe.test(e)?d:+e}function ga(e){return Ii(e,Pa(e))}function va(e){return null==e?"":si(e)}var ya=Ni((function(e,t){if(Eo(t)||Hs(t))Ii(t,xa(t),e);else for(var n in t)Re.call(t,n)&&Zn(e,n,t[n])})),wa=Ni((function(e,t){Ii(t,Pa(t),e)})),ba=Ni((function(e,t,n,r){Ii(t,Pa(t),e,r)})),Ea=Ni((function(e,t,n,r){Ii(t,xa(t),e,r)})),_a=Zi(ir),ka=Kr((function(e,t){e=Se(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&vo(t[0],t[1],o)&&(r=1);++n<r;)for(var s=t[n],a=Pa(s),l=-1,u=a.length;++l<u;){var c=a[l],h=e[c];(h===i||Fs(h,xe[c])&&!Re.call(e,c))&&(e[c]=s[c])}return e})),Sa=Kr((function(e){return e.push(i,Yi),kt(Ra,i,e)}));function Ta(e,t,n){var r=null==e?i:Er(e,t);return r===i?n:r}function Ca(e,t){return null!=e&&fo(e,t,Cr)}var Ia=Ui((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),e[t]=n}),Za(nl)),Oa=Ui((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]}),oo),Na=Kr(Or);function xa(e){return Hs(e)?Gn(e):Dr(e)}function Pa(e){return Hs(e)?Gn(e,!0):function(e){if(!Zs(e))return function(e){var t=[];if(null!=e)for(var n in Se(e))t.push(n);return t}(e);var t=Eo(e),n=[];for(var r in e)("constructor"!=r||!t&&Re.call(e,r))&&n.push(r);return n}(e)}var Aa=Ni((function(e,t,n){Fr(e,t,n)})),Ra=Ni((function(e,t,n,r){Fr(e,t,n,r)})),Da=Zi((function(e,t){var n={};if(null==e)return n;var r=!1;t=Pt(t,(function(t){return t=gi(t,e),r||(r=t.length>1),t})),Ii(e,to(e),n),r&&(n=sr(n,7,Xi));for(var i=t.length;i--;)li(n,t[i]);return n})),La=Zi((function(e,t){return null==e?{}:function(e,t){return Vr(e,t,(function(t,n){return Ca(e,n)}))}(e,t)}));function Ma(e,t){if(null==e)return{};var n=Pt(to(e),(function(e){return[e]}));return t=oo(t),Vr(e,n,(function(e,n){return t(e,n[0])}))}var ja=Ki(xa),Ua=Ki(Pa);function Fa(e){return null==e?[]:Yt(e,xa(e))}var za=Ri((function(e,t,n){return t=t.toLowerCase(),e+(n?Ba(t):t)}));function Ba(e){return Qa(va(e).toLowerCase())}function Va(e){return(e=va(e))&&e.replace(ye,en).replace(Xe,"")}var $a=Ri((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Wa=Ri((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ha=Ai("toLowerCase"),qa=Ri((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Ka=Ri((function(e,t,n){return e+(n?" ":"")+Qa(t)})),Ga=Ri((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Qa=Ai("toUpperCase");function Ya(e,t,n){return e=va(e),(t=n?i:t)===i?function(e){return tt.test(e)}(e)?function(e){return e.match(Ze)||[]}(e):function(e){return e.match(le)||[]}(e):e.match(t)||[]}var Xa=Kr((function(e,t){try{return kt(e,i,t)}catch(e){return Qs(e)?e:new Ee(e)}})),Ja=Zi((function(e,t){return Tt(t,(function(t){t=Mo(t),rr(e,t,Os(e[t],e))})),e}));function Za(e){return function(){return e}}var el=Mi(),tl=Mi(!0);function nl(e){return e}function rl(e){return Rr("function"==typeof e?e:sr(e,1))}var il=Kr((function(e,t){return function(n){return Or(n,e,t)}})),ol=Kr((function(e,t){return function(n){return Or(e,n,t)}}));function sl(e,t,n){var r=xa(t),i=br(t,r);null!=n||Zs(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=br(t,xa(t)));var o=!(Zs(n)&&"chain"in n&&!n.chain),s=Ys(e);return Tt(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Ci(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,At([this.value()],arguments))})})),e}function al(){}var ll=zi(Pt),ul=zi(It),cl=zi(Lt);function hl(e){return yo(e)?$t(Mo(e)):function(e){return function(t){return Er(t,e)}}(e)}var dl=Vi(),fl=Vi(!0);function pl(){return[]}function ml(){return!1}var gl,vl=Fi((function(e,t){return e+t}),0),yl=Hi("ceil"),wl=Fi((function(e,t){return e/t}),1),bl=Hi("floor"),El=Fi((function(e,t){return e*t}),1),_l=Hi("round"),kl=Fi((function(e,t){return e-t}),0);return Un.after=function(e,t){if("function"!=typeof t)throw new Ie(o);return e=fa(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=Cs,Un.assign=ya,Un.assignIn=wa,Un.assignInWith=ba,Un.assignWith=Ea,Un.at=_a,Un.before=Is,Un.bind=Os,Un.bindAll=Ja,Un.bindKey=Ns,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return $s(e)?e:[e]},Un.chain=hs,Un.chunk=function(e,t,n){t=(n?vo(e,t,n):t===i)?1:gn(fa(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,l=r(dt(o/t));s<o;)l[a++]=ei(e,s,s+=t);return l},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return At($s(n)?Ci(n):[n],mr(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=oo();return e=t?Pt(e,(function(e){if("function"!=typeof e[1])throw new Ie(o);return[n(e[0]),e[1]]})):[],Kr((function(n){for(var r=-1;++r<t;){var i=e[r];if(kt(i[0],this,n))return kt(i[1],this,n)}}))},Un.conforms=function(e){return function(e){var t=xa(e);return function(n){return ar(n,e,t)}}(sr(e,1))},Un.constant=Za,Un.countBy=ps,Un.create=function(e,t){var n=Fn(e);return null==t?n:nr(n,t)},Un.curry=function e(t,n,r){var o=Gi(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Un.curryRight=function e(t,n,r){var o=Gi(t,16,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Un.debounce=xs,Un.defaults=ka,Un.defaultsDeep=Sa,Un.defer=Ps,Un.delay=As,Un.difference=Fo,Un.differenceBy=zo,Un.differenceWith=Bo,Un.drop=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=n||t===i?1:fa(t))<0?0:t,r):[]},Un.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,0,(t=r-(t=n||t===i?1:fa(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?ci(e,oo(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?ci(e,oo(t,3),!0):[]},Un.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&vo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=fa(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:fa(r))<0&&(r+=o),r=n>r?0:pa(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Un.filter=function(e,t){return($s(e)?Ot:pr)(e,oo(t,3))},Un.flatMap=function(e,t){return mr(_s(e,t),1)},Un.flatMapDeep=function(e,t){return mr(_s(e,t),c)},Un.flatMapDepth=function(e,t,n){return n=n===i?1:fa(n),mr(_s(e,t),n)},Un.flatten=Wo,Un.flattenDeep=function(e){return null!=e&&e.length?mr(e,c):[]},Un.flattenDepth=function(e,t){return null!=e&&e.length?mr(e,t=t===i?1:fa(t)):[]},Un.flip=function(e){return Gi(e,512)},Un.flow=el,Un.flowRight=tl,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Un.functions=function(e){return null==e?[]:br(e,xa(e))},Un.functionsIn=function(e){return null==e?[]:br(e,Pa(e))},Un.groupBy=ws,Un.initial=function(e){return null!=e&&e.length?ei(e,0,-1):[]},Un.intersection=qo,Un.intersectionBy=Ko,Un.intersectionWith=Go,Un.invert=Ia,Un.invertBy=Oa,Un.invokeMap=bs,Un.iteratee=rl,Un.keyBy=Es,Un.keys=xa,Un.keysIn=Pa,Un.map=_s,Un.mapKeys=function(e,t){var n={};return t=oo(t,3),yr(e,(function(e,r,i){rr(n,t(e,r,i),e)})),n},Un.mapValues=function(e,t){var n={};return t=oo(t,3),yr(e,(function(e,r,i){rr(n,r,t(e,r,i))})),n},Un.matches=function(e){return jr(sr(e,1))},Un.matchesProperty=function(e,t){return Ur(e,sr(t,1))},Un.memoize=Rs,Un.merge=Aa,Un.mergeWith=Ra,Un.method=il,Un.methodOf=ol,Un.mixin=sl,Un.negate=Ds,Un.nthArg=function(e){return e=fa(e),Kr((function(t){return zr(t,e)}))},Un.omit=Da,Un.omitBy=function(e,t){return Ma(e,Ds(oo(t)))},Un.once=function(e){return Is(2,e)},Un.orderBy=function(e,t,n,r){return null==e?[]:($s(t)||(t=null==t?[]:[t]),$s(n=r?i:n)||(n=null==n?[]:[n]),Br(e,t,n))},Un.over=ll,Un.overArgs=Ls,Un.overEvery=ul,Un.overSome=cl,Un.partial=Ms,Un.partialRight=js,Un.partition=ks,Un.pick=La,Un.pickBy=Ma,Un.property=hl,Un.propertyOf=function(e){return function(t){return null==e?i:Er(e,t)}},Un.pull=Yo,Un.pullAll=Xo,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,oo(n,2)):e},Un.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,i,n):e},Un.pullAt=Jo,Un.range=dl,Un.rangeRight=fl,Un.rearg=Us,Un.reject=function(e,t){return($s(e)?Ot:pr)(e,Ds(oo(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=oo(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Wr(e,i),n},Un.rest=function(e,t){if("function"!=typeof e)throw new Ie(o);return Kr(e,t=t===i?t:fa(t))},Un.reverse=Zo,Un.sampleSize=function(e,t,n){return t=(n?vo(e,t,n):t===i)?1:fa(t),($s(e)?Yn:Qr)(e,t)},Un.set=function(e,t,n){return null==e?e:Yr(e,t,n)},Un.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Yr(e,t,n,r)},Un.shuffle=function(e){return($s(e)?Xn:Zr)(e)},Un.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&vo(e,t,n)?(t=0,n=r):(t=null==t?0:fa(t),n=n===i?r:fa(n)),ei(e,t,n)):[]},Un.sortBy=Ss,Un.sortedUniq=function(e){return e&&e.length?ii(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?ii(e,oo(t,2)):[]},Un.split=function(e,t,n){return n&&"number"!=typeof n&&vo(e,t,n)&&(t=n=i),(n=n===i?f:n>>>0)?(e=va(e))&&("string"==typeof t||null!=t&&!ia(t))&&!(t=si(t))&&rn(e)?yi(hn(e),0,n):e.split(t,n):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new Ie(o);return t=null==t?0:gn(fa(t),0),Kr((function(n){var r=n[t],i=yi(n,0,t);return r&&At(i,r),kt(e,this,i)}))},Un.tail=function(e){var t=null==e?0:e.length;return t?ei(e,1,t):[]},Un.take=function(e,t,n){return e&&e.length?ei(e,0,(t=n||t===i?1:fa(t))<0?0:t):[]},Un.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=r-(t=n||t===i?1:fa(t)))<0?0:t,r):[]},Un.takeRightWhile=function(e,t){return e&&e.length?ci(e,oo(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?ci(e,oo(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ie(o);return Zs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),xs(e,t,{leading:r,maxWait:t,trailing:i})},Un.thru=ds,Un.toArray=ha,Un.toPairs=ja,Un.toPairsIn=Ua,Un.toPath=function(e){return $s(e)?Pt(e,Mo):aa(e)?[e]:Ci(Lo(va(e)))},Un.toPlainObject=ga,Un.transform=function(e,t,n){var r=$s(e),i=r||Ks(e)||la(e);if(t=oo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Zs(e)&&Ys(o)?Fn(We(e)):{}}return(i?Tt:yr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Un.unary=function(e){return Cs(e,1)},Un.union=es,Un.unionBy=ts,Un.unionWith=ns,Un.uniq=function(e){return e&&e.length?ai(e):[]},Un.uniqBy=function(e,t){return e&&e.length?ai(e,oo(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ai(e,i,t):[]},Un.unset=function(e,t){return null==e||li(e,t)},Un.unzip=rs,Un.unzipWith=is,Un.update=function(e,t,n){return null==e?e:ui(e,t,mi(n))},Un.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ui(e,t,mi(n),r)},Un.values=Fa,Un.valuesIn=function(e){return null==e?[]:Yt(e,Pa(e))},Un.without=os,Un.words=Ya,Un.wrap=function(e,t){return Ms(mi(t),e)},Un.xor=ss,Un.xorBy=as,Un.xorWith=ls,Un.zip=us,Un.zipObject=function(e,t){return fi(e||[],t||[],Zn)},Un.zipObjectDeep=function(e,t){return fi(e||[],t||[],Yr)},Un.zipWith=cs,Un.entries=ja,Un.entriesIn=Ua,Un.extend=wa,Un.extendWith=ba,sl(Un,Un),Un.add=vl,Un.attempt=Xa,Un.camelCase=za,Un.capitalize=Ba,Un.ceil=yl,Un.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ma(n))==n?n:0),t!==i&&(t=(t=ma(t))==t?t:0),or(ma(e),t,n)},Un.clone=function(e){return sr(e,4)},Un.cloneDeep=function(e){return sr(e,5)},Un.cloneDeepWith=function(e,t){return sr(e,5,t="function"==typeof t?t:i)},Un.cloneWith=function(e,t){return sr(e,4,t="function"==typeof t?t:i)},Un.conformsTo=function(e,t){return null==t||ar(e,t,xa(t))},Un.deburr=Va,Un.defaultTo=function(e,t){return null==e||e!=e?t:e},Un.divide=wl,Un.endsWith=function(e,t,n){e=va(e),t=si(t);var r=e.length,o=n=n===i?r:or(fa(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Un.eq=Fs,Un.escape=function(e){return(e=va(e))&&G.test(e)?e.replace(q,tn):e},Un.escapeRegExp=function(e){return(e=va(e))&&ne.test(e)?e.replace(te,"\\$&"):e},Un.every=function(e,t,n){var r=$s(e)?It:dr;return n&&vo(e,t,n)&&(t=i),r(e,oo(t,3))},Un.find=ms,Un.findIndex=Vo,Un.findKey=function(e,t){return jt(e,oo(t,3),yr)},Un.findLast=gs,Un.findLastIndex=$o,Un.findLastKey=function(e,t){return jt(e,oo(t,3),wr)},Un.floor=bl,Un.forEach=vs,Un.forEachRight=ys,Un.forIn=function(e,t){return null==e?e:gr(e,oo(t,3),Pa)},Un.forInRight=function(e,t){return null==e?e:vr(e,oo(t,3),Pa)},Un.forOwn=function(e,t){return e&&yr(e,oo(t,3))},Un.forOwnRight=function(e,t){return e&&wr(e,oo(t,3))},Un.get=Ta,Un.gt=zs,Un.gte=Bs,Un.has=function(e,t){return null!=e&&fo(e,t,Tr)},Un.hasIn=Ca,Un.head=Ho,Un.identity=nl,Un.includes=function(e,t,n,r){e=Hs(e)?e:Fa(e),n=n&&!r?fa(n):0;var i=e.length;return n<0&&(n=gn(i+n,0)),sa(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ft(e,t,n)>-1},Un.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:fa(n);return i<0&&(i=gn(r+i,0)),Ft(e,t,i)},Un.inRange=function(e,t,n){return t=da(t),n===i?(n=t,t=0):n=da(n),function(e,t,n){return e>=vn(t,n)&&e<gn(t,n)}(e=ma(e),t,n)},Un.invoke=Na,Un.isArguments=Vs,Un.isArray=$s,Un.isArrayBuffer=Ws,Un.isArrayLike=Hs,Un.isArrayLikeObject=qs,Un.isBoolean=function(e){return!0===e||!1===e||ea(e)&&kr(e)==v},Un.isBuffer=Ks,Un.isDate=Gs,Un.isElement=function(e){return ea(e)&&1===e.nodeType&&!ra(e)},Un.isEmpty=function(e){if(null==e)return!0;if(Hs(e)&&($s(e)||"string"==typeof e||"function"==typeof e.splice||Ks(e)||la(e)||Vs(e)))return!e.length;var t=ho(e);if(t==_||t==I)return!e.size;if(Eo(e))return!Dr(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return xr(e,t)},Un.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?xr(e,t,i,n):!!r},Un.isError=Qs,Un.isFinite=function(e){return"number"==typeof e&&Mt(e)},Un.isFunction=Ys,Un.isInteger=Xs,Un.isLength=Js,Un.isMap=ta,Un.isMatch=function(e,t){return e===t||Pr(e,t,ao(t))},Un.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Pr(e,t,ao(t),n)},Un.isNaN=function(e){return na(e)&&e!=+e},Un.isNative=function(e){if(bo(e))throw new Ee("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ar(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=na,Un.isObject=Zs,Un.isObjectLike=ea,Un.isPlainObject=ra,Un.isRegExp=ia,Un.isSafeInteger=function(e){return Xs(e)&&e>=-9007199254740991&&e<=h},Un.isSet=oa,Un.isString=sa,Un.isSymbol=aa,Un.isTypedArray=la,Un.isUndefined=function(e){return e===i},Un.isWeakMap=function(e){return ea(e)&&ho(e)==x},Un.isWeakSet=function(e){return ea(e)&&"[object WeakSet]"==kr(e)},Un.join=function(e,t){return null==e?"":Wt.call(e,t)},Un.kebabCase=$a,Un.last=Qo,Un.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=fa(n))<0?gn(r+o,0):vn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Ut(e,Bt,o,!0)},Un.lowerCase=Wa,Un.lowerFirst=Ha,Un.lt=ua,Un.lte=ca,Un.max=function(e){return e&&e.length?fr(e,nl,Sr):i},Un.maxBy=function(e,t){return e&&e.length?fr(e,oo(t,2),Sr):i},Un.mean=function(e){return Vt(e,nl)},Un.meanBy=function(e,t){return Vt(e,oo(t,2))},Un.min=function(e){return e&&e.length?fr(e,nl,Lr):i},Un.minBy=function(e,t){return e&&e.length?fr(e,oo(t,2),Lr):i},Un.stubArray=pl,Un.stubFalse=ml,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=El,Un.nth=function(e,t){return e&&e.length?zr(e,fa(t)):i},Un.noConflict=function(){return ht._===this&&(ht._=Ue),this},Un.noop=al,Un.now=Ts,Un.pad=function(e,t,n){e=va(e);var r=(t=fa(t))?cn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Bi(ft(i),n)+e+Bi(dt(i),n)},Un.padEnd=function(e,t,n){e=va(e);var r=(t=fa(t))?cn(e):0;return t&&r<t?e+Bi(t-r,n):e},Un.padStart=function(e,t,n){e=va(e);var r=(t=fa(t))?cn(e):0;return t&&r<t?Bi(t-r,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(va(e).replace(re,""),t||0)},Un.random=function(e,t,n){if(n&&"boolean"!=typeof n&&vo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=da(e),t===i?(t=e,e=0):t=da(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=bn();return vn(e+o*(t-e+at("1e-"+((o+"").length-1))),t)}return Hr(e,t)},Un.reduce=function(e,t,n){var r=$s(e)?Rt:Ht,i=arguments.length<3;return r(e,oo(t,4),n,i,cr)},Un.reduceRight=function(e,t,n){var r=$s(e)?Dt:Ht,i=arguments.length<3;return r(e,oo(t,4),n,i,hr)},Un.repeat=function(e,t,n){return t=(n?vo(e,t,n):t===i)?1:fa(t),qr(va(e),t)},Un.replace=function(){var e=arguments,t=va(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,n){var r=-1,o=(t=gi(t,e)).length;for(o||(o=1,e=i);++r<o;){var s=null==e?i:e[Mo(t[r])];s===i&&(r=o,s=n),e=Ys(s)?s.call(e):s}return e},Un.round=_l,Un.runInContext=e,Un.sample=function(e){return($s(e)?Qn:Gr)(e)},Un.size=function(e){if(null==e)return 0;if(Hs(e))return sa(e)?cn(e):e.length;var t=ho(e);return t==_||t==I?e.size:Dr(e).length},Un.snakeCase=qa,Un.some=function(e,t,n){var r=$s(e)?Lt:ti;return n&&vo(e,t,n)&&(t=i),r(e,oo(t,3))},Un.sortedIndex=function(e,t){return ni(e,t)},Un.sortedIndexBy=function(e,t,n){return ri(e,t,oo(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ni(e,t);if(r<n&&Fs(e[r],t))return r}return-1},Un.sortedLastIndex=function(e,t){return ni(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return ri(e,t,oo(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ni(e,t,!0)-1;if(Fs(e[n],t))return n}return-1},Un.startCase=Ka,Un.startsWith=function(e,t,n){return e=va(e),n=null==n?0:or(fa(n),0,e.length),t=si(t),e.slice(n,n+t.length)==t},Un.subtract=kl,Un.sum=function(e){return e&&e.length?qt(e,nl):0},Un.sumBy=function(e,t){return e&&e.length?qt(e,oo(t,2)):0},Un.template=function(e,t,n){var r=Un.templateSettings;n&&vo(e,t,n)&&(t=i),e=va(e),t=ba({},t,r,Qi);var o,s,a=ba({},t.imports,r.imports,Qi),l=xa(a),u=Yt(a,l),c=0,h=t.interpolate||we,d="__p += '",f=Te((t.escape||we).source+"|"+h.source+"|"+(h===X?he:we).source+"|"+(t.evaluate||we).source+"|$","g"),p="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(f,(function(t,n,r,i,a,l){return r||(r=i),d+=e.slice(c,l).replace(be,nn),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),d+="';\n";var m=Re.call(t,"variable")&&t.variable;if(m){if(ue.test(m))throw new Ee("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(V,""):d).replace($,"$1").replace(W,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Xa((function(){return _e(l,p+"return "+d).apply(i,u)}));if(g.source=d,Qs(g))throw g;return g},Un.times=function(e,t){if((e=fa(e))<1||e>h)return[];var n=f,r=vn(e,f);t=oo(t),e-=f;for(var i=Kt(r,t);++n<e;)t(n);return i},Un.toFinite=da,Un.toInteger=fa,Un.toLength=pa,Un.toLower=function(e){return va(e).toLowerCase()},Un.toNumber=ma,Un.toSafeInteger=function(e){return e?or(fa(e),-9007199254740991,h):0===e?e:0},Un.toString=va,Un.toUpper=function(e){return va(e).toUpperCase()},Un.trim=function(e,t,n){if((e=va(e))&&(n||t===i))return Gt(e);if(!e||!(t=si(t)))return e;var r=hn(e),o=hn(t);return yi(r,Jt(r,o),Zt(r,o)+1).join("")},Un.trimEnd=function(e,t,n){if((e=va(e))&&(n||t===i))return e.slice(0,dn(e)+1);if(!e||!(t=si(t)))return e;var r=hn(e);return yi(r,0,Zt(r,hn(t))+1).join("")},Un.trimStart=function(e,t,n){if((e=va(e))&&(n||t===i))return e.replace(re,"");if(!e||!(t=si(t)))return e;var r=hn(e);return yi(r,Jt(r,hn(t))).join("")},Un.truncate=function(e,t){var n=30,r="...";if(Zs(t)){var o="separator"in t?t.separator:o;n="length"in t?fa(t.length):n,r="omission"in t?si(t.omission):r}var s=(e=va(e)).length;if(rn(e)){var a=hn(e);s=a.length}if(n>=s)return e;var l=n-cn(r);if(l<1)return r;var u=a?yi(a,0,l).join(""):e.slice(0,l);if(o===i)return u+r;if(a&&(l+=u.length-l),ia(o)){if(e.slice(l).search(o)){var c,h=u;for(o.global||(o=Te(o.source,va(de.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var d=c.index;u=u.slice(0,d===i?l:d)}}else if(e.indexOf(si(o),l)!=l){var f=u.lastIndexOf(o);f>-1&&(u=u.slice(0,f))}return u+r},Un.unescape=function(e){return(e=va(e))&&K.test(e)?e.replace(H,fn):e},Un.uniqueId=function(e){var t=++De;return va(e)+t},Un.upperCase=Ga,Un.upperFirst=Qa,Un.each=vs,Un.eachRight=ys,Un.first=Ho,sl(Un,(gl={},yr(Un,(function(e,t){Re.call(Un.prototype,t)||(gl[t]=e)})),gl),{chain:!1}),Un.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Un[e].placeholder=Un})),Tt(["drop","take"],(function(e,t){Vn.prototype[e]=function(n){n=n===i?1:gn(fa(n),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=vn(n,r.__takeCount__):r.__views__.push({size:vn(n,f),type:e+(r.__dir__<0?"Right":"")}),r},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:oo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Tt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(nl)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Kr((function(e,t){return"function"==typeof e?new Vn(this):this.map((function(n){return Or(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(Ds(oo(e)))},Vn.prototype.slice=function(e,t){e=fa(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=fa(t))<0?n.dropRight(-t):n.take(t-e)),n)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(f)},yr(Vn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Un[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&(Un.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,l=t instanceof Vn,u=a[0],c=l||$s(t),h=function(e){var t=o.apply(Un,At([e],a));return r&&d?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,f=!!this.__actions__.length,p=s&&!d,m=l&&!f;if(!s&&c){t=m?t:new Vn(this);var g=e.apply(t,a);return g.__actions__.push({func:ds,args:[h],thisArg:i}),new Bn(g,d)}return p&&m?e.apply(this,a):(g=this.thru(h),p?r?g.value()[0]:g.value():g)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Oe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply($s(i)?i:[],e)}return this[n]((function(n){return t.apply($s(n)?n:[],e)}))}})),yr(Vn.prototype,(function(e,t){var n=Un[t];if(n){var r=n.name+"";Re.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:t,func:n})}})),Nn[ji(i,2).name]=[{name:"wrapper",func:i}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Ci(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ci(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ci(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=$s(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=vn(t,e+s);break;case"takeRight":e=gn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,l=a-s,u=r?a:s-1,c=this.__iteratees__,h=c.length,d=0,f=vn(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return hi(e,this.__actions__);var p=[];e:for(;l--&&d<f;){for(var m=-1,g=e[u+=t];++m<h;){var v=c[m],y=v.iteratee,w=v.type,b=y(g);if(2==w)g=b;else if(!b){if(1==w)continue e;break e}}p[d++]=g}return p},Un.prototype.at=fs,Un.prototype.chain=function(){return hs(this)},Un.prototype.commit=function(){return new Bn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===i&&(this.__values__=ha(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,n=this;n instanceof zn;){var r=Uo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:ds,args:[Zo],thisArg:i}),new Bn(t,this.__chain__)}return this.thru(Zo)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Qe&&(Un.prototype[Qe]=function(){return this}),Un}();ht._=pn,(r=function(){return pn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},448:(e,t,n)=>{"use strict";var r=n(294),i=n(840);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function B(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return z(e.type,!1);case 11:return z(e.type.render,!1);case 1:return z(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case T:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case x:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return V(e(t))}catch(e){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,ke=null,Se=null;function Te(e){if(e=wi(e)){if("function"!=typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=Ei(t),_e(e.stateNode,e.type,t))}}function Ce(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Ie(){if(ke){var e=ke,t=Se;if(Se=ke=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Oe(e,t){return e(t)}function Ne(){}var xe=!1;function Pe(e,t,n){if(xe)return e(t,n);xe=!0;try{return Oe(e,t,n)}finally{xe=!1,(null!==ke||null!==Se)&&(Ne(),Ie())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Re=!1}function Le(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Me=!1,je=null,Ue=!1,Fe=null,ze={onError:function(e){Me=!0,je=e}};function Be(e,t,n,r,i,o,s,a,l){Me=!1,je=null,Le.apply(ze,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null,st=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2,ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ht(a):0!=(o&=s)&&(r=ht(o))}else 0!=(s=n&~i)?r=ht(s):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!=(4194240&o)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0==(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var Et,_t,kt,St,Tt,Ct=!1,It=[],Ot=null,Nt=null,xt=null,Pt=new Map,At=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":xt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=wi(t))&&_t(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Tt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function zt(){Ct=!1,null!==Ot&&Ut(Ot)&&(Ot=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==xt&&Ut(xt)&&(xt=null),Pt.forEach(Ft),At.forEach(Ft)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Vt(e){function t(t){return Bt(t,e)}if(0<It.length){Bt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&Bt(Ot,e),null!==Nt&&Bt(Nt,e),null!==xt&&Bt(xt,e),Pt.forEach(t),At.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var $t=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=wt,o=$t.transition;$t.transition=null;try{wt=1,Kt(e,t,n,r)}finally{wt=i,$t.transition=o}}function qt(e,t,n,r){var i=wt,o=$t.transition;$t.transition=null;try{wt=4,Kt(e,t,n,r)}finally{wt=i,$t.transition=o}}function Kt(e,t,n,r){if(Wt){var i=Qt(e,t,n,r);if(null===i)Wr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ot=Mt(Ot,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return xt=Mt(xt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,At.set(o,Mt(At.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=wi(i);if(null!==o&&Et(o),null===(o=Qt(e,t,n,r))&&Wr(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=yi(e=Ee(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),hn=j({},un,{view:0,detail:0}),dn=on(hn),fn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(j({},fn,{dataTransfer:0})),gn=on(j({},hn,{relatedTarget:0})),vn=on(j({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(yn),bn=on(j({},un,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Tn(){return Sn}var Cn=j({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(Cn),On=on(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),xn=on(j({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=on(Pn),Rn=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,jn=c&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Fn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1,$n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Gn(e){Ur(e,0)}function Qn(e){if(K(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"==typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Kn=qn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Hn(t,Kn,e,Ee(e)),Pe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function or(e,t){if("click"===e)return Qn(t)}function sr(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var s=cr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==G(r)||(r="selectionStart"in(r=gr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},kr={},Sr={};function Tr(e){if(kr[e])return kr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Cr=Tr("animationend"),Ir=Tr("animationiteration"),Or=Tr("animationstart"),Nr=Tr("transitionend"),xr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){xr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Dr=Pr[Rr];Ar(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ar(Cr,"onAnimationEnd"),Ar(Ir,"onAnimationIteration"),Ar(Or,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Nr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,u){if(Be.apply(this,arguments),Me){if(!Me)throw Error(o(198));var c=je;Me=!1,je=null,Ue||(Ue=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;jr(i,a,u),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;jr(i,a,u),o=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,zr("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=qt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=o,i=Ee(n),s=[];e:{var a=xr.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Cr:case Ir:case Or:l=vn;break;case Nr:l=xn;break;case"scroll":l=dn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var c=0!=(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&null!=(m=Ae(p,d))&&c.push(Hr(p,m,f))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),s.push({event:a,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(h=Ve(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=On,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:bi(l),f=null==u?a:bi(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,yi(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Kr(f))p++;for(f=0,m=d;m;m=Kr(m))f++;for(;0<p-f;)c=Kr(c),p--;for(;0<f-p;)d=Kr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Kr(c),d=Kr(d)}c=null}else c=null;null!==l&&Gr(s,a,l,c,!1),null!==u&&null!==h&&Gr(s,h,u,c,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(Wn(a))if(Xn)g=sr;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?bi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(s,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Vn?zn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(jn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Vn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Vn=!0)),0<(v=qr(r,w)).length&&(w=new bn(w,e,null,n,i),s.push({event:w,listeners:v}),(y||null!==(y=Bn(n)))&&(w.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),Zt=Jt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=qr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y)}Ur(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ae(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Ae(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Ae(n,o))&&s.unshift(Hr(n,l,a)):i||null!=(l=Ae(n,o))&&s.push(Hr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"==typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,oi="function"==typeof Promise?Promise:void 0,si="function"==typeof queueMicrotask?queueMicrotask:void 0!==oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ei(e){return e[fi]||null}var _i=[],ki=-1;function Si(e){return{current:e}}function Ti(e){0>ki||(e.current=_i[ki],_i[ki]=null,ki--)}function Ci(e,t){ki++,_i[ki]=e.current,e.current=t}var Ii={},Oi=Si(Ii),Ni=Si(!1),xi=Ii;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ai(e){return null!=e.childContextTypes}function Ri(){Ti(Ni),Ti(Oi)}function Di(e,t,n){if(Oi.current!==Ii)throw Error(o(168));Ci(Oi,t),Ci(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,$(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,xi=Oi.current,Ci(Oi,e),Ci(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,xi),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ni),Ti(Oi),Ci(Oi,e)):Ti(Ni),Ci(Ni,n)}var Ui=null,Fi=!1,zi=!1;function Bi(e){null===Ui?Ui=[e]:Ui.push(e)}function Vi(){if(!zi&&null!==Ui){zi=!0;var e=0,t=wt;try{var n=Ui;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(t){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ke(Ze,Vi),t}finally{wt=t,zi=!1}}return null}var $i=[],Wi=0,Hi=null,qi=0,Ki=[],Gi=0,Qi=null,Yi=1,Xi="";function Ji(e,t){$i[Wi++]=qi,$i[Wi++]=Hi,Hi=e,qi=t}function Zi(e,t,n){Ki[Gi++]=Yi,Ki[Gi++]=Xi,Ki[Gi++]=Qi,Qi=e;var r=Yi;e=Xi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yi=1<<32-st(t)+i|n<<i|r,Xi=o+e}else Yi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Hi;)Hi=$i[--Wi],$i[Wi]=null,qi=$i[--Wi],$i[Wi]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Xi=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Au(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Au(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ui(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ui(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Si(null),wo=null,bo=null,Eo=null;function _o(){Eo=bo=wo=null}function ko(e){var t=yo.current;Ti(yo),e._currentValue=t}function So(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function To(e,t){wo=e,Eo=bo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Co(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===bo){if(null===wo)throw Error(o(308));bo=e,wo.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var Io=null;function Oo(e){null===Io?Io=[e]:Io.push(e)}function No(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Oo(t)):(n.next=i.next,i.next=n),t.interleaved=n,xo(e,r)}function xo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Po=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,xo(e,n)}return null===(i=r.interleaved)?(t.next=t,Oo(r)):(t.next=i.next,i.next=t),r.interleaved=t,xo(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Uo(e,t,n,r){var i=e.updateQueue;Po=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=e.alternate;null!==c&&(a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l)}if(null!==o){var h=i.baseState;for(s=0,c=u=l=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=m.payload)?p.call(f,h,d):p))break e;h=j({},h,d);break e;case 2:Po=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);jl|=s,e.lanes=s,e.memoizedState=h}}function Fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var zo=(new r.Component).refs;function Bo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),o=Do(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(ru(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),o=Do(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(ru(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),i=Do(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Lo(e,i,r))&&(ru(t,e,r,n),Mo(t,e,r))}};function $o(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&lr(n,r)&&lr(i,o))}function Wo(e,t,n){var r=!1,i=Ii,o=t.contextType;return"object"==typeof o&&null!==o?o=Co(o):(i=Ai(t)?xi:Oi.current,o=(r=null!=(r=t.contextTypes))?Pi(e,i):Ii),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function qo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=zo,Ao(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Co(o):(o=Ai(t)?xi:Oi.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vo.enqueueReplaceState(i,i.state,null),Uo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function Ko(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===zo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Du(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===k?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===A&&Qo(o)===t.type)?((r=i(t,n.props)).ref=Ko(e,t,n),r.return=e,r):((r=Lu(n.type,n.key,n.props,null,e.mode,r)).ref=Ko(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Mu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Uu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=Ko(e,null,t),n.return=e,n;case _:return(t=Fu(t,e.mode,n)).return=e,t;case A:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mu(t,e.mode,n,null)).return=e,t;Go(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?u(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null;case A:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Go(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Go(t,r)}return null}function m(i,o,a,l){for(var u=null,c=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),o=s(v,o,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===a.length)return n(i,h),io&&Ji(i,m),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=s(h,o,m),null===c?u=h:c.sibling=h,c=h);return io&&Ji(i,m),u}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),io&&Ji(i,m),u}function g(i,a,l,u){var c=L(l);if("function"!=typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,u);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=s(w,a,g),null===h?c=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),io&&Ji(i,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,u))&&(a=s(y,a,g),null===h?c=y:h.sibling=y,h=y);return io&&Ji(i,g),c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),c}return function e(r,o,s,l){if("object"==typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"==typeof s&&null!==s){switch(s.$$typeof){case E:e:{for(var u=s.key,c=o;null!==c;){if(c.key===u){if((u=s.type)===k){if(7===c.tag){n(r,c.sibling),(o=i(c,s.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===A&&Qo(u)===c.type){n(r,c.sibling),(o=i(c,s.props)).ref=Ko(r,c,s),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===k?((o=Mu(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Lu(s.type,s.key,s.props,null,r.mode,l)).ref=Ko(r,o,s),l.return=r,r=l)}return a(r);case _:e:{for(c=s.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fu(s,r.mode,l)).return=r,r=o}return a(r);case A:return e(r,o,(c=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(L(s))return g(r,o,s,l);Go(r,s)}return"string"==typeof s&&""!==s||"number"==typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Uu(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Xo=Yo(!0),Jo=Yo(!1),Zo={},es=Si(Zo),ts=Si(Zo),ns=Si(Zo);function rs(e){if(e===Zo)throw Error(o(174));return e}function is(e,t){switch(Ci(ns,t),Ci(ts,e),Ci(es,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(es),Ci(es,t)}function os(){Ti(es),Ti(ts),Ti(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(Ci(ts,e),Ci(es,n))}function as(e){ts.current===e&&(Ti(es),Ti(ts))}var ls=Si(0);function us(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cs=[];function hs(){for(var e=0;e<cs.length;e++)cs[e]._workInProgressVersionPrimary=null;cs.length=0}var ds=b.ReactCurrentDispatcher,fs=b.ReactCurrentBatchConfig,ps=0,ms=null,gs=null,vs=null,ys=!1,ws=!1,bs=0,Es=0;function _s(){throw Error(o(321))}function ks(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Ss(e,t,n,r,i,s){if(ps=s,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ds.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),ws){s=0;do{if(ws=!1,bs=0,25<=s)throw Error(o(301));s+=1,vs=gs=null,t.updateQueue=null,ds.current=ua,e=n(r,i)}while(ws)}if(ds.current=sa,t=null!==gs&&null!==gs.next,ps=0,vs=gs=ms=null,ys=!1,t)throw Error(o(300));return e}function Ts(){var e=0!==bs;return bs=0,e}function Cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vs?ms.memoizedState=vs=e:vs=vs.next=e,vs}function Is(){if(null===gs){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===vs?ms.memoizedState:vs.next;if(null!==t)vs=t,gs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===vs?ms.memoizedState=vs=e:vs=vs.next=e}return vs}function Os(e,t){return"function"==typeof t?t(e):t}function Ns(e){var t=Is(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,u=null,c=s;do{var h=c.lane;if((ps&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,a=r):u=u.next=d,ms.lanes|=h,jl|=h}c=c.next}while(null!==c&&c!==s);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ms.lanes|=s,jl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xs(e){var t=Is(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ps(){}function As(e,t){var n=ms,r=Is(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,ba=!0),r=r.queue,Ws(Ls.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==vs&&1&vs.memoizedState.tag){if(n.flags|=2048,Fs(9,Ds.bind(null,n,r,i,t),void 0,null),null===xl)throw Error(o(349));0!=(30&ps)||Rs(n,t,i)}return i}function Rs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ds(e,t,n,r){t.value=n,t.getSnapshot=r,Ms(t)&&js(e)}function Ls(e,t,n){return n((function(){Ms(t)&&js(e)}))}function Ms(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(e){return!0}}function js(e){var t=xo(e,1);null!==t&&ru(t,e,1,-1)}function Us(e){var t=Cs();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,ms,e),[t.memoizedState,e]}function Fs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zs(){return Is().memoizedState}function Bs(e,t,n,r){var i=Cs();ms.flags|=e,i.memoizedState=Fs(1|t,n,void 0,void 0===r?null:r)}function Vs(e,t,n,r){var i=Is();r=void 0===r?null:r;var o=void 0;if(null!==gs){var s=gs.memoizedState;if(o=s.destroy,null!==r&&ks(r,s.deps))return void(i.memoizedState=Fs(t,n,o,r))}ms.flags|=e,i.memoizedState=Fs(1|t,n,o,r)}function $s(e,t){return Bs(8390656,8,e,t)}function Ws(e,t){return Vs(2048,8,e,t)}function Hs(e,t){return Vs(4,2,e,t)}function qs(e,t){return Vs(4,4,e,t)}function Ks(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Gs(e,t,n){return n=null!=n?n.concat([e]):null,Vs(4,4,Ks.bind(null,t,e),n)}function Qs(){}function Ys(e,t){var n=Is();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ks(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xs(e,t){var n=Is();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ks(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Js(e,t,n){return 0==(21&ps)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),ms.lanes|=n,jl|=n,e.baseState=!0),t)}function Zs(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{wt=n,fs.transition=r}}function ea(){return Is().memoizedState}function ta(e,t,n){var r=nu(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e)?ia(t,n):null!==(n=No(e,t,n,r))&&(ru(n,e,r,tu()),oa(n,t,r))}function na(e,t,n){var r=nu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Oo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=No(e,t,i,r))&&(ru(n,e,r,i=tu()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function ia(e,t){ws=ys=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var sa={readContext:Co,useCallback:_s,useContext:_s,useEffect:_s,useImperativeHandle:_s,useInsertionEffect:_s,useLayoutEffect:_s,useMemo:_s,useReducer:_s,useRef:_s,useState:_s,useDebugValue:_s,useDeferredValue:_s,useTransition:_s,useMutableSource:_s,useSyncExternalStore:_s,useId:_s,unstable_isNewReconciler:!1},aa={readContext:Co,useCallback:function(e,t){return Cs().memoizedState=[e,void 0===t?null:t],e},useContext:Co,useEffect:$s,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Bs(4194308,4,Ks.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bs(4,2,e,t)},useMemo:function(e,t){var n=Cs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Cs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,ms,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Cs().memoizedState=e},useState:Us,useDebugValue:Qs,useDeferredValue:function(e){return Cs().memoizedState=e},useTransition:function(){var e=Us(!1),t=e[0];return e=Zs.bind(null,e[1]),Cs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ms,i=Cs();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===xl)throw Error(o(349));0!=(30&ps)||Rs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,$s(Ls.bind(null,r,s,e),[e]),r.flags|=2048,Fs(9,Ds.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Cs(),t=xl.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-st(Yi)-1)).toString(32)+n),0<(n=bs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Es++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Co,useCallback:Ys,useContext:Co,useEffect:Ws,useImperativeHandle:Gs,useInsertionEffect:Hs,useLayoutEffect:qs,useMemo:Xs,useReducer:Ns,useRef:zs,useState:function(){return Ns(Os)},useDebugValue:Qs,useDeferredValue:function(e){return Js(Is(),gs.memoizedState,e)},useTransition:function(){return[Ns(Os)[0],Is().memoizedState]},useMutableSource:Ps,useSyncExternalStore:As,useId:ea,unstable_isNewReconciler:!1},ua={readContext:Co,useCallback:Ys,useContext:Co,useEffect:Ws,useImperativeHandle:Gs,useInsertionEffect:Hs,useLayoutEffect:qs,useMemo:Xs,useReducer:xs,useRef:zs,useState:function(){return xs(Os)},useDebugValue:Qs,useDeferredValue:function(e){var t=Is();return null===gs?t.memoizedState=e:Js(t,gs.memoizedState,e)},useTransition:function(){return[xs(Os)[0],Is().memoizedState]},useMutableSource:Ps,useSyncExternalStore:As,useId:ea,unstable_isNewReconciler:!1};function ca(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var fa="function"==typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,ql=r),da(0,t)},n}function ma(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!=typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=b.ReactCurrentOwner,ba=!1;function Ea(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Xo(t,e.child,n,r)}function _a(e,t,n,r,i){n=n.render;var o=t.ref;return To(t,i),r=Ss(e,t,n,r,o,i),n=Ts(),null===e||ba?(io&&n&&eo(t),t.flags|=1,Ea(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function ka(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Ru(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Sa(e,t,o,r,i))}if(o=e.child,0==(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Du(o,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=o,0==(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!=(131072&e.flags)&&(ba=!0)}}return Ia(e,t,n,r,i)}function Ta(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Dl,Rl),Rl|=n;else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Dl,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ci(Dl,Rl),Rl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ci(Dl,Rl),Rl|=r;return Ea(e,t,i,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ia(e,t,n,r,i){var o=Ai(n)?xi:Oi.current;return o=Pi(t,o),To(t,i),n=Ss(e,t,n,r,o,i),r=Ts(),null===e||ba?(io&&r&&eo(t),t.flags|=1,Ea(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Oa(e,t,n,r,i){if(Ai(n)){var o=!0;Mi(t)}else o=!1;if(To(t,i),null===t.stateNode)Wa(e,t),Wo(t,n,r),qo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;u="object"==typeof u&&null!==u?Co(u):Pi(t,u=Ai(n)?xi:Oi.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||l!==u)&&Ho(t,s,r,u),Po=!1;var d=t.memoizedState;s.state=d,Uo(t,r,s,i),l=t.memoizedState,a!==r||d!==l||Ni.current||Po?("function"==typeof c&&(Bo(t,n,c,r),l=t.memoizedState),(a=Po||$o(t,n,a,r,d,l,u))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ro(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:vo(t.type,a),s.props=u,h=t.pendingProps,d=s.context,l="object"==typeof(l=n.contextType)&&null!==l?Co(l):Pi(t,l=Ai(n)?xi:Oi.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==h||d!==l)&&Ho(t,s,r,l),Po=!1,d=t.memoizedState,s.state=d,Uo(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Ni.current||Po?("function"==typeof f&&(Bo(t,n,f,r),p=t.memoizedState),(u=Po||$o(t,n,u,r,d,p,l)||!1)?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Na(e,t,n,r,o,i)}function Na(e,t,n,r,i,o){Ca(e,t);var s=0!=(128&t.flags);if(!r&&!s)return i&&ji(t,n,!1),Ha(e,t,o);r=t.stateNode,wa.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,a,o)):Ea(e,t,a,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function xa(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),is(e,t.containerInfo)}function Pa(e,t,n,r,i){return po(),mo(i),t.flags|=256,Ea(e,t,n,r),t.child}var Aa,Ra,Da,La,Ma={dehydrated:null,treeContext:null,retryLane:0};function ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ua(e,t,n){var r,i=t.pendingProps,s=ls.current,a=!1,l=0!=(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ci(ls,1&s),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0==(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=ju(l,i,0,null),e=Mu(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ja(n),t.memoizedState=Ma,e):Fa(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=ha(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=ju({mode:"visible",children:r.children},i,0,null),(s=Mu(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!=(1&t.mode)&&Xo(t,e.child,null,a),t.child.memoizedState=ja(a),t.memoizedState=Ma,s);if(0==(1&t.mode))return za(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,za(e,t,a,r=ha(s=Error(o(419)),r,void 0))}if(l=0!=(a&e.childLanes),ba||l){if(null!==(r=xl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,xo(e,i),ru(r,e,i,-1))}return gu(),za(e,t,a,r=ha(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ou.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Gi++]=Yi,Ki[Gi++]=Xi,Ki[Gi++]=Qi,Yi=e.id,Xi=e.overflow,Qi=t),(t=Fa(t,r.children)).flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var u={mode:"hidden",children:i.children};return 0==(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Du(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Du(r,a):(a=Mu(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?ja(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Du(a,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=ju({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,r){return null!==r&&mo(r),Xo(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),So(e.return,t,n)}function Va(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function $a(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ea(e,t,r.children,n),0!=(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ls,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===us(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===us(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,o);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Du(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Du(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qa(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Ai(t.type)&&Ri(),Ka(t),null;case 3:return r=t.stateNode,os(),Ti(Ni),Ti(Oi),hs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),Ra(e,t),Ka(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ka(t),null}if(e=rs(es.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[di]=t,r[fi]=s,e=0!=(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,s),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fr("invalid",r);break;case"textarea":ie(r,s),Fr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"==typeof u?r.textContent!==u&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":q(r),Z(r,s,!0);break;case"textarea":q(r),se(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Aa(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(s in ye(n,i),u=i)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?ge(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===s?"string"==typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"==typeof c&&de(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Fr("scroll",e):null!=c&&w(e,s,c,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!=(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ka(t),null;case 13:if(Ti(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!=(1&t.mode)&&0==(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[di]=t}else po(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),s=!1}else null!==oo&&(au(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&ls.current)?0===Ll&&(Ll=3):gu())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return os(),Ra(e,t),null===e&&Vr(t.stateNode.containerInfo),Ka(t),null;case 10:return ko(t.type._context),Ka(t),null;case 19:if(Ti(ls),null===(s=t.memoizedState))return Ka(t),null;if(r=0!=(128&t.flags),null===(l=s.rendering))if(r)qa(s,!1);else{if(0!==Ll||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=us(e))){for(t.flags|=128,qa(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>$l&&(t.flags|=128,r=!0,qa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=us(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ka(t),null}else 2*Xe()-s.renderingStartTime>$l&&1073741824!==n&&(t.flags|=128,r=!0,qa(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=ls.current,Ci(ls,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Rl)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qa(e,t){switch(to(t),t.tag){case 1:return Ai(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),Ti(Ni),Ti(Oi),hs(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(Ti(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ls),null;case 4:return os(),null;case 10:return ko(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Aa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ra=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),s=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Fr("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Xa=!1,Ja="function"==typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Tu(e,t,n)}else n.current=null}function tl(e,t,n){try{n()}catch(n){Tu(e,t,n)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"==typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(e){}switch(n.tag){case 5:Xa||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!=(2&o)||0!=(4&o))&&tl(n,t,s),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xa&&(el(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Tu(n,t,e)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,fl(e,t,n),Xa=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Nu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(o(160));pl(s,a,i),hl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(e){Tu(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(t){Tu(e,e.return,t)}try{rl(5,e,e.return)}catch(t){Tu(e,e.return,t)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(t){Tu(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(i,s),we(l,a);var c=we(l,s);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,c)}switch(l){case"input":J(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(t){Tu(e,e.return,t)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(t){Tu(e,e.return,t)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(t){Tu(e,e.return,t)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Xe())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(c=Xa)||h,gl(t,e),Xa=c):gl(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!=(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){Tu(r,n,e)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){_l(d);continue}}null!==p?(p.return=f,Za=p):_l(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"==typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,a=null!=(u=d.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",a))}catch(t){Tu(e,e.return,t)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(t){Tu(e,e.return,t)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,ll(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ul(e,ll(e),s);break;default:throw Error(o(161))}}catch(t){Tu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){Za=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!=(1&e.mode);null!==Za;){var i=Za,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ya;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ya;var u=Xa;if(Ya=s,(Xa=l)&&!u)for(Za=i;null!==Za;)l=(s=Za).child,22===s.tag&&null!==s.memoizedState?kl(i):null!==l?(l.return=s,Za=l):kl(i);for(;null!==o;)Za=o,bl(o,t,n),o=o.sibling;Za=i,Ya=a,Xa=u}El(e)}else 0!=(8772&i.subtreeFlags)&&null!==o?(o.return=i,Za=o):El(e)}}function El(e){for(;null!==Za;){var t=Za;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Fo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(o(163))}Xa||512&t.flags&&ol(t)}catch(e){Tu(t,t.return,e)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function _l(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function kl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(e){Tu(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){Tu(t,i,e)}}var o=t.return;try{ol(t)}catch(e){Tu(t,o,e)}break;case 5:var s=t.return;try{ol(t)}catch(e){Tu(t,s,e)}}}catch(e){Tu(t,t.return,e)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Sl,Tl=Math.ceil,Cl=b.ReactCurrentDispatcher,Il=b.ReactCurrentOwner,Ol=b.ReactCurrentBatchConfig,Nl=0,xl=null,Pl=null,Al=0,Rl=0,Dl=Si(0),Ll=0,Ml=null,jl=0,Ul=0,Fl=0,zl=null,Bl=null,Vl=0,$l=1/0,Wl=null,Hl=!1,ql=null,Kl=null,Gl=!1,Ql=null,Yl=0,Xl=0,Jl=null,Zl=-1,eu=0;function tu(){return 0!=(6&Nl)?Xe():-1!==Zl?Zl:Zl=Xe()}function nu(e){return 0==(1&e.mode)?1:0!=(2&Nl)&&0!==Al?Al&-Al:null!==go.transition?(0===eu&&(eu=mt()),eu):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function ru(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(o(185));vt(e,n,r),0!=(2&Nl)&&e===xl||(e===xl&&(0==(2&Nl)&&(Ul|=n),4===Ll&&lu(e,Al)),iu(e,r),1===n&&0===Nl&&0==(1&t.mode)&&($l=Xe()+500,Fi&&Vi()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!=(a&n)&&0==(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=dt(e,e===xl?Al:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Fi=!0,Bi(e)}(uu.bind(null,e)):Bi(uu.bind(null,e)),si((function(){0==(6&Nl)&&Vi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=xu(n,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ou(e,t){if(Zl=-1,eu=0,0!=(6&Nl))throw Error(o(327));var n=e.callbackNode;if(ku()&&e.callbackNode!==n)return null;var r=dt(e,e===xl?Al:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=vu(e,r);else{t=r;var i=Nl;Nl|=2;var s=mu();for(xl===e&&Al===t||(Wl=null,$l=Xe()+500,fu(e,t));;)try{wu();break}catch(t){pu(e,t)}_o(),Cl.current=s,Nl=i,null!==Pl?t=0:(xl=null,Al=0,t=Ll)}if(0!==t){if(2===t&&0!==(i=pt(e))&&(r=i,t=su(e,i)),1===t)throw n=Ml,fu(e,0),lu(e,r),iu(e,Xe()),n;if(6===t)lu(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vu(e,r))&&0!==(s=pt(e))&&(r=s,t=su(e,s)),1===t))throw n=Ml,fu(e,0),lu(e,r),iu(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:_u(e,Bl,Wl);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=Vl+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_u.bind(null,e,Bl,Wl),t);break}_u(e,Bl,Wl);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ri(_u.bind(null,e,Bl,Wl),r);break}_u(e,Bl,Wl);break;default:throw Error(o(329))}}}return iu(e,Xe()),e.callbackNode===n?ou.bind(null,e):null}function su(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=vu(e,t))&&(t=Bl,Bl=n,null!==t&&au(t)),e}function au(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lu(e,t){for(t&=~Fl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!=(6&Nl))throw Error(o(327));ku();var t=dt(e,0);if(0==(1&t))return iu(e,Xe()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=Ml,fu(e,0),lu(e,t),iu(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_u(e,Bl,Wl),iu(e,Xe()),null}function cu(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&($l=Xe()+500,Fi&&Vi())}}function hu(e){null!==Ql&&0===Ql.tag&&0==(6&Nl)&&ku();var t=Nl;Nl|=1;var n=Ol.transition,r=wt;try{if(Ol.transition=null,wt=1,e)return e()}finally{wt=r,Ol.transition=n,0==(6&(Nl=t))&&Vi()}}function du(){Rl=Dl.current,Ti(Dl)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ri();break;case 3:os(),Ti(Ni),Ti(Oi),hs();break;case 5:as(r);break;case 4:os();break;case 13:case 19:Ti(ls);break;case 10:ko(r.type._context);break;case 22:case 23:du()}n=n.return}if(xl=e,Pl=e=Du(e.current,null),Al=Rl=t,Ll=0,Ml=null,Fl=Ul=jl=0,Bl=zl=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(r=(n=Io[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Io=null}return e}function pu(e,t){for(;;){var n=Pl;try{if(_o(),ds.current=sa,ys){for(var r=ms.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ys=!1}if(ps=0,vs=gs=ms=null,ws=!1,bs=0,Il.current=null,null===n||null===n.return){Ll=1,Ml=t,Pl=null;break}e:{var s=e,a=n.return,l=n,u=t;if(t=Al,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,h=l,d=h.tag;if(0==(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(s,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0==(1&t)){ga(s,c,t),gu();break e}u=Error(o(426))}else if(io&&1&l.mode){var v=va(a);if(null!==v){0==(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),mo(ca(u,l));break e}}s=u=ca(u,l),4!==Ll&&(Ll=2),null===zl?zl=[s]:zl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,jo(s,pa(0,u,t));break e;case 1:l=u;var y=s.type,w=s.stateNode;if(0==(128&s.flags)&&("function"==typeof y.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===Kl||!Kl.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t,jo(s,ma(s,l,t));break e}}s=s.return}while(null!==s)}Eu(n)}catch(e){t=e,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function mu(){var e=Cl.current;return Cl.current=sa,null===e?sa:e}function gu(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===xl||0==(268435455&jl)&&0==(268435455&Ul)||lu(xl,Al)}function vu(e,t){var n=Nl;Nl|=2;var r=mu();for(xl===e&&Al===t||(Wl=null,fu(e,t));;)try{yu();break}catch(t){pu(e,t)}if(_o(),Nl=n,Cl.current=r,null!==Pl)throw Error(o(261));return xl=null,Al=0,Ll}function yu(){for(;null!==Pl;)bu(Pl)}function wu(){for(;null!==Pl&&!Qe();)bu(Pl)}function bu(e){var t=Sl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?Eu(e):Pl=t,Il.current=null}function Eu(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Ga(n,t,Rl)))return void(Pl=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ll=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ll&&(Ll=5)}function _u(e,t,n){var r=wt,i=Ol.transition;try{Ol.transition=null,wt=1,function(e,t,n,r){do{ku()}while(null!==Ql);if(0!=(6&Nl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===xl&&(Pl=xl=null,Al=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Gl||(Gl=!0,xu(tt,(function(){return ku(),null}))),s=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||s){s=Ol.transition,Ol.transition=null;var a=wt;wt=1;var l=Nl;Nl|=4,Il.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==s||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=a),f===s&&++h===r&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(e){Tu(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,wl(n,e,i),Ye(),Nl=l,wt=a,Ol.transition=s}else e.current=n;if(Gl&&(Gl=!1,Ql=e,Yl=i),0===(s=e.pendingLanes)&&(Kl=null),function(e){if(ot&&"function"==typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),iu(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=ql,ql=null,e;0!=(1&Yl)&&0!==e.tag&&ku(),0!=(1&(s=e.pendingLanes))?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,Vi()}(e,t,n,r)}finally{Ol.transition=i,wt=r}return null}function ku(){if(null!==Ql){var e=bt(Yl),t=Ol.transition,n=wt;try{if(Ol.transition=null,wt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,0!=(6&Nl))throw Error(o(331));var i=Nl;for(Nl|=4,Za=e.current;null!==Za;){var s=Za,a=s.child;if(0!=(16&Za.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Za=c;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:rl(8,h,s)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(sl(h),h===c){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Za=s}}if(0!=(2064&s.subtreeFlags)&&null!==a)a.return=s,Za=a;else e:for(;null!==Za;){if(0!=(2048&(s=Za).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Za=y;break e}Za=s.return}}var w=e.current;for(Za=w;null!==Za;){var b=(a=Za).child;if(0!=(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else e:for(a=w;null!==Za;){if(0!=(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(e){Tu(l,l.return,e)}if(l===a){Za=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Za=E;break e}Za=l.return}}if(Nl=i,Vi(),ot&&"function"==typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{wt=n,Ol.transition=t}}return!1}function Su(e,t,n){e=Lo(e,t=pa(0,t=ca(n,t),1),1),t=tu(),null!==e&&(vt(e,1,t),iu(e,t))}function Tu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Lo(t,e=ma(t,e=ca(n,e),1),1),e=tu(),null!==t&&(vt(t,1,e),iu(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,xl===e&&(Al&n)===n&&(4===Ll||3===Ll&&(130023424&Al)===Al&&500>Xe()-Vl?fu(e,0):Fl|=n),iu(e,t)}function Iu(e,t){0===t&&(0==(1&e.mode)?t=1:(t=ct,0==(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=xo(e,t))&&(vt(e,t,n),iu(e,n))}function Ou(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Iu(e,n)}function Nu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Iu(e,n)}function xu(e,t){return Ke(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Au(e,t,n,r){return new Pu(e,t,n,r)}function Ru(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Du(e,t){var n=e.alternate;return null===n?((n=Au(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,r,i,s){var a=2;if(r=e,"function"==typeof e)Ru(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case k:return Mu(n.children,i,s,t);case S:a=8,i|=8;break;case T:return(e=Au(12,n,t,2|i)).elementType=T,e.lanes=s,e;case N:return(e=Au(13,n,t,i)).elementType=N,e.lanes=s,e;case x:return(e=Au(19,n,t,i)).elementType=x,e.lanes=s,e;case R:return ju(n,i,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case I:a=9;break e;case O:a=11;break e;case P:a=14;break e;case A:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Au(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Mu(e,t,n,r){return(e=Au(7,e,r,t)).lanes=n,e}function ju(e,t,n,r){return(e=Au(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Uu(e,t,n){return(e=Au(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Au(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,r,i,o,s,a,l){return e=new zu(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Au(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ao(o),e}function Vu(e){if(!e)return Ii;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Li(e,n,t)}return t}function $u(e,t,n,r,i,o,s,a,l){return(e=Bu(n,r,!0,e,0,o,0,a,l)).context=Vu(null),n=e.current,(o=Do(r=tu(),i=nu(n))).callback=null!=t?t:null,Lo(n,o,i),e.current.lanes=i,vt(e,i,r),iu(e,r),e}function Wu(e,t,n,r){var i=t.current,o=tu(),s=nu(i);return n=Vu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Lo(i,t,s))&&(ru(e,i,s,o),Mo(e,i,s)),s}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ku(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ba=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:xa(t),po();break;case 5:ss(t);break;case 1:Ai(t.type)&&Mi(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ls,1&ls.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Ua(e,t,n):(Ci(ls,1&ls.current),null!==(e=Ha(e,t,n))?e.sibling:null);Ci(ls,1&ls.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return $a(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,Ta(e,t,n)}return Ha(e,t,n)}(e,t,n);ba=0!=(131072&e.flags)}else ba=!1,io&&0!=(1048576&t.flags)&&Zi(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Pi(t,Oi.current);To(t,n),i=Ss(null,t,r,e,i,n);var s=Ts();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(s=!0,Mi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ao(t),i.updater=Vo,t.stateNode=i,i._reactInternals=t,qo(t,r,e,n),t=Na(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),Ea(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Ru(e)?1:0;if(null!=e){if((e=e.$$typeof)===O)return 11;if(e===P)return 14}return 2}(r),e=vo(r,e),i){case 0:t=Ia(null,t,r,e,n);break e;case 1:t=Oa(null,t,r,e,n);break e;case 11:t=_a(null,t,r,e,n);break e;case 14:t=ka(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Oa(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(xa(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Ro(e,t),Uo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Pa(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ha(e,t,n);break e}Ea(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&uo(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ca(e,t),Ea(e,t,a,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Ua(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):Ea(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return Ea(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ea(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ci(yo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ni.current){t=Ha(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=Do(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),So(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),So(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Ea(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,To(t,n),r=r(i=Co(i)),t.flags|=1,Ea(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),ka(e,t,r,i=vo(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),Wa(e,t),t.tag=1,Ai(r)?(e=!0,Mi(t)):e=!1,To(t,n),Wo(t,r,i),qo(t,r,i,n),Na(null,t,r,!0,e,n);case 19:return $a(e,t,n);case 22:return Ta(e,t,n)}throw Error(o(156,t.tag))};var Gu="function"==typeof reportError?reportError:function(e){console.error(e)};function Qu(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"==typeof i){var a=i;i=function(){var e=Hu(s);a.call(e)}}Wu(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=Hu(s);o.call(e)}}var s=$u(t,r,e,0,null,!1,0,"",Zu);return e._reactRootContainer=s,e[pi]=s.current,Vr(8===e.nodeType?e.parentNode:e),hu(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var a=r;r=function(){var e=Hu(l);a.call(e)}}var l=Bu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),hu((function(){Wu(t,l,n,r)})),l}(n,t,e,i,r);return Hu(s)}Yu.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wu(e,t,null,null)},Yu.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hu((function(){Wu(null,e,null,null)})),t[pi]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),iu(t,Xe()),0==(6&Nl)&&($l=Xe()+500,Vi()))}break;case 13:hu((function(){var t=xo(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),Ku(e,1)}},_t=function(e){if(13===e.tag){var t=xo(e,134217728);null!==t&&ru(t,e,134217728,tu()),Ku(e,134217728)}},kt=function(e){if(13===e.tag){var t=nu(e),n=xo(e,t);null!==n&&ru(n,e,t,tu()),Ku(e,t)}},St=function(){return wt},Tt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(o(90));K(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Oe=cu,Ne=hu;var tc={usingClientEntryPoint:!1,Events:[wi,bi,Ei,Ce,Ie,cu]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xu(e))throw Error(o(299));var n=!1,r="",i=Gu;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hu(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Gu;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=$u(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yu(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(o(40));return!!e._reactRootContainer&&(hu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},745:(e,t,n)=>{"use strict";var r=n(935);t.s=r.createRoot,r.hydrateRoot},935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},408:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var E=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:k.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function O(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+O(l,0):o,E(s)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(s,t,i,"",(function(e){return e}))):null!=s&&(C(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",E(e))for(var u=0;u<e.length;u++){var c=o+O(a=e[u],u);l+=N(a,t,i,c,s)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,c=o+O(a,u++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function x(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},R={transition:null},D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};t.Children={map:x,forEach:function(e,t,n){x(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return x(e,(function(){t++})),t},toArray:function(e){return x(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)_.call(t,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},294:(e,t,n)=>{"use strict";e.exports=n(408)},53:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function E(e){if(g=!1,b(e),!m)if(null!==r(u))m=!0,R(_);else{var t=r(c);null!==t&&D(E,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var o=f;try{for(b(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!N());){var s=d.callback;if("function"==typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?d.callback=a:d===r(u)&&i(u),b(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&D(E,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,T=null,C=-1,I=5,O=-1;function N(){return!(t.unstable_now()-O<I)}function x(){if(null!==T){var e=t.unstable_now();O=e;var n=!0;try{n=T(!0,e)}finally{n?k():(S=!1,T=null)}}else S=!1}if("function"==typeof w)k=function(){w(x)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=x,k=function(){A.postMessage(null)}}else k=function(){v(x,0)};function R(e){T=e,S||(S=!0,k())}function D(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?s+o:s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(g?(y(C),C=-1):g=!0,D(E,o-s))):(e.sortIndex=a,n(u,e),m||p||(m=!0,R(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},840:(e,t,n)=>{"use strict";e.exports=n(53)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{"use strict";var e=n(294),t=n(745),r=n(486),i=n.n(r),o=n(697),s=n.n(o);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var l=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",a({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),e.createElement("polyline",{points:"17 11 12 6 7 11"}),e.createElement("polyline",{points:"17 18 12 13 7 18"}))}));l.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},l.displayName="ChevronsUp";const u=l;function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h{resume(){this.startTime=Date.now(),clearTimeout(this.id),this.id=setTimeout(this.callback,this.remainingTime)}pause(){clearTimeout(this.id),this.remainingTime-=Date.now()-this.startTime}end(){clearTimeout(this.id),this.callback()}constructor(e,t,n=!0){c(this,"id",void 0),c(this,"startTime",void 0),c(this,"remainingTime",void 0),c(this,"callback",void 0),c(this,"duration",void 0),this.callback=e,this.duration=t,this.remainingTime=t,n&&this.resume()}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f({children:t,type:n,life:r,remove:i,callback:o,color:s,fixedTime:a=!1}){const l=()=>{c(!0),setTimeout(i,500)},[u,c]=e.useState(!1),d=e.useMemo((()=>new h(l,1e3*r,!1)),[]),f=e.useRef(),p=()=>{d.pause(),f.current.style.animationPlayState="paused"},g=()=>{d.resume(),f.current.style.animationPlayState="running"};return e.useEffect((()=>{const e=()=>!a&&g(),t=()=>!a&&p();return window.addEventListener("focus",e),window.addEventListener("blur",t),(a||document.hasFocus())&&g(),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",t)}})),e.createElement("div",{className:m("Toast",[u,"Closing"],n),onMouseEnter:a?null:p,onMouseLeave:a?null:g,onClick:o?e=>{o(e),d.end()}:()=>{d.end()},style:{cursor:o?"pointer":null,backgroundColor:s}},t,e.createElement("div",{className:"ProgressBarContainer"},e.createElement("div",{ref:f,className:"ProgressBar",style:{animationDuration:r+"s"}})))}class p extends e.Component{componentDidMount(){p.instance=this}static showToast(t,n="",r=5,i={}){const{callback:o=null,color:s=null,fixedTime:a=!1}=i,l=e.createElement(f,{key:v(),children:t,type:n,life:r,color:s,fixedTime:a,remove:()=>{this.instance.setState({toasts:this.instance.state.toasts.filter((e=>e!==l))})},callback:o});return this.instance.setState({toasts:[...this.instance.state.toasts,l]}),l}get horizontalStyle(){return"Center"}get verticalStyle(){return"Bottom"}render(){return e.createElement("div",{ref:p.ref,className:m("ToastsContainer",this.horizontalStyle,this.verticalStyle)},e.createElement("div",{className:m("ClearButton",[!!this.state.toasts?.length,"Visible"]),onClick:()=>this.setState({toasts:[]})},e.createElement("u",null,"Close all")),this.state.toasts)}constructor(...e){super(...e),d(this,"state",{toasts:[]})}}function m(){let e="";for(let t=0;t<arguments.length;t++)typeof arguments[t]===(Array.isArray(arguments[t])&&"boolean"==typeof arguments[t][0]&&"object")?!0===arguments[t][0]?e+=arguments[t][1]:arguments[t][2]&&(e+=arguments[t][2]):arguments[t]&&(e+=arguments[t]),e+=" ";return e.trim()}function g(e){return fetch("https://cors-proxy.htmldriven.com/?url="+encodeURIComponent(e)).then((e=>e.blob())).then((t=>{const n=Object.assign(document.createElement("a"),{style:{display:"none"},href:URL.createObjectURL(t),download:e.split("/")[e.split("/").length-1]});n.click(),window.URL.revokeObjectURL(n.href)})).catch((e=>(console.error(e),p.showToast("Failed to save image!","Failure"))))}function v(){return Math.random().toString(36).substr(7)}d(p,"instance",void 0),d(p,"ref",e.createRef());const y={UPDATE_ROUTE:"UPDATE_ROUTE",UPDATE_PAGE:"UPDATE_PAGE",UPDATE_QUERY:"UPDATE_QUERY",UPDATE_USER:"UPDATE_USER",UPDATE_LOCAL_USER:"UPDATE_LOCAL_USER",UPDATE_SETTINGS:"UPDATE_SETTINGS"},w=new class{subscribe(e,t){return this._callbacks[e]||(this._callbacks[e]=new Set),this._callbacks[e].add(t),this.unsubscribe.bind(this,e,t)}unsubscribe(e,t){this._callbacks[e]&&this._callbacks[e].delete(t)}dispatch(e){const t=e.type;if(this._callbacks[t])for(const n of this._callbacks[t])try{n(e)}catch(e){console.error(e)}}get useForceUpdater(){return(t,n=null,r=[],o={})=>{let[,s]=e.useReducer((e=>e+1),0);"number"==typeof o.debounce&&(s=i().debounce(s,o.debounce)),e.useEffect((()=>this.subscribe(t,(e=>{"function"==typeof n?n(e)&&s():s()}))),r)}}constructor(){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"_callbacks",{})}};function b(t,n,r={}){const{target:i=document,dependencies:o=[],init:s=!1}=r;e.useEffect((()=>(i.addEventListener(t,n),s&&n(),()=>i.removeEventListener(t,n))),o)}function E(t){e.useEffect((()=>t),[])}function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}var S=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",k({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polyline",{points:"15 18 9 12 15 6"}))}));S.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},S.displayName="ChevronLeft";const T=S;function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}var I=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",C({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"}))}));I.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},I.displayName="Minimize";const O=I;function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}var x=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",N({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}))}));x.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},x.displayName="Maximize";const P=x;function A(){return A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}var R=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",A({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),e.createElement("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}))}));R.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},R.displayName="Clipboard";const D=R;function L(){return L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L.apply(this,arguments)}var M=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",L({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),e.createElement("polyline",{points:"15 3 21 3 21 9"}),e.createElement("line",{x1:"10",y1:"14",x2:"21",y2:"3"}))}));M.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},M.displayName="ExternalLink";const j=M;function U(){return U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U.apply(this,arguments)}var F=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",U({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polyline",{points:"9 18 15 12 9 6"}))}));F.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},F.displayName="ChevronRight";const z=F;function B(){return B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}var V=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",B({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"6"}),e.createElement("line",{x1:"12",y1:"18",x2:"12",y2:"22"}),e.createElement("line",{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}),e.createElement("line",{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}),e.createElement("line",{x1:"2",y1:"12",x2:"6",y2:"12"}),e.createElement("line",{x1:"18",y1:"12",x2:"22",y2:"12"}),e.createElement("line",{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}),e.createElement("line",{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"}))}));V.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},V.displayName="Loader";const $=V,W=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},H={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],o=t+1<e.length,s=o?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,u=i>>2,c=(3&i)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(W(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==s||null==a)throw new q;const l=i<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class q extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K=function(e){return function(e){const t=W(e);return H.encodeByteArray(t,!0)}(e).replace(/\./g,"")},G=function(e){try{return H.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Q=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&G(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},Y=e=>{var t,n;return null===(n=null===(t=Q())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},X=e=>{const t=Y(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},J=()=>{var e;return null===(e=Q())||void 0===e?void 0:e.config},Z=e=>{var t;return null===(t=Q())||void 0===t?void 0:t[`_${e}`]};class ee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function te(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[K(JSON.stringify({alg:"none",type:"JWT"})),K(JSON.stringify(o)),""].join(".")}function ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function re(){try{return"object"==typeof indexedDB}catch(e){return!1}}function ie(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}class oe extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,se.prototype.create)}}class se{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(ae,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new oe(r,s,n)}}const ae=/\{\$([^}]+)}/g;function le(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(ue(n)&&ue(o)){if(!le(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function ue(e){return null!==e&&"object"==typeof e}function ce(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function he(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function de(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class fe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=pe),void 0===r.error&&(r.error=pe),void 0===r.complete&&(r.complete=pe);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function pe(){}function me(e){return e&&e._delegate?e._delegate:e}class ge{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ve="[DEFAULT]";class ye{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new ee;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ve})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=ve){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=ve){return this.instances.has(e)}getOptions(e=ve){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===ve?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e=ve){return this.component?this.component.multipleInstances?e:ve:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class we{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ye(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const be=[];var Ee,_e;(_e=Ee||(Ee={}))[_e.DEBUG=0]="DEBUG",_e[_e.VERBOSE=1]="VERBOSE",_e[_e.INFO=2]="INFO",_e[_e.WARN=3]="WARN",_e[_e.ERROR=4]="ERROR",_e[_e.SILENT=5]="SILENT";const ke={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},Se=Ee.INFO,Te={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},Ce=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=Te[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Ie{constructor(e){this.name=e,this._logLevel=Se,this._logHandler=Ce,this._userLogHandler=null,be.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ke[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const Oe=(e,t)=>t.some((t=>e instanceof t));let Ne,xe;const Pe=new WeakMap,Ae=new WeakMap,Re=new WeakMap,De=new WeakMap,Le=new WeakMap;let Me={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ae.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Re.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ue(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function je(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(xe||(xe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Fe(this),e),Ue(Pe.get(this))}:function(...e){return Ue(t.apply(Fe(this),e))}:function(e,...n){const r=t.call(Fe(this),e,...n);return Re.set(r,e.sort?e.sort():[e]),Ue(r)}:(e instanceof IDBTransaction&&function(e){if(Ae.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Ae.set(e,t)}(e),Oe(e,Ne||(Ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Me):e);var t}function Ue(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Ue(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Pe.set(t,e)})).catch((()=>{})),Le.set(t,e),t}(e);if(De.has(e))return De.get(e);const t=je(e);return t!==e&&(De.set(e,t),Le.set(t,e)),t}const Fe=e=>Le.get(e),ze=["get","getKey","getAll","getAllKeys","count"],Be=["put","add","delete","clear"],Ve=new Map;function $e(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Ve.get(t))return Ve.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Be.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ze.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return Ve.set(t,o),o}var We;We=Me,Me={...We,get:(e,t,n)=>$e(e,t)||We.get(e,t,n),has:(e,t)=>!!$e(e,t)||We.has(e,t)};class He{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const qe="@firebase/app",Ke="0.9.18",Ge=new Ie("@firebase/app"),Qe="[DEFAULT]",Ye={[qe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,Je=new Map;function Ze(e,t){try{e.container.addComponent(t)}catch(n){Ge.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function et(e){const t=e.name;if(Je.has(t))return Ge.debug(`There were multiple attempts to register component ${t}.`),!1;Je.set(t,e);for(const t of Xe.values())Ze(t,e);return!0}function tt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const nt=new se("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class rt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ge("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nt.create("app-deleted",{appName:this._name})}}const it="10.3.1";function ot(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:Qe,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw nt.create("bad-app-name",{appName:String(i)});if(n||(n=J()),!n)throw nt.create("no-options");const o=Xe.get(i);if(o){if(le(n,o.options)&&le(r,o.config))return o;throw nt.create("duplicate-app",{appName:i})}const s=new we(i);for(const e of Je.values())s.addComponent(e);const a=new rt(n,r,s);return Xe.set(i,a),a}function st(e=Qe){const t=Xe.get(e);if(!t&&e===Qe&&J())return ot();if(!t)throw nt.create("no-app",{appName:e});return t}function at(e,t,n){var r;let i=null!==(r=Ye[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ge.warn(e.join(" "))}et(new ge(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const lt="firebase-heartbeat-database",ut=1,ct="firebase-heartbeat-store";let ht=null;function dt(){return ht||(ht=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Ue(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Ue(s.result),e.oldVersion,e.newVersion,Ue(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(lt,ut,{upgrade:(e,t)=>{0===t&&e.createObjectStore(ct)}}).catch((e=>{throw nt.create("idb-open",{originalErrorMessage:e.message})}))),ht}async function ft(e,t){try{const n=(await dt()).transaction(ct,"readwrite"),r=n.objectStore(ct);await r.put(t,pt(e)),await n.done}catch(e){if(e instanceof oe)Ge.warn(e.message);else{const t=nt.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});Ge.warn(t.message)}}}function pt(e){return`${e.name}!${e.options.appId}`}class mt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vt(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=gt();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=gt(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),yt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=K(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function gt(){return(new Date).toISOString().substring(0,10)}class vt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!re()&&ie().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await dt();return await t.transaction(ct).objectStore(ct).get(pt(e))}catch(e){if(e instanceof oe)Ge.warn(e.message);else{const t=nt.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});Ge.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ft(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ft(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function yt(e){return K(JSON.stringify({version:2,heartbeats:e})).length}function wt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function bt(e){return void 0!==e&&void 0!==e.enterprise}et(new ge("platform-logger",(e=>new He(e)),"PRIVATE")),et(new ge("heartbeat",(e=>new mt(e)),"PRIVATE")),at(qe,Ke,""),at(qe,Ke,"esm2017"),at("fire-js",""),Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;class Et{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}const _t=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},kt=new se("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),St=new Ie("@firebase/auth");function Tt(e,...t){St.logLevel<=Ee.ERROR&&St.error(`Auth (${it}): ${e}`,...t)}function Ct(e,...t){throw Ot(e,...t)}function It(e,...t){return Ot(e,...t)}function Ot(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return kt.create(e,...t)}function Nt(e,t,...n){if(!e)throw Ot(t,...n)}function xt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Tt(t),new Error(t)}function Pt(e,t){e||xt(t)}function At(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Rt(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Dt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===Rt()||"https:"===Rt()||function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Lt{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pt(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ne())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return Dt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mt(e,t){Pt(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class jt{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void xt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void xt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void xt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ut={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ft=new Lt(3e4,6e4);function zt(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Bt(e,t,n,r,i={}){return Vt(e,i,(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=ce(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),jt.fetch()(Wt(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Vt(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ut),t);try{const t=new Ht(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw qt(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw qt(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw qt(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw qt(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw function(e,t,n){const r=Object.assign(Object.assign({},_t()),{[t]:n});return new se("auth","Firebase",r).create(t,{appName:e.name})}(e,a,s);Ct(e,a)}}catch(t){if(t instanceof oe)throw t;Ct(e,"network-request-failed",{message:String(t)})}}async function $t(e,t,n,r,i={}){const o=await Bt(e,t,n,r,i);return"mfaPendingCredential"in o&&Ct(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Wt(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Mt(e.config,i):`${e.config.apiScheme}://${i}`}class Ht{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(It(this.auth,"network-request-failed"))),Ft.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function qt(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=It(e,t,r);return i.customData._tokenResponse=n,i}function Kt(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function Gt(e){return 1e3*Number(e)}function Qt(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Tt("JWT malformed, contained fewer than 3 sections"),null;try{const e=G(n);return e?JSON.parse(e):(Tt("Failed to decode base64 JWT payload"),null)}catch(e){return Tt("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}async function Yt(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof oe&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class Xt{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class Jt{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kt(this.lastLoginAt),this.creationTime=Kt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zt(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Yt(e,async function(e,t){return Bt(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Nt(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=wt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],a=(l=e.providerData,u=s,[...l.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&o.passwordHash||(null==a?void 0:a.length)),d=!!c&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Jt(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class en{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Nt(e.idToken,"internal-error"),Nt(void 0!==e.idToken,"internal-error"),Nt(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Qt(e);return Nt(t,"internal-error"),Nt(void 0!==t.exp,"internal-error"),Nt(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Nt(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Vt(e,{},(async()=>{const n=ce({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Wt(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",jt.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new en;return n&&(Nt("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Nt("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Nt("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new en,this.toJSON())}_performRefresh(){return xt("not implemented")}}function tn(e,t){Nt("string"==typeof e||void 0===e,"internal-error",{appName:t})}class nn{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=wt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Jt(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Yt(this,this.stsTokenManager.getToken(this.auth,e));return Nt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=me(e),r=await n.getIdToken(t),i=Qt(r);Nt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Kt(Gt(i.auth_time)),issuedAtTime:Kt(Gt(i.iat)),expirationTime:Kt(Gt(i.exp)),signInProvider:s||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=me(e);await Zt(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Nt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new nn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Zt(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Yt(this,async function(e,t){return Bt(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:E,stsTokenManager:_}=t;Nt(y&&_,e,"internal-error");const k=en.fromJSON(this.name,_);Nt("string"==typeof y,e,"internal-error"),tn(c,e.name),tn(h,e.name),Nt("boolean"==typeof w,e,"internal-error"),Nt("boolean"==typeof b,e,"internal-error"),tn(d,e.name),tn(f,e.name),tn(p,e.name),tn(m,e.name),tn(g,e.name),tn(v,e.name);const S=new nn({uid:y,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return E&&Array.isArray(E)&&(S.providerData=E.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t,n=!1){const r=new en;r.updateFromServerResponse(t);const i=new nn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Zt(i),i}}const rn=new Map;function on(e){Pt(e instanceof Function,"Expected a class definition");let t=rn.get(e);return t?(Pt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,rn.set(e,t),t)}class sn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}sn.type="NONE";const an=sn;function ln(e,t,n){return`firebase:${e}:${t}:${n}`}class un{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ln(this.userKey,r.apiKey,i),this.fullPersistenceKey=ln("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?nn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new un(on(an),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||on(an);const o=ln(n,e.config.apiKey,e.name);let s=null;for(const n of t)try{const t=await n._get(o);if(t){const r=nn._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(e){}}))),new un(i,e,n)):new un(i,e,n)}}function cn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(hn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gn(t))return"Blackberry";if(vn(t))return"Webos";if(dn(t))return"Safari";if((t.includes("chrome/")||fn(t))&&!t.includes("edge/"))return"Chrome";if(mn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function hn(e=ne()){return/firefox\//i.test(e)}function dn(e=ne()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function fn(e=ne()){return/crios\//i.test(e)}function pn(e=ne()){return/iemobile/i.test(e)}function mn(e=ne()){return/android/i.test(e)}function gn(e=ne()){return/blackberry/i.test(e)}function vn(e=ne()){return/webos/i.test(e)}function yn(e=ne()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function wn(e=ne()){return yn(e)||mn(e)||vn(e)||gn(e)||/windows phone/i.test(e)||pn(e)}function bn(e,t=[]){let n;switch(e){case"Browser":n=cn(ne());break;case"Worker":n=`${cn(ne())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${it}/${r}`}class En{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(e){r(e)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}class _n{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class kn{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tn(this),this.idTokenSubscription=new Tn(this),this.beforeStateQueue=new En(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=on(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await un.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null==s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(e)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zt(e)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?me(e):null;return t&&Nt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Nt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(on(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return Bt(e,"GET","/v2/passwordPolicy",zt(e,t))}(this),t=new _n(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new se("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&on(e)||this._popupRedirectResolver;Nt(t,this,"argument-error"),this.redirectPersistenceManager=await un.create(this,[on(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Nt(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"==typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){St.logLevel<=Ee.WARN&&St.warn(`Auth (${it}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function Sn(e){return me(e)}class Tn{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new fe(e,void 0);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Cn(e){return new Promise(((t,n)=>{const r=document.createElement("script");var i,o;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=It("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(o=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==o?o:document).appendChild(r)}))}function In(e){return`__${e}${Math.floor(1e6*Math.random())}`}class On{constructor(e){this.type="recaptcha-enterprise",this.auth=Sn(e)}async verify(e="verify",t=!1){function n(t,n,r){const i=window.grecaptcha;bt(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{(async function(e,t){return Bt(e,"GET","/v2/recaptchaConfig",zt(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Et(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&bt(window.grecaptcha))n(i,e,r);else{if("undefined"==typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Cn("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Nn(e,t,n,r=!1){const i=new On(e);let o;try{o=await i.verify(n)}catch(e){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}function xn(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Pn(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class An{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xt("not implemented")}_getIdTokenResponse(e){return xt("not implemented")}_linkToIdToken(e,t){return xt("not implemented")}_getReauthenticationResolver(e){return xt("not implemented")}}async function Rn(e,t){return $t(e,"POST","/v1/accounts:signInWithPassword",zt(e,t))}class Dn extends An{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Dn(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Dn(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Nn(e,n,"signInWithPassword");return Rn(e,t)}return Rn(e,n).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Nn(e,n,"signInWithPassword");return Rn(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return $t(e,"POST","/v1/accounts:signInWithEmailLink",zt(e,t))}(e,{email:this._email,oobCode:this._password});default:Ct(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return async function(e,t){return Bt(e,"POST","/v1/accounts:update",t)}(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return $t(e,"POST","/v1/accounts:signInWithEmailLink",zt(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ct(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ln(e,t){return $t(e,"POST","/v1/accounts:signInWithIdp",zt(e,t))}class Mn extends An{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Mn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ct("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=wt(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Mn(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Ln(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ln(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ln(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ce(t)}return e}}const jn={USER_NOT_FOUND:"user-not-found"};class Un extends An{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Un({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Un({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return $t(e,"POST","/v1/accounts:signInWithPhoneNumber",zt(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await $t(e,"POST","/v1/accounts:signInWithPhoneNumber",zt(e,t));if(n.temporaryProof)throw qt(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return $t(e,"POST","/v1/accounts:signInWithPhoneNumber",zt(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),jn)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Un({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Fn{constructor(e){var t,n,r,i,o,s;const a=he(de(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Nt(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=he(de(e)).link,n=t?he(de(t)).deep_link_id:null,r=he(de(e)).deep_link_id;return(r?he(de(r)).link:null)||r||n||t||e}(e);try{return new Fn(t)}catch(e){return null}}}class zn{constructor(){this.providerId=zn.PROVIDER_ID}static credential(e,t){return Dn._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Fn.parseLink(t);return Nt(n,"argument-error"),Dn._fromEmailAndCode(e,n.code,n.tenantId)}}zn.PROVIDER_ID="password",zn.EMAIL_PASSWORD_SIGN_IN_METHOD="password",zn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Bn{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vn extends Bn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $n extends Vn{constructor(){super("facebook.com")}static credential(e){return Mn._fromParams({providerId:$n.PROVIDER_ID,signInMethod:$n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $n.credentialFromTaggedObject(e)}static credentialFromError(e){return $n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return $n.credential(e.oauthAccessToken)}catch(e){return null}}}$n.FACEBOOK_SIGN_IN_METHOD="facebook.com",$n.PROVIDER_ID="facebook.com";class Wn extends Vn{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Mn._fromParams({providerId:Wn.PROVIDER_ID,signInMethod:Wn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wn.credentialFromTaggedObject(e)}static credentialFromError(e){return Wn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Wn.credential(t,n)}catch(e){return null}}}Wn.GOOGLE_SIGN_IN_METHOD="google.com",Wn.PROVIDER_ID="google.com";class Hn extends Vn{constructor(){super("github.com")}static credential(e){return Mn._fromParams({providerId:Hn.PROVIDER_ID,signInMethod:Hn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hn.credentialFromTaggedObject(e)}static credentialFromError(e){return Hn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Hn.credential(e.oauthAccessToken)}catch(e){return null}}}Hn.GITHUB_SIGN_IN_METHOD="github.com",Hn.PROVIDER_ID="github.com";class qn extends Vn{constructor(){super("twitter.com")}static credential(e,t){return Mn._fromParams({providerId:qn.PROVIDER_ID,signInMethod:qn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qn.credentialFromTaggedObject(e)}static credentialFromError(e){return qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return qn.credential(t,n)}catch(e){return null}}}async function Kn(e,t){return $t(e,"POST","/v1/accounts:signUp",zt(e,t))}qn.TWITTER_SIGN_IN_METHOD="twitter.com",qn.PROVIDER_ID="twitter.com";class Gn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await nn._fromIdTokenResponse(e,n,r),o=Qn(n);return new Gn({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Qn(n);return new Gn({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Qn(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Yn extends oe{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Yn.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Yn(e,t,n,r)}}function Xn(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Yn._fromErrorAndOperation(e,n,t,r);throw n}))}async function Jn(e,t,n=!1){const r="signIn",i=await Xn(e,r,t),o=await Gn._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Zn(e){const t=Sn(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const er="__sak";class tr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(er,"1"),this.storage.removeItem(er),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class nr extends tr{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=ne();return dn(e)||yn(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=wn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);!function(){const e=ne();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||10!==document.documentMode||i===e.newValue||e.newValue===e.oldValue?r():setTimeout(r,10)}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}nr.type="LOCAL";const rr=nr;class ir extends tr{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ir.type="SESSION";const or=ir;class sr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new sr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ar(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}sr.receivers=[];class lr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=ar("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function ur(){return window}function cr(){return void 0!==ur().WorkerGlobalScope&&"function"==typeof ur().importScripts}const hr="firebaseLocalStorageDb",dr="firebaseLocalStorage",fr="fbase_key";class pr{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function mr(e,t){return e.transaction([dr],t?"readwrite":"readonly").objectStore(dr)}function gr(){const e=indexedDB.open(hr,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(dr,{keyPath:fr})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(dr)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(hr);return new pr(e).toPromise()}(),t(await gr()))}))}))}async function vr(e,t,n){const r=mr(e,!0).put({[fr]:t,value:n});return new pr(r).toPromise()}function yr(e,t){const n=mr(e,!0).delete(t);return new pr(n).toPromise()}class wr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await gr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sr._getInstance(cr()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new lr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gr();return await vr(e,er,"1"),await yr(e,er),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>vr(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=mr(e,!1).get(t),r=await new pr(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>yr(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=mr(e,!1).getAll();return new pr(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}wr.type="LOCAL";const br=wr;In("rcb"),new Lt(3e4,6e4);class Er{constructor(e){this.providerId=Er.PROVIDER_ID,this.auth=Sn(e)}verifyPhoneNumber(e,t){return async function(e,t,n){var r;const i=await n.verify();try{let o;if(Nt("string"==typeof i,e,"argument-error"),Nt("recaptcha"===n.type,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Nt("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Bt(e,"POST","/v2/accounts/mfaEnrollment:start",zt(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Nt("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Nt(n,e,"missing-multi-factor-info");const s=await function(e,t){return Bt(e,"POST","/v2/accounts/mfaSignIn:start",zt(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Bt(e,"POST","/v1/accounts:sendVerificationCode",zt(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}(this.auth,e,me(t))}static credential(e,t){return Un._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Er.credentialFromTaggedObject(t)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Un._fromTokenResponse(t,n):null}}Er.PROVIDER_ID="phone",Er.PHONE_SIGN_IN_METHOD="phone";class _r extends An{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ln(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ln(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ln(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kr(e){return Jn(e.auth,new _r(e),e.bypassAuthState)}function Sr(e){const{auth:t,user:n}=e;return Nt(n,t,"internal-error"),async function(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await Yt(e,Xn(r,i,t,e),n);Nt(o.idToken,r,"internal-error");const s=Qt(o.idToken);Nt(s,r,"internal-error");const{sub:a}=s;return Nt(e.uid===a,r,"user-mismatch"),Gn._forOperation(e,i,o)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&Ct(r,"user-mismatch"),e}}(n,new _r(e),e.bypassAuthState)}async function Tr(e){const{auth:t,user:n}=e;return Nt(n,t,"internal-error"),async function(e,t,n=!1){const r=await Yt(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Gn._forOperation(e,"link",r)}(n,new _r(e),e.bypassAuthState)}class Cr{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kr;case"linkViaPopup":case"linkViaRedirect":return Tr;case"reauthViaPopup":case"reauthViaRedirect":return Sr;default:Ct(this.auth,"internal-error")}}resolve(e){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ir=new Lt(2e3,1e4);class Or extends Cr{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Or.currentPopupAction&&Or.currentPopupAction.cancel(),Or.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Nt(e,this.auth,"internal-error"),e}async onExecution(){Pt(1===this.filter.length,"Popup operations only handle one event");const e=ar();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(It(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(It(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Or.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(It(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ir.get())};e()}}Or.currentPopupAction=null;const Nr="pendingRedirect",xr=new Map;class Pr extends Cr{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=xr.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return ln(Nr,e.config.apiKey,e.name)}(t),r=function(e){return on(e._redirectPersistence)}(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}xr.set(this.auth._key(),e)}return this.bypassAuthState||xr.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ar(e,t){xr.set(e._key(),t)}async function Rr(e,t,n=!1){const r=Sn(e),i=function(e,t){return t?on(t):(Nt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),o=new Pr(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Dr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Mr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(It(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lr(e))}saveEventToCache(e){this.cachedEventUids.add(Lr(e)),this.lastProcessedEventTime=Date.now()}}function Lr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Mr({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const jr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ur=/^https?/;function Fr(e){const t=At(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Ur.test(n))return!1;if(jr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const zr=new Lt(3e4,6e4);function Br(){const e=ur().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let Vr=null;function $r(e){return Vr=Vr||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){Br(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Br(),n(It(e,"network-request-failed"))},timeout:zr.get()})}if(null===(i=null===(r=ur().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=ur().gapi)||void 0===o?void 0:o.load)){const t=In("iframefcb");return ur()[t]=()=>{gapi.load?s():n(It(e,"network-request-failed"))},Cn(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw Vr=null,e}))}(e),Vr}const Wr=new Lt(5e3,15e3),Hr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kr(e){const t=e.config;Nt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Mt(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:it},i=qr.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ce(r).slice(1)}`}const Gr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const Yr=encodeURIComponent("fac");async function Xr(e,t,n,r,i,o){Nt(e.config.authDomain,e,"auth-domain-config-required"),Nt(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:it,eventId:i};if(t instanceof Bn){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Vn){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];const l=await e._getAppCheckToken(),u=l?`#${Yr}=${encodeURIComponent(l)}`:"";return`${function({config:e}){return e.emulator?Mt(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${ce(a).slice(1)}${u}`}const Jr="webStorageSupport",Zr=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=or,this._completeRedirectFn=Rr,this._overrideRedirectResult=Ar}async _openPopup(e,t,n,r){var i;return Pt(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Gr),{width:r.toString(),height:i.toString(),top:o,left:s}),u=ne().toLowerCase();n&&(a=fn(u)?"_blank":n),hn(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=ne()){var t;return yn(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Qr(null);const h=window.open(t||"",a,c);Nt(h,e,"popup-blocked");try{h.focus()}catch(e){}return new Qr(h)}(e,await Xr(e,t,n,At(),r),ar())}async _openRedirect(e,t,n,r){return await this._originValidation(e),i=await Xr(e,t,n,At(),r),ur().location.href=i,new Promise((()=>{}));var i}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Pt(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await $r(e),n=ur().gapi;return Nt(n,e,"internal-error"),t.open({where:document.body,url:Kr(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hr,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=It(e,"network-request-failed"),o=ur().setTimeout((()=>{r(i)}),Wr.get());function s(){ur().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new Dr(e);return t.register("authEvent",(t=>(Nt(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jr,{type:Jr},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[Jr];void 0!==i&&t(!!i),Ct(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return Bt(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(Fr(e))return}catch(e){}Ct(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wn()||dn()||yn()}};var ei="@firebase/auth",ti="1.3.0";class ni{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ri=Z("authIdTokenMaxAge")||300;let ii=null;function oi(e=st()){const t=tt(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=tt(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(le(n.getOptions(),null!=t?t:{}))return e;Ct(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Zr,persistence:[br,rr,or]}),r=Z("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ri)return;const r=null==t?void 0:t.token;ii!==r&&(ii=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){me(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(t,n,r,i){me(t).onIdTokenChanged((t=>e(t)),void 0,void 0)}(n)}var i;const o=Y("auth");return o&&function(e,t,n){const r=Sn(e);Nt(r._canInitEmulator,r,"emulator-config-failed"),Nt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),o=xn(t),{host:s,port:a}=function(e){const t=xn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Pn(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Pn(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${o}`),n}var si;si="Browser",et(new ge("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;Nt(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:o,authDomain:s,clientPlatform:si,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bn(si)},l=new kn(n,r,i,a);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(on);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),et(new ge("auth-internal",(e=>{return t=Sn(e.getProvider("auth").getImmediate()),new ni(t);var t}),"PRIVATE").setInstantiationMode("EXPLICIT")),at(ei,ti,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(si)),at(ei,ti,"esm2017");var ai,li="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ui={},ci=ci||{},hi=li||self;function di(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function fi(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var pi="closure_uid_"+(1e9*Math.random()>>>0),mi=0;function gi(e,t,n){return e.call.apply(e.bind,arguments)}function vi(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function yi(e,t,n){return(yi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gi:vi).apply(null,arguments)}function wi(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function bi(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Ei(){this.s=this.s,this.o=this.o}Ei.prototype.s=!1,Ei.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,pi)&&e[pi]||(e[pi]=++mi))},Ei.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _i=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ki(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Si(e,t){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(di(n)){const t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function Ti(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ti.prototype.h=function(){this.defaultPrevented=!0};var Ci=function(){if(!hi.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{hi.addEventListener("test",(()=>{}),t),hi.removeEventListener("test",(()=>{}),t)}catch(e){}return e}();function Ii(e){return/^[\s\xa0]*$/.test(e)}function Oi(){var e=hi.navigator;return e&&(e=e.userAgent)?e:""}function Ni(e){return-1!=Oi().indexOf(e)}function xi(e){return xi[" "](e),e}xi[" "]=function(){};var Pi,Ai,Ri,Di=Ni("Opera"),Li=Ni("Trident")||Ni("MSIE"),Mi=Ni("Edge"),ji=Mi||Li,Ui=Ni("Gecko")&&!(-1!=Oi().toLowerCase().indexOf("webkit")&&!Ni("Edge"))&&!(Ni("Trident")||Ni("MSIE"))&&!Ni("Edge"),Fi=-1!=Oi().toLowerCase().indexOf("webkit")&&!Ni("Edge");function zi(){var e=hi.document;return e?e.documentMode:void 0}e:{var Bi="",Vi=(Ai=Oi(),Ui?/rv:([^\);]+)(\)|;)/.exec(Ai):Mi?/Edge\/([\d\.]+)/.exec(Ai):Li?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ai):Fi?/WebKit\/(\S+)/.exec(Ai):Di?/(?:Version)[ \/]?(\S+)/.exec(Ai):void 0);if(Vi&&(Bi=Vi?Vi[1]:""),Li){var $i=zi();if(null!=$i&&$i>parseFloat(Bi)){Pi=String($i);break e}}Pi=Bi}hi.document&&Li?Ri=zi()||parseInt(Pi,10)||void 0:Ri=void 0;var Wi=Ri;function Hi(e,t){if(Ti.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ui){e:{try{xi(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:qi[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Hi.$.h.call(this)}}bi(Hi,Ti);var qi={2:"touch",3:"pen",4:"mouse"};Hi.prototype.h=function(){Hi.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ki="closure_listenable_"+(1e6*Math.random()|0),Gi=0;function Qi(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Gi,this.fa=this.ia=!1}function Yi(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Xi(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Ji(e){const t={};for(const n in e)t[n]=e[n];return t}const Zi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eo(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<Zi.length;t++)n=Zi[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function to(e){this.src=e,this.g={},this.h=0}function no(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=_i(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Yi(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ro(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}to.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=ro(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new Qi(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var io="closure_lm_"+(1e6*Math.random()|0),oo={};function so(e,t,n,r,i){if(r&&r.once)return lo(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)so(e,t[o],n,r,i);return null}return n=go(n),e&&e[Ki]?e.O(t,n,fi(r)?!!r.capture:!!r,i):ao(e,t,n,!1,r,i)}function ao(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=fi(i)?!!i.capture:!!i,a=po(e);if(a||(e[io]=a=new to(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){const e=fo;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ci||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ho(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function lo(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)lo(e,t[o],n,r,i);return null}return n=go(n),e&&e[Ki]?e.P(t,n,fi(r)?!!r.capture:!!r,i):ao(e,t,n,!0,r,i)}function uo(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)uo(e,t[o],n,r,i);else r=fi(r)?!!r.capture:!!r,n=go(n),e&&e[Ki]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=ro(o=e.g[t],n,r,i))&&(Yi(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=po(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ro(t,n,r,i)),(n=-1<e?t[e]:null)&&co(n))}function co(e){if("number"!=typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ki])no(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ho(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=po(t))?(no(n,e),0==n.h&&(n.src=null,t[io]=null)):Yi(e)}}}function ho(e){return e in oo?oo[e]:oo[e]="on"+e}function fo(e,t){if(e.fa)e=!0;else{t=new Hi(t,this);var n=e.listener,r=e.la||e.src;e.ia&&co(e),e=n.call(r,t)}return e}function po(e){return(e=e[io])instanceof to?e:null}var mo="__closure_events_fn_"+(1e9*Math.random()>>>0);function go(e){return"function"==typeof e?e:(e[mo]||(e[mo]=function(t){return e.handleEvent(t)}),e[mo])}function vo(){Ei.call(this),this.i=new to(this),this.S=this,this.J=null}function yo(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"==typeof t)t=new Ti(t,e);else if(t instanceof Ti)t.target=t.target||e;else{var i=t;eo(t=new Ti(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=wo(s,r,!0,t)&&i}if(i=wo(s=t.g=e,r,!0,t)&&i,i=wo(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=wo(s=t.g=n[o],r,!1,t)&&i}function wo(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&no(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}bi(vo,Ei),vo.prototype[Ki]=!0,vo.prototype.removeEventListener=function(e,t,n,r){uo(this,e,t,n,r)},vo.prototype.N=function(){if(vo.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Yi(n[r]);delete t.g[e],t.h--}}this.J=null},vo.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},vo.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var bo=hi.JSON.stringify;function Eo(){var e=Oo;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _o=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new ko),(e=>e.reset()));class ko{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function So(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function To(e){hi.setTimeout((()=>{throw e}),0)}let Co,Io=!1,Oo=new class{constructor(){this.h=this.g=null}add(e,t){const n=_o.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},No=()=>{const e=hi.Promise.resolve(void 0);Co=()=>{e.then(xo)}};var xo=()=>{for(var e;e=Eo();){try{e.h.call(e.g)}catch(e){To(e)}var t=_o;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Io=!1};function Po(e,t){vo.call(this),this.h=e||1,this.g=t||hi,this.j=yi(this.qb,this),this.l=Date.now()}function Ao(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ro(e,t,n){if("function"==typeof e)n&&(e=yi(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=yi(e.handleEvent,e)}return 2147483647<Number(t)?-1:hi.setTimeout(e,t||0)}function Do(e){e.g=Ro((()=>{e.g=null,e.i&&(e.i=!1,Do(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}bi(Po,vo),(ai=Po.prototype).ga=!1,ai.T=null,ai.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),yo(this,"tick"),this.ga&&(Ao(this),this.start()))}},ai.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ai.N=function(){Po.$.N.call(this),Ao(this),delete this.g};class Lo extends Ei{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Do(this)}N(){super.N(),this.g&&(hi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mo(e){Ei.call(this),this.h=e,this.g={}}bi(Mo,Ei);var jo=[];function Uo(e,t,n,r){Array.isArray(n)||(n&&(jo[0]=n.toString()),n=jo);for(var i=0;i<n.length;i++){var o=so(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Fo(e){Xi(e.g,(function(e,t){this.g.hasOwnProperty(t)&&co(e)}),e),e.g={}}function zo(){this.g=!0}function Bo(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return bo(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Mo.prototype.N=function(){Mo.$.N.call(this),Fo(this)},Mo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zo.prototype.Ea=function(){this.g=!1},zo.prototype.info=function(){};var Vo={},$o=null;function Wo(){return $o=$o||new vo}function Ho(e){Ti.call(this,Vo.Ta,e)}function qo(e){const t=Wo();yo(t,new Ho(t))}function Ko(e,t){Ti.call(this,Vo.STAT_EVENT,e),this.stat=t}function Go(e){const t=Wo();yo(t,new Ko(t,e))}function Qo(e,t){Ti.call(this,Vo.Ua,e),this.size=t}function Yo(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return hi.setTimeout((function(){e()}),t)}Vo.Ta="serverreachability",bi(Ho,Ti),Vo.STAT_EVENT="statevent",bi(Ko,Ti),Vo.Ua="timingevent",bi(Qo,Ti);var Xo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Jo={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zo(){}function es(e){return e.h||(e.h=e.i())}function ts(){}Zo.prototype.h=null;var ns,rs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function is(){Ti.call(this,"d")}function os(){Ti.call(this,"c")}function ss(){}function as(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Mo(this),this.P=us,e=ji?125:void 0,this.V=new Po(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ls}function ls(){this.i=null,this.g="",this.h=!1}bi(is,Ti),bi(os,Ti),bi(ss,Zo),ss.prototype.g=function(){return new XMLHttpRequest},ss.prototype.i=function(){return{}},ns=new ss;var us=45e3,cs={},hs={};function ds(e,t,n){e.L=1,e.v=Ps(Cs(t)),e.s=n,e.S=!0,fs(e,null)}function fs(e,t){e.G=Date.now(),vs(e),e.A=Cs(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Ws(n.i,"t",r),e.C=0,n=e.l.J,e.h=new ls,e.g=Wa(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Lo(yi(e.Pa,e,e.g),e.O)),Uo(e.U,e.g,"readystatechange",e.nb),t=e.I?Ji(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),qo(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&"type"==h[1]?s+(c+"=")+u+"&":s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function ps(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.l.Ha}function ms(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=gs(e,n),r==hs){4==t&&(e.o=4,Go(14),i=!1),Bo(e.j,e.m,null,"[Incomplete Response]");break}if(r==cs){e.o=4,Go(15),Bo(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Bo(e.j,e.m,r,null),_s(e,r)}ps(e)&&r!=hs&&r!=cs&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Go(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ma(t),t.M=!0,Go(11))):(Bo(e.j,e.m,n,"[Invalid Chunked Response]"),Es(e),bs(e))}function gs(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?hs:(n=Number(t.substring(n,r)),isNaN(n)?cs:(r+=1)+n>t.length?hs:(t=t.slice(r,r+n),e.C=r+n,t))}function vs(e){e.Y=Date.now()+e.P,ys(e,e.P)}function ys(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Yo(yi(e.lb,e),t)}function ws(e){e.B&&(hi.clearTimeout(e.B),e.B=null)}function bs(e){0==e.l.H||e.J||Fa(e.l,e)}function Es(e){ws(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Ao(e.V),Fo(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function _s(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Xs(n.i,e)))if(!e.K&&Xs(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Ua(n),Oa(n)}La(n),Go(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Yo(yi(n.ib,n),6e3));if(1>=Ys(n.i)&&n.oa){try{n.oa()}catch(e){}n.oa=void 0}}else Ba(n,11)}else if((e.K||n.g==e)&&Ua(n),!Ii(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"==typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Js(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,xs(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=$a(r,r.J?r.pa:null,r.Y),s.K){Zs(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(ws(a),vs(a)),r.g=s}else Da(r);0<n.j.length&&xa(n)}else"stop"!=u[0]&&"close"!=u[0]||Ba(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Ba(n,7):Ia(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}qo()}catch(e){}}function ks(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(di(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(di(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(di(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(ai=as.prototype).setTimeout=function(e){this.P=e},ai.nb=function(e){e=e.target;const t=this.M;t&&3==Ea(e)?t.l():this.Pa(e)},ai.Pa=function(e){try{if(e==this.g)e:{const c=Ea(this.g);var t=this.g.Ia();if(this.g.da(),!(3>c)&&(3!=c||ji||this.g&&(this.h.h||this.g.ja()||_a(this.g)))){this.J||4!=c||7==t||qo(),ws(this);var n=this.g.da();this.ca=n;t:if(ps(this)){var r=_a(this.g);e="";var i=r.length,o=4==Ea(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Es(this),bs(this);var s="";break t}this.h.i=new hi.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ii(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Go(12),Es(this),bs(this);break e}Bo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_s(this,n)}this.S?(ms(this,c,s),ji&&this.i&&3==c&&(Uo(this.U,this.V,"tick",this.mb),this.V.start())):(Bo(this.j,this.m,s,null),_s(this,s)),4==c&&Es(this),this.i&&!this.J&&(4==c?Fa(this.l,this):(this.i=!1,vs(this)))}else(function(e){const t={};e=(e.g&&2<=Ea(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Ii(e[r]))continue;var n=So(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Go(12)):(this.o=0,Go(13)),Es(this),bs(this)}}}catch(e){}},ai.mb=function(){if(this.g){var e=Ea(this.g),t=this.g.ja();this.C<t.length&&(ws(this),ms(this,e,t),this.i&&4!=e&&vs(this))}},ai.cancel=function(){this.J=!0,Es(this)},ai.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(qo(),Go(17)),Es(this),this.o=2,bs(this)):ys(this,this.Y-e)};var Ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ts(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ts){this.h=e.h,Is(this,e.j),this.s=e.s,this.g=e.g,Os(this,e.m),this.l=e.l;var t=e.i,n=new zs;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ns(this,n),this.o=e.o}else e&&(t=String(e).match(Ss))?(this.h=!1,Is(this,t[1]||"",!0),this.s=As(t[2]||""),this.g=As(t[3]||"",!0),Os(this,t[4]),this.l=As(t[5]||"",!0),Ns(this,t[6]||"",!0),this.o=As(t[7]||"")):(this.h=!1,this.i=new zs(null,this.h))}function Cs(e){return new Ts(e)}function Is(e,t,n){e.j=n?As(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Os(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ns(e,t,n){t instanceof zs?(e.i=t,function(e,t){t&&!e.j&&(Bs(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Vs(this,t),Ws(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Rs(t,Us)),e.i=new zs(t,e.h))}function xs(e,t,n){e.i.set(t,n)}function Ps(e){return xs(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function As(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Rs(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Ds),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ds(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ts.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Rs(t,Ls,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Rs(t,Ls,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Rs(n,"/"==n.charAt(0)?js:Ms,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Rs(n,Fs)),e.join("")};var Ls=/[#\/\?@]/g,Ms=/[#\?:]/g,js=/[#\?]/g,Us=/[#\?@]/g,Fs=/#/g;function zs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Bs(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Vs(e,t){Bs(e),t=Hs(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function $s(e,t){return Bs(e),t=Hs(e,t),e.g.has(t)}function Ws(e,t,n){Vs(e,t),0<n.length&&(e.i=null,e.g.set(Hs(e,t),ki(n)),e.h+=n.length)}function Hs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ai=zs.prototype).add=function(e,t){Bs(this),this.i=null,e=Hs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ai.forEach=function(e,t){Bs(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},ai.ta=function(){Bs(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},ai.Z=function(e){Bs(this);let t=[];if("string"==typeof e)$s(this,e)&&(t=t.concat(this.g.get(Hs(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},ai.set=function(e,t){return Bs(this),this.i=null,$s(this,e=Hs(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ai.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},ai.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var qs=class{constructor(e,t){this.g=e,this.map=t}};function Ks(e){this.l=e||Gs,e=hi.PerformanceNavigationTiming?0<(e=hi.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(hi.g&&hi.g.Ka&&hi.g.Ka()&&hi.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Gs=10;function Qs(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ys(e){return e.h?1:e.g?e.g.size:0}function Xs(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Js(e,t){e.g?e.g.add(t):e.h=t}function Zs(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ea(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return ki(e.i)}Ks.prototype.cancel=function(){if(this.i=ea(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ta=class{stringify(e){return hi.JSON.stringify(e,void 0)}parse(e){return hi.JSON.parse(e,void 0)}};function na(){this.g=new ta}function ra(e,t,n){const r=n||"";try{ks(e,(function(e,n){let i=e;fi(e)&&(i=bo(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function ia(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function oa(e){this.l=e.fc||null,this.j=e.ob||!1}function sa(e,t){vo.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=aa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bi(oa,Zo),oa.prototype.g=function(){return new sa(this.l,this.j)},oa.prototype.i=function(e){return function(){return e}}({}),bi(sa,vo);var aa=0;function la(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ua(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ca(e)}function ca(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ai=sa.prototype).open=function(e,t){if(this.readyState!=aa)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ca(this)},ai.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||hi).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},ai.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ua(this)),this.readyState=aa},ai.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ca(this)),this.g&&(this.readyState=3,ca(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==hi.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;la(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},ai.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ua(this):ca(this),3==this.readyState&&la(this)}},ai.Za=function(e){this.g&&(this.response=this.responseText=e,ua(this))},ai.Ya=function(e){this.g&&(this.response=e,ua(this))},ai.ka=function(){this.g&&ua(this)},ai.setRequestHeader=function(e,t){this.v.append(e,t)},ai.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ai.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ha=hi.JSON.parse;function da(e){vo.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fa,this.L=this.M=!1}bi(da,vo);var fa="",pa=/^https?$/i,ma=["POST","PUT"];function ga(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,va(e),wa(e)}function va(e){e.F||(e.F=!0,yo(e,"complete"),yo(e,"error"))}function ya(e){if(e.h&&void 0!==ci&&(!e.C[1]||4!=Ea(e)||2!=e.da()))if(e.v&&4==Ea(e))Ro(e.La,0,e);else if(yo(e,"readystatechange"),4==Ea(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.I).match(Ss)[1]||null;!i&&hi.self&&hi.self.location&&(i=hi.self.location.protocol.slice(0,-1)),r=!pa.test(i?i.toLowerCase():"")}n=r}if(n)yo(e,"complete"),yo(e,"success");else{e.m=6;try{var o=2<Ea(e)?e.g.statusText:""}catch(e){o=""}e.j=o+" ["+e.da()+"]",va(e)}}finally{wa(e)}}}function wa(e,t){if(e.g){ba(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||yo(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function ba(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(hi.clearTimeout(e.A),e.A=null)}function Ea(e){return e.g?e.g.readyState:0}function _a(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case fa:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ka(e){let t="";return Xi(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Sa(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ka(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):xs(e,t,n))}function Ta(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ca(e){this.Ga=0,this.j=[],this.l=new zo,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ta("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ta("baseRetryDelayMs",5e3,e),this.hb=Ta("retryDelaySeedMs",1e4,e),this.eb=Ta("forwardChannelMaxRetries",2,e),this.xa=Ta("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ks(e&&e.concurrentRequestLimit),this.Ja=new na,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ia(e){if(Na(e),3==e.H){var t=e.W++,n=Cs(e.I);if(xs(n,"SID",e.K),xs(n,"RID",t),xs(n,"TYPE","terminate"),Aa(e,n),(t=new as(e,e.l,t)).L=2,t.v=Ps(Cs(n)),n=!1,hi.navigator&&hi.navigator.sendBeacon)try{n=hi.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!n&&hi.Image&&((new Image).src=t.v,n=!0),n||(t.g=Wa(t.l,null),t.g.ha(t.v)),t.G=Date.now(),vs(t)}Va(e)}function Oa(e){e.g&&(Ma(e),e.g.cancel(),e.g=null)}function Na(e){Oa(e),e.u&&(hi.clearTimeout(e.u),e.u=null),Ua(e),e.i.cancel(),e.m&&("number"==typeof e.m&&hi.clearTimeout(e.m),e.m=null)}function xa(e){if(!Qs(e.i)&&!e.m){e.m=!0;var t=e.Na;Co||No(),Io||(Co(),Io=!0),Oo.add(t,e),e.C=0}}function Pa(e,t){var n;n=t?t.m:e.W++;const r=Cs(e.I);xs(r,"SID",e.K),xs(r,"RID",n),xs(r,"AID",e.V),Aa(e,r),e.o&&e.s&&Sa(r,e.o,e.s),n=new as(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ra(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Js(e.i,n),ds(n,r,t)}function Aa(e,t){e.na&&Xi(e.na,(function(e,n){xs(t,n,e)})),e.h&&ks({},(function(e,n){xs(t,n,e)}))}function Ra(e,t,n){n=Math.min(e.j.length,n);var r=e.h?yi(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{ra(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Da(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Co||No(),Io||(Co(),Io=!0),Oo.add(t,e),e.A=0}}function La(e){return!(e.g||e.u||3<=e.A||(e.ba++,e.u=Yo(yi(e.Ma,e),za(e,e.A)),e.A++,0))}function Ma(e){null!=e.B&&(hi.clearTimeout(e.B),e.B=null)}function ja(e){e.g=new as(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Cs(e.wa);xs(t,"RID","rpc"),xs(t,"SID",e.K),xs(t,"AID",e.V),xs(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&xs(t,"TO",e.qa),xs(t,"TYPE","xmlhttp"),Aa(e,t),e.o&&e.s&&Sa(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Ps(Cs(t)),n.s=null,n.S=!0,fs(n,e)}function Ua(e){null!=e.v&&(hi.clearTimeout(e.v),e.v=null)}function Fa(e,t){var n=null;if(e.g==t){Ua(e),Ma(e),e.g=null;var r=2}else{if(!Xs(e.i,t))return;n=t.F,Zs(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;yo(r=Wo(),new Qo(r,n)),xa(e)}else Da(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Ys(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.j=t.F.concat(e.j),0):1==e.H||2==e.H||e.C>=(e.cb?0:e.eb)||(e.m=Yo(yi(e.Na,e,t),za(e,e.C)),e.C++,0)))}(e,t)||2==r&&La(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ba(e,5);break;case 4:Ba(e,10);break;case 3:Ba(e,6);break;default:Ba(e,2)}}function za(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ba(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=yi(e.pb,e);n||(n=new Ts("//www.google.com/images/cleardot.gif"),hi.location&&"http"==hi.location.protocol||Is(n,"https"),Ps(n)),function(e,t){const n=new zo;if(hi.Image){const r=new Image;r.onload=wi(ia,n,r,"TestLoadImage: loaded",!0,t),r.onerror=wi(ia,n,r,"TestLoadImage: error",!1,t),r.onabort=wi(ia,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=wi(ia,n,r,"TestLoadImage: timeout",!1,t),hi.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Go(2);e.H=0,e.h&&e.h.za(t),Va(e),Na(e)}function Va(e){if(e.H=0,e.ma=[],e.h){const t=ea(e.i);0==t.length&&0==e.j.length||(Si(e.ma,t),Si(e.ma,e.j),e.i.i.length=0,ki(e.j),e.j.length=0),e.h.ya()}}function $a(e,t,n){var r=n instanceof Ts?Cs(n):new Ts(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Os(r,r.m);else{var i=hi.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Ts(null);r&&Is(o,r),t&&(o.g=t),i&&Os(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&xs(r,n,t),xs(r,"VER",e.ra),Aa(e,r),r}function Wa(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new da(new oa({ob:!0})):new da(e.va)).Oa(e.J),t}function Ha(){}function qa(){if(Li&&!(10<=Number(Wi)))throw Error("Environmental error: no available transport.")}function Ka(e,t){vo.call(this),this.g=new Ca(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ii(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ii(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Ya(this)}function Ga(e){is.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Qa(){os.call(this),this.status=1}function Ya(e){this.g=e}function Xa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ja(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Za(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(ai=da.prototype).Oa=function(e){this.M=e},ai.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ns.g(),this.C=this.u?es(this.u):es(ns),this.g.onreadystatechange=yi(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(e){return void ga(this,e)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=hi.FormData&&e instanceof hi.FormData,!(0<=_i(ma,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of n)this.g.setRequestHeader(e,t);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ba(this),0<this.B&&((this.L=function(e){return Li&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yi(this.ua,this)):this.A=Ro(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){ga(this,e)}},ai.ua=function(){void 0!==ci&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yo(this,"timeout"),this.abort(8))},ai.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,yo(this,"complete"),yo(this,"abort"),wa(this))},ai.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wa(this,!0)),da.$.N.call(this)},ai.La=function(){this.s||(this.G||this.v||this.l?ya(this):this.kb())},ai.kb=function(){ya(this)},ai.isActive=function(){return!!this.g},ai.da=function(){try{return 2<Ea(this)?this.g.status:-1}catch(e){return-1}},ai.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},ai.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ha(t)}},ai.Ia=function(){return this.m},ai.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ai=Ca.prototype).ra=8,ai.H=1,ai.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new as(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Ji(o),eo(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ra(this,i,t),xs(n=Cs(this.I),"RID",e),xs(n,"CVER",22),this.F&&xs(n,"X-HTTP-Session-Id",this.F),Aa(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(ka(o)))+"&"+t:this.o&&Sa(n,this.o,o)),Js(this.i,i),this.bb&&xs(n,"TYPE","init"),this.P?(xs(n,"$req",t),xs(n,"SID","null"),i.aa=!0,ds(i,n,null)):ds(i,n,t),this.H=2}}else 3==this.H&&(e?Pa(this,e):0==this.j.length||Qs(this.i)||Pa(this))},ai.Ma=function(){if(this.u=null,ja(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Yo(yi(this.jb,this),e)}},ai.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Go(10),Oa(this),ja(this))},ai.ib=function(){null!=this.v&&(this.v=null,Oa(this),La(this),Go(19))},ai.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Go(2)):(this.l.info("Failed to ping google.com"),Go(1))},ai.isActive=function(){return!!this.h&&this.h.isActive(this)},(ai=Ha.prototype).Ba=function(){},ai.Aa=function(){},ai.za=function(){},ai.ya=function(){},ai.isActive=function(){return!0},ai.Va=function(){},qa.prototype.g=function(e,t){return new Ka(e,t)},bi(Ka,vo),Ka.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Go(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=$a(e,null,e.Y),xa(e)},Ka.prototype.close=function(){Ia(this.g)},Ka.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=bo(e),e=n);t.j.push(new qs(t.fb++,e)),3==t.H&&xa(t)},Ka.prototype.N=function(){this.g.h=null,delete this.j,Ia(this.g),delete this.g,Ka.$.N.call(this)},bi(Ga,is),bi(Qa,os),bi(Ya,Ha),Ya.prototype.Ba=function(){yo(this.g,"a")},Ya.prototype.Aa=function(e){yo(this.g,new Ga(e))},Ya.prototype.za=function(e){yo(this.g,new Qa)},Ya.prototype.ya=function(){yo(this.g,"b")},bi(Xa,(function(){this.blockSize=-1})),Xa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Xa.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Ja(this,e,o),o+=this.blockSize;if("string"==typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Ja(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Ja(this,r),i=0;break}}this.h=i,this.i+=t},Xa.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var el={};function tl(e){return-128<=e&&128>e?function(e,t){var n=el;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=function(e){return new Za([0|e],0>e?-1:0)}(e)}(e):new Za([0|e],0>e?-1:0)}function nl(e){if(isNaN(e)||!isFinite(e))return il;if(0>e)return ul(nl(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=rl;return new Za(t,0)}var rl=4294967296,il=tl(0),ol=tl(1),sl=tl(16777216);function al(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function ll(e){return-1==e.h}function ul(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Za(n,~e.h).add(ol)}function cl(e,t){return e.add(ul(t))}function hl(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function dl(e,t){this.g=e,this.h=t}function fl(e,t){if(al(t))throw Error("division by zero");if(al(e))return new dl(il,il);if(ll(e))return t=fl(ul(e),t),new dl(ul(t.g),ul(t.h));if(ll(t))return t=fl(e,ul(t)),new dl(ul(t.g),t.h);if(30<e.g.length){if(ll(e)||ll(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ol,r=t;0>=r.X(e);)n=pl(n),r=pl(r);var i=ml(n,1),o=ml(r,1);for(r=ml(r,2),n=ml(n,2);!al(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=ml(r,1),n=ml(n,1)}return t=cl(e,i.R(t)),new dl(i,t)}for(i=il;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=nl(n)).R(t);ll(s)||0<s.X(e);)s=(o=nl(n-=r)).R(t);al(o)&&(o=ol),i=i.add(o),e=cl(e,s)}return new dl(i,e)}function pl(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Za(n,e.h)}function ml(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Za(i,e.h)}(ai=Za.prototype).ea=function(){if(ll(this))return-ul(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:rl+r)*t,t*=rl}return e},ai.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(al(this))return"0";if(ll(this))return"-"+ul(this).toString(e);for(var t=nl(Math.pow(e,6)),n=this,r="";;){var i=fl(n,t).g,o=((0<(n=cl(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(al(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},ai.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},ai.X=function(e){return ll(e=cl(this,e))?-1:al(e)?0:1},ai.abs=function(){return ll(this)?ul(this):this},ai.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Za(n,-2147483648&n[n.length-1]?-1:0)},ai.R=function(e){if(al(this)||al(e))return il;if(ll(this))return ll(e)?ul(this).R(ul(e)):ul(ul(this).R(e));if(ll(e))return ul(this.R(ul(e)));if(0>this.X(sl)&&0>e.X(sl))return nl(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,hl(n,2*r+2*i),n[2*r+2*i+1]+=o*l,hl(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,hl(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,hl(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Za(n,0)},ai.gb=function(e){return fl(this,e).h},ai.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Za(n,this.h&e.h)},ai.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Za(n,this.h|e.h)},ai.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Za(n,this.h^e.h)},qa.prototype.createWebChannel=qa.prototype.g,Ka.prototype.send=Ka.prototype.u,Ka.prototype.open=Ka.prototype.m,Ka.prototype.close=Ka.prototype.close,Xo.NO_ERROR=0,Xo.TIMEOUT=8,Xo.HTTP_ERROR=6,Jo.COMPLETE="complete",ts.EventType=rs,rs.OPEN="a",rs.CLOSE="b",rs.ERROR="c",rs.MESSAGE="d",vo.prototype.listen=vo.prototype.O,da.prototype.listenOnce=da.prototype.P,da.prototype.getLastError=da.prototype.Sa,da.prototype.getLastErrorCode=da.prototype.Ia,da.prototype.getStatus=da.prototype.da,da.prototype.getResponseJson=da.prototype.Wa,da.prototype.getResponseText=da.prototype.ja,da.prototype.send=da.prototype.ha,da.prototype.setWithCredentials=da.prototype.Oa,Xa.prototype.digest=Xa.prototype.l,Xa.prototype.reset=Xa.prototype.reset,Xa.prototype.update=Xa.prototype.j,Za.prototype.add=Za.prototype.add,Za.prototype.multiply=Za.prototype.R,Za.prototype.modulo=Za.prototype.gb,Za.prototype.compare=Za.prototype.X,Za.prototype.toNumber=Za.prototype.ea,Za.prototype.toString=Za.prototype.toString,Za.prototype.getBits=Za.prototype.D,Za.fromNumber=nl,Za.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return ul(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=nl(Math.pow(n,8)),i=il,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=nl(Math.pow(n,s)),i=i.R(s).add(nl(a))):i=(i=i.R(r)).add(nl(a))}return i};var gl=ui.createWebChannelTransport=function(){return new qa},vl=ui.getStatEventTarget=function(){return Wo()},yl=ui.ErrorCode=Xo,wl=ui.EventType=Jo,bl=ui.Event=Vo,El=ui.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_l=(ui.FetchXmlHttpFactory=oa,ui.WebChannel=ts),kl=ui.XhrIo=da,Sl=ui.Md5=Xa,Tl=ui.Integer=Za;const Cl="@firebase/firestore";class Il{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Il.UNAUTHENTICATED=new Il(null),Il.GOOGLE_CREDENTIALS=new Il("google-credentials-uid"),Il.FIRST_PARTY=new Il("first-party-uid"),Il.MOCK_USER=new Il("mock-user");let Ol="10.3.1";const Nl=new Ie("@firebase/firestore");function xl(){return Nl.logLevel}function Pl(e,...t){if(Nl.logLevel<=Ee.DEBUG){const n=t.map(Dl);Nl.debug(`Firestore (${Ol}): ${e}`,...n)}}function Al(e,...t){if(Nl.logLevel<=Ee.ERROR){const n=t.map(Dl);Nl.error(`Firestore (${Ol}): ${e}`,...n)}}function Rl(e,...t){if(Nl.logLevel<=Ee.WARN){const n=t.map(Dl);Nl.warn(`Firestore (${Ol}): ${e}`,...n)}}function Dl(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ll(e="Unexpected state"){const t=`FIRESTORE (${Ol}) INTERNAL ASSERTION FAILED: `+e;throw Al(t),new Error(t)}function Ml(e,t){e||Ll()}function jl(e,t){return e}const Ul={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fl extends oe{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zl{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Bl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Il.UNAUTHENTICATED)))}shutdown(){}}class $l{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Wl{constructor(e){this.t=e,this.currentUser=Il.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new zl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new zl,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Pl("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Pl("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new zl)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Pl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ml("string"==typeof t.accessToken),new Bl(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ml(null===e||"string"==typeof e),new Il(e)}}class Hl{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Il.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ql{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Hl(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Il.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Kl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gl{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Pl("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Pl("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Pl("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Pl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Ml("string"==typeof e.token),this.R=e.token,new Kl(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ql(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}class Yl{static V(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Ql(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Xl(e,t){return e<t?-1:e>t?1:0}function Jl(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Zl{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fl(Ul.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fl(Ul.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fl(Ul.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fl(Ul.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zl.fromMillis(Date.now())}static fromDate(e){return Zl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Zl(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xl(this.nanoseconds,e.nanoseconds):Xl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class eu{constructor(e){this.timestamp=e}static fromTimestamp(e){return new eu(e)}static min(){return new eu(new Zl(0,0))}static max(){return new eu(new Zl(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class tu{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ll(),void 0===n?n=e.length-t:n>e.length-t&&Ll(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===tu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof tu?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class nu extends tu{construct(e,t,n){return new nu(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Fl(Ul.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new nu(t)}static emptyPath(){return new nu([])}}const ru=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class iu extends tu{construct(e,t,n){return new iu(e,t,n)}static isValidIdentifier(e){return ru.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),iu.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new iu(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Fl(Ul.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Fl(Ul.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Fl(Ul.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Fl(Ul.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new iu(t)}static emptyPath(){return new iu([])}}class ou{constructor(e){this.path=e}static fromPath(e){return new ou(nu.fromString(e))}static fromName(e){return new ou(nu.fromString(e).popFirst(5))}static empty(){return new ou(nu.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===nu.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return nu.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ou(new nu(e.slice()))}}function su(e){return new au(e.readTime,e.key,-1)}class au{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new au(eu.min(),ou.empty(),-1)}static max(){return new au(eu.max(),ou.empty(),-1)}}function lu(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ou.comparator(e.documentKey,t.documentKey),0!==n?n:Xl(e.largestBatchId,t.largestBatchId))}const uu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function hu(e){if(e.code!==Ul.FAILED_PRECONDITION||e.message!==uu)throw e;Pl("LocalStore","Unexpectedly lost primary lease")}class du{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ll(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new du(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof du?t:du.resolve(t)}catch(e){return du.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):du.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):du.reject(t)}static resolve(e){return new du(((t,n)=>{t(e)}))}static reject(e){return new du(((t,n)=>{n(e)}))}static waitFor(e){return new du(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=du.resolve(!1);for(const n of e)t=t.next((e=>e?du.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new du(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new du(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function fu(e){return"IndexedDbTransactionError"===e.name}class pu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}function mu(e){return null==e}function gu(e){return 0===e&&1/e==-1/0}pu.ae=-1;function vu(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function yu(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function wu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class bu{constructor(e,t){this.comparator=e,this.root=t||_u.EMPTY}insert(e,t){return new bu(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_u.BLACK,null,null))}remove(e){return new bu(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_u.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eu(this.root,e,this.comparator,!0)}}class Eu{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _u{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:_u.RED,this.left=null!=r?r:_u.EMPTY,this.right=null!=i?i:_u.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new _u(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _u.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return _u.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_u.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_u.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ll();if(this.right.isRed())throw Ll();const e=this.left.check();if(e!==this.right.check())throw Ll();return e+(this.isRed()?0:1)}}_u.EMPTY=null,_u.RED=!0,_u.BLACK=!1,_u.EMPTY=new class{constructor(){this.size=0}get key(){throw Ll()}get value(){throw Ll()}get color(){throw Ll()}get left(){throw Ll()}get right(){throw Ll()}copy(e,t,n,r,i){return this}insert(e,t,n){return new _u(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ku{constructor(e){this.comparator=e,this.data=new bu(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Su(this.data.getIterator())}getIteratorFrom(e){return new Su(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ku))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ku(this.comparator);return t.data=e,t}}class Su{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tu{constructor(e){this.fields=e,e.sort(iu.comparator)}static empty(){return new Tu([])}unionWith(e){let t=new ku(iu.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new Tu(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jl(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Cu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Iu{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Cu("Invalid base64 string: "+e):e}}(e);return new Iu(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Iu(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Iu.EMPTY_BYTE_STRING=new Iu("");const Ou=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nu(e){if(Ml(!!e),"string"==typeof e){let t=0;const n=Ou.exec(e);if(Ml(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:xu(e.seconds),nanos:xu(e.nanos)}}function xu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Pu(e){return"string"==typeof e?Iu.fromBase64String(e):Iu.fromUint8Array(e)}function Au(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ru(e){const t=e.mapValue.fields.__previous_value__;return Au(t)?Ru(t):t}function Du(e){const t=Nu(e.mapValue.fields.__local_write_time__.timestampValue);return new Zl(t.seconds,t.nanos)}class Lu{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class Mu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Mu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mu&&e.projectId===this.projectId&&e.database===this.database}}const ju={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Uu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Au(e)?4:Xu(e)?9007199254740991:10:Ll()}function Fu(e,t){if(e===t)return!0;const n=Uu(e);if(n!==Uu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Du(e).isEqual(Du(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Nu(e.timestampValue),r=Nu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Pu(e.bytesValue).isEqual(Pu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return xu(e.geoPointValue.latitude)===xu(t.geoPointValue.latitude)&&xu(e.geoPointValue.longitude)===xu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return xu(e.integerValue)===xu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=xu(e.doubleValue),r=xu(t.doubleValue);return n===r?gu(n)===gu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Jl(e.arrayValue.values||[],t.arrayValue.values||[],Fu);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(vu(n)!==vu(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Fu(n[e],r[e])))return!1;return!0}(e,t);default:return Ll()}}function zu(e,t){return void 0!==(e.values||[]).find((e=>Fu(e,t)))}function Bu(e,t){if(e===t)return 0;const n=Uu(e),r=Uu(t);if(n!==r)return Xl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=xu(e.integerValue||e.doubleValue),r=xu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Vu(e.timestampValue,t.timestampValue);case 4:return Vu(Du(e),Du(t));case 5:return Xl(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Pu(e),r=Pu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=Xl(n[e],r[e]);if(0!==t)return t}return Xl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Xl(xu(e.latitude),xu(t.latitude));return 0!==n?n:Xl(xu(e.longitude),xu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=Bu(n[e],r[e]);if(t)return t}return Xl(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ju.mapValue&&t===ju.mapValue)return 0;if(e===ju.mapValue)return 1;if(t===ju.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let e=0;e<r.length&&e<o.length;++e){const t=Xl(r[e],o[e]);if(0!==t)return t;const s=Bu(n[r[e]],i[o[e]]);if(0!==s)return s}return Xl(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Ll()}}function Vu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Xl(e,t);const n=Nu(e),r=Nu(t),i=Xl(n.seconds,r.seconds);return 0!==i?i:Xl(n.nanos,r.nanos)}function $u(e){return Wu(e)}function Wu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Nu(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Pu(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ou.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Wu(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Wu(e.fields[i])}`;return n+"}"}(e.mapValue):Ll()}function Hu(e){return!!e&&"integerValue"in e}function qu(e){return!!e&&"arrayValue"in e}function Ku(e){return!!e&&"nullValue"in e}function Gu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Qu(e){return!!e&&"mapValue"in e}function Yu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return yu(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Yu(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Yu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Xu(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ju{constructor(e){this.value=e}static empty(){return new Ju({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Qu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yu(t)}setAll(e){let t=iu.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Yu(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Qu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Qu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){yu(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new Ju(Yu(this.value))}}function Zu(e){const t=[];return yu(e.fields,((e,n)=>{const r=new iu([e]);if(Qu(n)){const e=Zu(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Tu(t)}class ec{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new ec(e,0,eu.min(),eu.min(),eu.min(),Ju.empty(),0)}static newFoundDocument(e,t,n,r){return new ec(e,1,t,eu.min(),n,r,0)}static newNoDocument(e,t){return new ec(e,2,t,eu.min(),eu.min(),Ju.empty(),0)}static newUnknownDocument(e,t){return new ec(e,3,t,eu.min(),eu.min(),Ju.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(eu.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ju.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ju.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=eu.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ec&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ec(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tc{constructor(e,t){this.position=e,this.inclusive=t}}function nc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?ou.comparator(ou.fromName(s.referenceValue),n.key):Bu(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function rc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Fu(e.position[n],t.position[n]))return!1;return!0}class ic{constructor(e,t="asc"){this.field=e,this.dir=t}}function oc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class sc{}class ac extends sc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new pc(e,t,n):"array-contains"===t?new yc(e,n):"in"===t?new wc(e,n):"not-in"===t?new bc(e,n):"array-contains-any"===t?new Ec(e,n):new ac(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new mc(e,n):new gc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Bu(t,this.value)):null!==t&&Uu(this.value)===Uu(t)&&this.matchesComparison(Bu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ll()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class lc extends sc{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new lc(e,t)}matches(e){return uc(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le((e=>e.isInequality()));return null!==e?e.field:null}le(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function uc(e){return"and"===e.op}function cc(e){return function(e){for(const t of e.filters)if(t instanceof lc)return!1;return!0}(e)&&uc(e)}function hc(e){if(e instanceof ac)return e.field.canonicalString()+e.op.toString()+$u(e.value);if(cc(e))return e.filters.map((e=>hc(e))).join(",");{const t=e.filters.map((e=>hc(e))).join(",");return`${e.op}(${t})`}}function dc(e,t){return e instanceof ac?function(e,t){return t instanceof ac&&e.op===t.op&&e.field.isEqual(t.field)&&Fu(e.value,t.value)}(e,t):e instanceof lc?function(e,t){return t instanceof lc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&dc(n,t.filters[r])),!0)}(e,t):void Ll()}function fc(e){return e instanceof ac?function(e){return`${e.field.canonicalString()} ${e.op} ${$u(e.value)}`}(e):e instanceof lc?function(e){return e.op.toString()+" {"+e.getFilters().map(fc).join(" ,")+"}"}(e):"Filter"}class pc extends ac{constructor(e,t,n){super(e,t,n),this.key=ou.fromName(n.referenceValue)}matches(e){const t=ou.comparator(e.key,this.key);return this.matchesComparison(t)}}class mc extends ac{constructor(e,t){super(e,"in",t),this.keys=vc(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class gc extends ac{constructor(e,t){super(e,"not-in",t),this.keys=vc(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function vc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ou.fromName(e.referenceValue)))}class yc extends ac{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qu(t)&&zu(t.arrayValue,this.value)}}class wc extends ac{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zu(this.value.arrayValue,t)}}class bc extends ac{constructor(e,t){super(e,"not-in",t)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!zu(this.value.arrayValue,t)}}class Ec extends ac{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qu(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>zu(this.value.arrayValue,e)))}}class _c{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.he=null}}function kc(e,t=null,n=[],r=[],i=null,o=null,s=null){return new _c(e,t,n,r,i,o,s)}function Sc(e){const t=jl(e);if(null===t.he){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>hc(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),mu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>$u(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>$u(e))).join(",")),t.he=e}return t.he}function Tc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!oc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!dc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rc(e.startAt,t.startAt)&&rc(e.endAt,t.endAt)}function Cc(e){return ou.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Ic{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Oc(e){return new Ic(e)}function Nc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function xc(e){const t=jl(e);if(null===t.Pe){t.Pe=[];const e=function(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}(t),n=function(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}(t);if(null!==e&&null===n)e.isKeyField()||t.Pe.push(new ic(e)),t.Pe.push(new ic(iu.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.Pe.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new ic(iu.keyField(),e))}}}return t.Pe}function Pc(e){const t=jl(e);return t.Ie||(t.Ie=function(e,t){if("F"===e.limitType)return kc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new ic(e.field,t)}));const n=e.endAt?new tc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new tc(e.startAt.position,e.startAt.inclusive):null;return kc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,xc(e))),t.Ie}function Ac(e,t,n){return new Ic(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Rc(e,t){return Tc(Pc(e),Pc(t))&&e.limitType===t.limitType}function Dc(e){return`${Sc(Pc(e))}|lt:${e.limitType}`}function Lc(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>fc(e))).join(", ")}]`),mu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>$u(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>$u(e))).join(",")),`Target(${t})`}(Pc(e))}; limitType=${e.limitType})`}function Mc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ou.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of xc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=nc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,xc(e),t)||e.endAt&&!function(e,t,n){const r=nc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,xc(e),t))}(e,t)}function jc(e){return(t,n)=>{let r=!1;for(const i of xc(e)){const e=Uc(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Uc(e,t,n){const r=e.field.isKeyField()?ou.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bu(r,i):Ll()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ll()}}class Fc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){yu(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return wu(this.inner)}size(){return this.innerSize}}const zc=new bu(ou.comparator);function Bc(){return zc}const Vc=new bu(ou.comparator);function $c(...e){let t=Vc;for(const n of e)t=t.insert(n.key,n);return t}function Wc(e){let t=Vc;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Hc(){return Kc()}function qc(){return Kc()}function Kc(){return new Fc((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Gc=new bu(ou.comparator),Qc=new ku(ou.comparator);function Yc(...e){let t=Qc;for(const n of e)t=t.add(n);return t}const Xc=new ku(Xl);function Jc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gu(t)?"-0":t}}function Zc(e){return{integerValue:""+e}}function eh(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!gu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?Zc(t):Jc(e,t)}class th{constructor(){this._=void 0}}function nh(e,t,n){return e instanceof oh?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Au(t)&&(t=Ru(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof sh?ah(e,t):e instanceof lh?uh(e,t):function(e,t){const n=ih(e,t),r=hh(n)+hh(e.Te);return Hu(n)&&Hu(e.Te)?Zc(r):Jc(e.serializer,r)}(e,t)}function rh(e,t,n){return e instanceof sh?ah(e,t):e instanceof lh?uh(e,t):n}function ih(e,t){return e instanceof ch?function(e){return Hu(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class oh extends th{}class sh extends th{constructor(e){super(),this.elements=e}}function ah(e,t){const n=dh(t);for(const t of e.elements)n.some((e=>Fu(e,t)))||n.push(t);return{arrayValue:{values:n}}}class lh extends th{constructor(e){super(),this.elements=e}}function uh(e,t){let n=dh(t);for(const t of e.elements)n=n.filter((e=>!Fu(e,t)));return{arrayValue:{values:n}}}class ch extends th{constructor(e,t){super(),this.serializer=e,this.Te=t}}function hh(e){return xu(e.integerValue||e.doubleValue)}function dh(e){return qu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class fh{constructor(e,t){this.field=e,this.transform=t}}class ph{constructor(e,t){this.version=e,this.transformResults=t}}class mh{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mh}static exists(e){return new mh(void 0,e)}static updateTime(e){return new mh(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class vh{}function yh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Oh(e.key,mh.none()):new kh(e.key,e.data,mh.none());{const n=e.data,r=Ju.empty();let i=new ku(iu.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Sh(e.key,r,new Tu(i.toArray()),mh.none())}}function wh(e,t,n){e instanceof kh?function(e,t,n){const r=e.value.clone(),i=Ch(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Sh?function(e,t,n){if(!gh(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ch(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Th(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function bh(e,t,n,r){return e instanceof kh?function(e,t,n,r){if(!gh(e.precondition,t))return n;const i=e.value.clone(),o=Ih(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Sh?function(e,t,n,r){if(!gh(e.precondition,t))return n;const i=Ih(e.fieldTransforms,r,t),o=t.data;return o.setAll(Th(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return gh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Eh(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ih(r.transform,e||null);null!=i&&(null===n&&(n=Ju.empty()),n.set(r.field,i))}return n||null}function _h(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Jl(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof sh&&t instanceof sh||e instanceof lh&&t instanceof lh?Jl(e.elements,t.elements,Fu):e instanceof ch&&t instanceof ch?Fu(e.Te,t.Te):e instanceof oh&&t instanceof oh}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class kh extends vh{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Sh extends vh{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Th(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ch(e,t,n){const r=new Map;Ml(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,rh(s,a,n[i]))}return r}function Ih(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,nh(e,o,t))}return r}class Oh extends vh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nh extends vh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xh{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&wh(r,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=bh(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=bh(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=qc();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=yh(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(eu.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Yc())}isEqual(e){return this.batchId===e.batchId&&Jl(this.mutations,e.mutations,((e,t)=>_h(e,t)))&&Jl(this.baseMutations,e.baseMutations,((e,t)=>_h(e,t)))}}class Ph{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ml(e.mutations.length===n.length);let r=Gc;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new Ph(e,t,n,r)}}class Ah{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Rh{constructor(e,t){this.count=e,this.unchangedNames=t}}var Dh,Lh;function Mh(e){if(void 0===e)return Al("GRPC error has no .code"),Ul.UNKNOWN;switch(e){case Dh.OK:return Ul.OK;case Dh.CANCELLED:return Ul.CANCELLED;case Dh.UNKNOWN:return Ul.UNKNOWN;case Dh.DEADLINE_EXCEEDED:return Ul.DEADLINE_EXCEEDED;case Dh.RESOURCE_EXHAUSTED:return Ul.RESOURCE_EXHAUSTED;case Dh.INTERNAL:return Ul.INTERNAL;case Dh.UNAVAILABLE:return Ul.UNAVAILABLE;case Dh.UNAUTHENTICATED:return Ul.UNAUTHENTICATED;case Dh.INVALID_ARGUMENT:return Ul.INVALID_ARGUMENT;case Dh.NOT_FOUND:return Ul.NOT_FOUND;case Dh.ALREADY_EXISTS:return Ul.ALREADY_EXISTS;case Dh.PERMISSION_DENIED:return Ul.PERMISSION_DENIED;case Dh.FAILED_PRECONDITION:return Ul.FAILED_PRECONDITION;case Dh.ABORTED:return Ul.ABORTED;case Dh.OUT_OF_RANGE:return Ul.OUT_OF_RANGE;case Dh.UNIMPLEMENTED:return Ul.UNIMPLEMENTED;case Dh.DATA_LOSS:return Ul.DATA_LOSS;default:return Ll()}}(Lh=Dh||(Dh={}))[Lh.OK=0]="OK",Lh[Lh.CANCELLED=1]="CANCELLED",Lh[Lh.UNKNOWN=2]="UNKNOWN",Lh[Lh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lh[Lh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lh[Lh.NOT_FOUND=5]="NOT_FOUND",Lh[Lh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lh[Lh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lh[Lh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lh[Lh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lh[Lh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lh[Lh.ABORTED=10]="ABORTED",Lh[Lh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lh[Lh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lh[Lh.INTERNAL=13]="INTERNAL",Lh[Lh.UNAVAILABLE=14]="UNAVAILABLE",Lh[Lh.DATA_LOSS=15]="DATA_LOSS";const jh=new Tl([4294967295,4294967295],0);function Uh(e){const t=(new TextEncoder).encode(e),n=new Sl;return n.update(t),new Uint8Array(n.digest())}function Fh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Tl([n,r],0),new Tl([i,o],0)]}class zh{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Bh(`Invalid padding: ${t}`);if(n<0)throw new Bh(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Bh(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Bh(`Invalid padding when bitmap length is 0: ${t}`);this.Ae=8*e.length-t,this.Re=Tl.fromNumber(this.Ae)}Ve(e,t,n){let r=e.add(t.multiply(Tl.fromNumber(n)));return 1===r.compare(jh)&&(r=new Tl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Re).toNumber()}me(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ae)return!1;const t=Uh(e),[n,r]=Fh(t);for(let e=0;e<this.hashCount;e++){const t=this.Ve(n,r,e);if(!this.me(t))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new zh(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ae)return;const t=Uh(e),[n,r]=Fh(t);for(let e=0;e<this.hashCount;e++){const t=this.Ve(n,r,e);this.fe(t)}}fe(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Bh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,$h.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Vh(eu.min(),r,new bu(Xl),Bc(),Yc())}}class $h{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new $h(n,t,Yc(),Yc(),Yc())}}class Wh{constructor(e,t,n,r){this.ge=e,this.removedTargetIds=t,this.key=n,this.pe=r}}class Hh{constructor(e,t){this.targetId=e,this.ye=t}}class qh{constructor(e,t,n=Iu.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Kh{constructor(){this.we=0,this.Se=Yh(),this.be=Iu.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return 0!==this.we}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=Yc(),t=Yc(),n=Yc();return this.Se.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ll()}})),new $h(this.be,this.De,e,t,n)}Oe(){this.Ce=!1,this.Se=Yh()}Ne(e,t){this.Ce=!0,this.Se=this.Se.insert(e,t)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class Gh{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=Bc(),this.Ue=Qh(),this.We=new bu(Xl)}Ge(e){for(const t of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(t,e.pe):this.je(t,e.key,e.pe);for(const t of e.removedTargetIds)this.je(t,e.key,e.pe)}He(e){this.forEachTarget(e,(t=>{const n=this.Je(t);switch(e.state){case 0:this.Ye(t)&&n.Me(e.resumeToken);break;case 1:n.ke(),n.ve||n.Oe(),n.Me(e.resumeToken);break;case 2:n.ke(),n.ve||this.removeTarget(t);break;case 3:this.Ye(t)&&(n.qe(),n.Me(e.resumeToken));break;case 4:this.Ye(t)&&(this.Ze(t),n.Me(e.resumeToken));break;default:Ll()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach(((e,n)=>{this.Ye(n)&&t(n)}))}Xe(e){const t=e.targetId,n=e.ye.count,r=this.et(t);if(r){const i=r.target;if(Cc(i))if(0===n){const e=new ou(i.path);this.je(t,e,ec.newNoDocument(e,eu.min()))}else Ml(1===n);else{const r=this.tt(t);if(r!==n){const n=this.nt(e),i=n?this.rt(n,e,r):1;if(0!==i){this.Ze(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(t,e)}}}}}nt(e){const t=e.ye.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Pu(n).toUint8Array()}catch(e){if(e instanceof Cu)return Rl("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new zh(o,r,i)}catch(e){return Rl(e instanceof Bh?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ae?null:s}rt(e,t,n){return t.ye.count===n-this.ot(e,t.targetId)?0:2}ot(e,t){const n=this.Qe.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Qe.st(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.je(t,n,null),r++)})),r}_t(e){const t=new Map;this.Ke.forEach(((n,r)=>{const i=this.et(r);if(i){if(n.current&&Cc(i.target)){const t=new ou(i.target.path);null!==this.$e.get(t)||this.ut(r,t)||this.je(r,t,ec.newNoDocument(t,e))}n.Fe&&(t.set(r,n.xe()),n.Oe())}}));let n=Yc();this.Ue.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.et(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.$e.forEach(((t,n)=>n.setReadTime(e)));const r=new Vh(e,t,this.We,this.$e,n);return this.$e=Bc(),this.Ue=Qh(),this.We=new bu(Xl),r}ze(e,t){if(!this.Ye(e))return;const n=this.ut(e,t.key)?2:0;this.Je(e).Ne(t.key,n),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}je(e,t,n){if(!this.Ye(e))return;const r=this.Je(e);this.ut(e,t)?r.Ne(t,1):r.Be(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),n&&(this.$e=this.$e.insert(t,n))}removeTarget(e){this.Ke.delete(e)}tt(e){const t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let t=this.Ke.get(e);return t||(t=new Kh,this.Ke.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new ku(Xl),this.Ue=this.Ue.insert(e,t)),t}Ye(e){const t=null!==this.et(e);return t||Pl("WatchChangeAggregator","Detected inactive target",e),t}et(e){const t=this.Ke.get(e);return t&&t.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new Kh),this.Qe.getRemoteKeysForTarget(e).forEach((t=>{this.je(e,t,null)}))}ut(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}function Qh(){return new bu(ou.comparator)}function Yh(){return new bu(ou.comparator)}const Xh={asc:"ASCENDING",desc:"DESCENDING"},Jh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zh={and:"AND",or:"OR"};class ed{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function td(e,t){return e.useProto3Json||mu(t)?t:{value:t}}function nd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function rd(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function id(e,t){return nd(e,t.toTimestamp())}function od(e){return Ml(!!e),eu.fromTimestamp(function(e){const t=Nu(e);return new Zl(t.seconds,t.nanos)}(e))}function sd(e,t){return function(e){return new nu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ad(e){const t=nu.fromString(e);return Ml(Td(t)),t}function ld(e,t){return sd(e.databaseId,t.path)}function ud(e,t){const n=ad(t);if(n.get(1)!==e.databaseId.projectId)throw new Fl(Ul.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Fl(Ul.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ou(dd(n))}function cd(e,t){return sd(e.databaseId,t)}function hd(e){return new nu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function dd(e){return Ml(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function fd(e,t,n){return{name:ld(e,t),fields:n.value.mapValue.fields}}function pd(e,t){return{documents:[cd(e,t.path)]}}function md(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=cd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=cd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return kd(lc.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Ed(e.field),direction:yd(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=td(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function gd(e){let t=function(e){const t=ad(e);return 4===t.length?nu.emptyPath():dd(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ml(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=vd(e);return t instanceof lc&&cc(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new ic(_d(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,mu(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new tc(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new tc(n,t)}(n.endAt)),function(e,t,n,r,i,o,s,a){return new Ic(e,t,n,r,i,o,s,a)}(t,i,s,o,a,"F",l,u)}function vd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=_d(e.unaryFilter.field);return ac.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=_d(e.unaryFilter.field);return ac.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=_d(e.unaryFilter.field);return ac.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=_d(e.unaryFilter.field);return ac.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ll()}}(e):void 0!==e.fieldFilter?function(e){return ac.create(_d(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ll()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return lc.create(e.compositeFilter.filters.map((e=>vd(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ll()}}(e.compositeFilter.op))}(e):Ll()}function yd(e){return Xh[e]}function wd(e){return Jh[e]}function bd(e){return Zh[e]}function Ed(e){return{fieldPath:e.canonicalString()}}function _d(e){return iu.fromServerFormat(e.fieldPath)}function kd(e){return e instanceof ac?function(e){if("=="===e.op){if(Gu(e.value))return{unaryFilter:{field:Ed(e.field),op:"IS_NAN"}};if(Ku(e.value))return{unaryFilter:{field:Ed(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Gu(e.value))return{unaryFilter:{field:Ed(e.field),op:"IS_NOT_NAN"}};if(Ku(e.value))return{unaryFilter:{field:Ed(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ed(e.field),op:wd(e.op),value:e.value}}}(e):e instanceof lc?function(e){const t=e.getFilters().map((e=>kd(e)));return 1===t.length?t[0]:{compositeFilter:{op:bd(e.op),filters:t}}}(e):Ll()}function Sd(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Td(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Cd{constructor(e,t,n,r,i=eu.min(),o=eu.min(),s=Iu.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Cd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Id{constructor(e){this.ht=e}}function Od(e){const t=gd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ac(t,t.limit,"L"):t}class Nd{constructor(){}dt(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(xu(e.integerValue));else if("doubleValue"in e){const n=xu(e.doubleValue);isNaN(n)?this.At(t,13):(this.At(t,15),gu(n)?t.Rt(0):t.Rt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.At(t,20),"string"==typeof n?t.Vt(n):(t.Vt(`${n.seconds||""}`),t.Rt(n.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt(Pu(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.At(t,45),t.Rt(n.latitude||0),t.Rt(n.longitude||0)}else"mapValue"in e?Xu(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):Ll()}ft(e,t){this.At(t,25),this.Dt(e,t)}Dt(e,t){t.Vt(e)}St(e,t){const n=e.fields||{};this.At(t,55);for(const e of Object.keys(n))this.ft(e,t),this.Tt(n[e],t)}bt(e,t){const n=e.values||[];this.At(t,50);for(const e of n)this.Tt(e,t)}wt(e,t){this.At(t,37),ou.fromName(e).path.forEach((e=>{this.At(t,60),this.Dt(e,t)}))}At(e,t){e.Rt(t)}gt(e){e.Rt(2)}}Nd.Ct=new Nd;class xd{constructor(){this.an=new Pd}addToCollectionParentIndex(e,t){return this.an.add(t),du.resolve()}getCollectionParents(e,t){return du.resolve(this.an.getEntries(t))}addFieldIndex(e,t){return du.resolve()}deleteFieldIndex(e,t){return du.resolve()}deleteAllFieldIndexes(e){return du.resolve()}createTargetIndexes(e,t){return du.resolve()}getDocumentsMatchingTarget(e,t){return du.resolve(null)}getIndexType(e,t){return du.resolve(0)}getFieldIndexes(e,t){return du.resolve([])}getNextCollectionGroupToUpdate(e){return du.resolve(null)}getMinOffset(e,t){return du.resolve(au.min())}getMinOffsetFromCollectionGroup(e,t){return du.resolve(au.min())}updateCollectionGroup(e,t,n){return du.resolve()}updateIndexEntries(e,t){return du.resolve()}}class Pd{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ku(nu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ku(nu.comparator)).toArray()}}new Uint8Array(0);class Ad{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ad(e,Ad.DEFAULT_COLLECTION_PERCENTILE,Ad.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ad.DEFAULT_COLLECTION_PERCENTILE=10,Ad.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ad.DEFAULT=new Ad(41943040,Ad.DEFAULT_COLLECTION_PERCENTILE,Ad.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ad.DISABLED=new Ad(-1,0,0);class Rd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new Rd(0)}static Ln(){return new Rd(-1)}}class Dd{constructor(){this.changes=new Fc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ec.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?du.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ld{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Md{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&bh(n.mutation,e,Tu.empty(),Zl.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Yc()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Yc()){const r=Hc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=$c();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Hc();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Yc())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Bc();const o=Kc(),s=Kc();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Sh)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),bh(s.mutation,t,s.mutation.getFieldMask(),Zl.now())):o.set(t.key,Tu.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Ld(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Kc();let r=new bu(((e,t)=>e-t)),i=Yc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Tu.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Yc()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,u=qc();l.forEach((e=>{if(!i.has(e)){const r=yh(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,u))}return du.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ou.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):function(e){return null!==e.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):du.resolve(Hc());let s=-1,a=i;return o.next((t=>du.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?du.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Yc()))).next((e=>({batchId:s,changes:Wc(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ou(t)).next((e=>{let t=$c();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=$c();return this.indexManager.getCollectionParents(e,i).next((s=>du.forEach(s,(s=>{const a=function(e,t){return new Ic(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,ec.newInvalidDocument(r)))}));let n=$c();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&bh(o.mutation,r,Tu.empty(),Zl.now()),Mc(t,r)&&(n=n.insert(e,r))})),n}))}}class jd{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,t){return du.resolve(this.lr.get(t))}saveBundleMetadata(e,t){return this.lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:od(e.createTime)}}(t)),du.resolve()}getNamedQuery(e,t){return du.resolve(this.hr.get(t))}saveNamedQuery(e,t){return this.hr.set(t.name,function(e){return{name:e.name,query:Od(e.bundledQuery),readTime:od(e.readTime)}}(t)),du.resolve()}}class Ud{constructor(){this.overlays=new bu(ou.comparator),this.Pr=new Map}getOverlay(e,t){return du.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Hc();return du.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.It(e,t,r)})),du.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Pr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Pr.delete(n)),du.resolve()}getOverlaysForCollection(e,t,n){const r=Hc(),i=t.length+1,o=new ou(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return du.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new bu(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Hc(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Hc(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return du.resolve(s)}It(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Pr.get(r.largestBatchId).delete(n.key);this.Pr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ah(t,n));let i=this.Pr.get(t);void 0===i&&(i=Yc(),this.Pr.set(t,i)),this.Pr.set(t,i.add(n.key))}}class Fd{constructor(){this.Ir=new ku(zd.dr),this.Tr=new ku(zd.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,t){const n=new zd(e,t);this.Ir=this.Ir.add(n),this.Tr=this.Tr.add(n)}Ar(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Rr(new zd(e,t))}Vr(e,t){e.forEach((e=>this.removeReference(e,t)))}mr(e){const t=new ou(new nu([])),n=new zd(t,e),r=new zd(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Rr(e),i.push(e.key)})),i}gr(){this.Ir.forEach((e=>this.Rr(e)))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const t=new ou(new nu([])),n=new zd(t,e),r=new zd(t,e+1);let i=Yc();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new zd(e,0),n=this.Ir.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class zd{constructor(e,t){this.key=e,this.yr=t}static dr(e,t){return ou.comparator(e.key,t.key)||Xl(e.yr,t.yr)}static Er(e,t){return Xl(e.yr,t.yr)||ou.comparator(e.key,t.key)}}class Bd{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.wr=1,this.Sr=new ku(zd.dr)}checkEmpty(e){return du.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new xh(i,t,n,r);this.mutationQueue.push(o);for(const t of r)this.Sr=this.Sr.add(new zd(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return du.resolve(o)}lookupMutationBatch(e,t){return du.resolve(this.br(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Dr(n),i=r<0?0:r;return du.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return du.resolve(0===this.mutationQueue.length?-1:this.wr-1)}getAllMutationBatches(e){return du.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new zd(t,0),r=new zd(t,Number.POSITIVE_INFINITY),i=[];return this.Sr.forEachInRange([n,r],(e=>{const t=this.br(e.yr);i.push(t)})),du.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ku(Xl);return t.forEach((e=>{const t=new zd(e,0),r=new zd(e,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([t,r],(e=>{n=n.add(e.yr)}))})),du.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ou.isDocumentKey(i)||(i=i.child(""));const o=new zd(new ou(i),0);let s=new ku(Xl);return this.Sr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.yr)),!0)}),o),du.resolve(this.Cr(s))}Cr(e){const t=[];return e.forEach((e=>{const n=this.br(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Ml(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Sr;return du.forEach(t.mutations,(r=>{const i=new zd(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Sr=n}))}xn(e){}containsKey(e,t){const n=new zd(t,0),r=this.Sr.firstAfterOrEqual(n);return du.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,du.resolve()}vr(e,t){return this.Dr(e)}Dr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}br(e){const t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Vd{constructor(e){this.Fr=e,this.docs=new bu(ou.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Fr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return du.resolve(n?n.document.mutableCopy():ec.newInvalidDocument(t))}getEntries(e,t){let n=Bc();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():ec.newInvalidDocument(e))})),du.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Bc();const o=t.path,s=new ou(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||lu(su(s),n)<=0||(r.has(s.key)||Mc(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return du.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ll()}Mr(e,t){return du.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new $d(this)}getSize(e){return du.resolve(this.size)}}class $d extends Dd{constructor(e){super(),this.ur=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ur.addEntry(e,r)):this.ur.removeEntry(n)})),du.waitFor(t)}getFromCache(e,t){return this.ur.getEntry(e,t)}getAllFromCache(e,t){return this.ur.getEntries(e,t)}}class Wd{constructor(e){this.persistence=e,this.Or=new Fc((e=>Sc(e)),Tc),this.lastRemoteSnapshotVersion=eu.min(),this.highestTargetId=0,this.Nr=0,this.Br=new Fd,this.targetCount=0,this.Lr=Rd.Bn()}forEachTarget(e,t){return this.Or.forEach(((e,n)=>t(n))),du.resolve()}getLastRemoteSnapshotVersion(e){return du.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return du.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),du.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Nr&&(this.Nr=t),du.resolve()}Qn(e){this.Or.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Rd(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,t){return this.Qn(t),this.targetCount+=1,du.resolve()}updateTargetData(e,t){return this.Qn(t),du.resolve()}removeTargetData(e,t){return this.Or.delete(t.target),this.Br.mr(t.targetId),this.targetCount-=1,du.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Or.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Or.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),du.waitFor(i).next((()=>r))}getTargetCount(e){return du.resolve(this.targetCount)}getTargetData(e,t){const n=this.Or.get(t)||null;return du.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Ar(t,n),du.resolve()}removeMatchingKeys(e,t,n){this.Br.Vr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),du.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.mr(t),du.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.pr(t);return du.resolve(n)}containsKey(e,t){return du.resolve(this.Br.containsKey(t))}}class Hd{constructor(e,t){this.kr={},this.overlays={},this.qr=new pu(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new Wd(this),this.indexManager=new xd,this.remoteDocumentCache=function(e){return new Vd(e)}((e=>this.referenceDelegate.$r(e))),this.serializer=new Id(t),this.Ur=new jd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ud,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.kr[e.toKey()];return n||(n=new Bd(t,this.referenceDelegate),this.kr[e.toKey()]=n),n}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,t,n){Pl("MemoryPersistence","Starting transaction:",e);const r=new qd(this.qr.next());return this.referenceDelegate.Wr(),n(r).next((e=>this.referenceDelegate.Gr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}zr(e,t){return du.or(Object.values(this.kr).map((n=>()=>n.containsKey(e,t))))}}class qd extends cu{constructor(e){super(),this.currentSequenceNumber=e}}class Kd{constructor(e){this.persistence=e,this.jr=new Fd,this.Hr=null}static Jr(e){return new Kd(e)}get Yr(){if(this.Hr)return this.Hr;throw Ll()}addReference(e,t,n){return this.jr.addReference(n,t),this.Yr.delete(n.toString()),du.resolve()}removeReference(e,t,n){return this.jr.removeReference(n,t),this.Yr.add(n.toString()),du.resolve()}markPotentiallyOrphaned(e,t){return this.Yr.add(t.toString()),du.resolve()}removeTarget(e,t){this.jr.mr(t.targetId).forEach((e=>this.Yr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Yr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Wr(){this.Hr=new Set}Gr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return du.forEach(this.Yr,(n=>{const r=ou.fromPath(n);return this.Zr(e,r).next((e=>{e||t.removeEntry(r,eu.min())}))})).next((()=>(this.Hr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Zr(e,t).next((e=>{e?this.Yr.delete(t.toString()):this.Yr.add(t.toString())}))}$r(e){return 0}Zr(e,t){return du.or([()=>du.resolve(this.jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zr(e,t)])}}class Gd{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Qi=n,this.Ki=r}static $i(e,t){let n=Yc(),r=Yc();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new Gd(e,t.fromCache,n,r)}}class Qd{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Yd{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=2}initialize(e,t){this.ji=e,this.indexManager=t,this.Ui=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Hi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Qd;return this.Yi(e,t,n).next((r=>{if(i.result=r,this.Wi)return this.Zi(e,t,n,r.size)}))})).next((()=>i.result))}Zi(e,t,n,r){return n.documentReadCount<this.Gi?(xl()<=Ee.DEBUG&&Pl("QueryEngine","SDK will not create cache indexes for query:",Lc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),du.resolve()):(xl()<=Ee.DEBUG&&Pl("QueryEngine","Query:",Lc(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.zi*r?(xl()<=Ee.DEBUG&&Pl("QueryEngine","The SDK decides to create cache indexes for query:",Lc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pc(t))):du.resolve())}Hi(e,t){if(Nc(t))return du.resolve(null);let n=Pc(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Ac(t,null,"F"),n=Pc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Yc(...r);return this.ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Xi(t,r);return this.es(t,o,i,n.readTime)?this.Hi(e,Ac(t,null,"F")):this.ts(e,o,t,n)}))))})))))}Ji(e,t,n,r){return Nc(t)||r.isEqual(eu.min())?du.resolve(null):this.ji.getDocuments(e,n).next((i=>{const o=this.Xi(t,i);return this.es(t,o,n,r)?du.resolve(null):(xl()<=Ee.DEBUG&&Pl("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Lc(t)),this.ts(e,o,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=eu.fromTimestamp(1e9===r?new Zl(n+1,0):new Zl(n,r));return new au(i,ou.empty(),t)}(r,-1)).next((e=>e)))}))}Xi(e,t){let n=new ku(jc(e));return t.forEach(((t,r)=>{Mc(e,r)&&(n=n.add(r))})),n}es(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Yi(e,t,n){return xl()<=Ee.DEBUG&&Pl("QueryEngine","Using full collection scan to execute query:",Lc(t)),this.ji.getDocumentsMatchingQuery(e,t,au.min(),n)}ts(e,t,n,r){return this.ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Xd{constructor(e,t,n,r){this.persistence=e,this.ns=t,this.serializer=r,this.rs=new bu(Xl),this.ss=new Fc((e=>Sc(e)),Tc),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(n)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Md(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.rs)))}}async function Jd(e,t){const n=jl(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.us(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=Yc();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({cs:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Zd(e){const t=jl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Kr.getLastRemoteSnapshotVersion(e)))}function ef(e,t){const n=jl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}async function tf(e,t,n){const r=jl(e),i=r.rs.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!fu(e))throw e;Pl("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.rs=r.rs.remove(t),r.ss.delete(i.target)}function nf(e,t,n){const r=jl(e);let i=eu.min(),o=Yc();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=jl(e),i=r.ss.get(n);return void 0!==i?du.resolve(r.rs.get(i)):r.Kr.getTargetData(t,n)}(r,e,Pc(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ns.getDocumentsMatchingQuery(e,t,n?i:eu.min(),n?o:Yc()))).next((e=>(function(e,t,n){let r=e.os.get(t)||eu.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.os.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,Ps:o})))))}class rf{constructor(){this.activeTargetIds=Xc}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class of{constructor(){this.ro=new rf,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,t,n){this.io[e]=t}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new rf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sf{so(e){}shutdown(){}}class af{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){Pl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){Pl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lf=null;function uf(){return null===lf?lf=268435456+Math.round(2147483648*Math.random()):lf++,"0x"+lf.toString(16)}const cf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hf{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}const df="WebChannelConnection";class ff extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get So(){return!1}bo(e,t,n,r,i){const o=uf(),s=this.Do(e,t);Pl("RestConnection",`Sending RPC '${e}' ${o}:`,s,n);const a={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(a,r,i),this.vo(e,s,a,n).then((t=>(Pl("RestConnection",`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw Rl("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",s,"request:",n),t}))}Fo(e,t,n,r,i,o){return this.bo(e,t,n,r,i)}Co(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ol,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Do(e,t){const n=cf[e];return`${this.po}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=uf();return new Promise(((o,s)=>{const a=new kl;a.setWithCredentials(!0),a.listenOnce(wl.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case yl.NO_ERROR:const t=a.getResponseJson();Pl(df,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case yl.TIMEOUT:Pl(df,`RPC '${e}' ${i} timed out`),s(new Fl(Ul.DEADLINE_EXCEEDED,"Request time out"));break;case yl.HTTP_ERROR:const n=a.getStatus();if(Pl(df,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ul).indexOf(t)>=0?t:Ul.UNKNOWN}(t.status);s(new Fl(e,t.message))}else s(new Fl(Ul.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Fl(Ul.UNAVAILABLE,"Connection failed."));break;default:Ll()}}finally{Pl(df,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Pl(df,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Mo(e,t,n){const r=uf(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=gl(),s=vl(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Co(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");Pl(df,`Creating RPC '${e}' stream ${r}: ${u}`,a);const c=o.createWebChannel(u,a);let h=!1,d=!1;const f=new hf({ho:t=>{d?Pl(df,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(Pl(df,`Opening RPC '${e}' stream ${r} transport.`),c.open(),h=!0),Pl(df,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},Po:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,_l.EventType.OPEN,(()=>{d||Pl(df,`RPC '${e}' stream ${r} transport opened.`)})),p(c,_l.EventType.CLOSE,(()=>{d||(d=!0,Pl(df,`RPC '${e}' stream ${r} transport closed`),f.mo())})),p(c,_l.EventType.ERROR,(t=>{d||(d=!0,Rl(df,`RPC '${e}' stream ${r} transport errored:`,t),f.mo(new Fl(Ul.UNAVAILABLE,"The operation could not be completed")))})),p(c,_l.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Ml(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Pl(df,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=Dh[e];if(void 0!==t)return Mh(t)}(t),i=s.message;void 0===n&&(n=Ul.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.mo(new Fl(n,i)),c.close()}else Pl(df,`RPC '${e}' stream ${r} received:`,i),f.fo(i)}})),p(s,bl.STAT_EVENT,(t=>{t.stat===El.PROXY?Pl(df,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===El.NOPROXY&&Pl(df,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.Vo()}),0),f}}function pf(){return"undefined"!=typeof document?document:null}function mf(e){return new ed(e,!0)}class gf{constructor(e,t,n=1e3,r=1.5,i=6e4){this._i=e,this.timerId=t,this.xo=n,this.Oo=r,this.No=i,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const t=Math.floor(this.Bo+this.Ko()),n=Math.max(0,Date.now()-this.ko),r=Math.max(0,t-n);r>0&&Pl("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Bo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,r,(()=>(this.ko=Date.now(),e()))),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}class vf{constructor(e,t,n,r,i,o,s,a){this._i=e,this.Uo=n,this.Wo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new gf(e,t)}Jo(){return 1===this.state||5===this.state||this.Yo()}Yo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&null===this.zo&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,(()=>this.t_())))}n_(e){this.r_(),this.stream.send(e)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(e,t){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,4!==e?this.Ho.reset():t&&t.code===Ul.RESOURCE_EXHAUSTED?(Al(t.toString()),Al("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):t&&t.code===Ul.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.s_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(t)}s_(){}auth(){this.state=1;const e=this.o_(this.Go),t=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Go===t&&this.__(e,n)}),(t=>{e((()=>{const e=new Fl(Ul.UNKNOWN,"Fetching auth token failed: "+t.message);return this.a_(e)}))}))}__(e,t){const n=this.o_(this.Go);this.stream=this.u_(e,t),this.stream.Io((()=>{n((()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,(()=>(this.Yo()&&(this.state=3),Promise.resolve()))),this.listener.Io())))})),this.stream.Eo((e=>{n((()=>this.a_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Zo(){this.state=5,this.Ho.Qo((async()=>{this.state=0,this.start()}))}a_(e){return Pl("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return t=>{this._i.enqueueAndForget((()=>this.Go===e?t():(Pl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yf extends vf{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}u_(e,t){return this.connection.Mo("Listen",e,t)}onMessage(e){this.Ho.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ll()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Ml(void 0===t||"string"==typeof t),Iu.fromBase64String(t||"")):(Ml(void 0===t||t instanceof Uint8Array),Iu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Ul.UNKNOWN:Mh(e.code);return new Fl(t,e.message||"")}(s);n=new qh(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=ud(e,r.document.name),o=od(r.document.updateTime),s=r.document.createTime?od(r.document.createTime):eu.min(),a=new Ju({mapValue:{fields:r.document.fields}}),l=ec.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Wh(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=ud(e,r.document),o=r.readTime?od(r.readTime):eu.min(),s=ec.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Wh([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=ud(e,r.document),o=r.removedTargetIds||[];n=new Wh([],o,i,null)}else{if(!("filter"in t))return Ll();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Rh(r,i),s=e.targetId;n=new Hh(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return eu.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?eu.min():t.readTime?od(t.readTime):eu.min()}(e);return this.listener.c_(t,n)}l_(e){const t={};t.database=hd(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Cc(r)?{documents:pd(e,r)}:{query:md(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=rd(e,t.resumeToken);const r=td(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(eu.min())>0){n.readTime=nd(e,t.snapshotVersion.toTimestamp());const r=td(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ll()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.n_(t)}h_(e){const t={};t.database=hd(this.serializer),t.removeTarget=e,this.n_(t)}}class wf extends vf{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,t){return this.connection.Mo("Write",e,t)}onMessage(e){if(Ml(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const t=function(e,t){return e&&e.length>0?(Ml(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?od(e.updateTime):od(t);return n.isEqual(eu.min())&&(n=od(t)),new ph(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=od(e.commitTime);return this.listener.T_(n,t)}return Ml(!e.writeResults||0===e.writeResults.length),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=hd(this.serializer),this.n_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof kh)n={update:fd(e,t.key,t.value)};else if(t instanceof Oh)n={delete:ld(e,t.key)};else if(t instanceof Sh)n={update:fd(e,t.key,t.data),updateMask:Sd(t.fieldMask)};else{if(!(t instanceof Nh))return Ll();n={verify:ld(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof oh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof sh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof lh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ch)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw Ll()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:id(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ll()}(e,t.precondition)),n}(this.serializer,e)))};this.n_(t)}}class bf extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.R_=!1}V_(){if(this.R_)throw new Fl(Ul.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,n){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.connection.bo(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ul.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Fl(Ul.UNKNOWN,e.toString())}))}Fo(e,t,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Fo(e,t,n,i,o,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ul.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Fl(Ul.UNKNOWN,e.toString())}))}terminate(){this.R_=!0}}class Ef{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){0===this.f_&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve()))))}b_(e){"Online"===this.state?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,"Online"===e&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(Al(t),this.p_=!1):Pl("OnlineStateTracker",t)}D_(){null!==this.g_&&(this.g_.cancel(),this.g_=null)}}class _f{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=i,this.x_.so((e=>{n.enqueueAndForget((async()=>{Pf(this)&&(Pl("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=jl(e);t.F_.add(4),await Sf(t),t.O_.set("Unknown"),t.F_.delete(4),await kf(t)}(this))}))})),this.O_=new Ef(n,r)}}async function kf(e){if(Pf(e))for(const t of e.M_)await t(!0)}async function Sf(e){for(const t of e.M_)await t(!1)}function Tf(e,t){const n=jl(e);n.v_.has(t.targetId)||(n.v_.set(t.targetId,t),xf(n)?Nf(n):Gf(n).Yo()&&If(n,t))}function Cf(e,t){const n=jl(e),r=Gf(n);n.v_.delete(t),r.Yo()&&Of(n,t),0===n.v_.size&&(r.Yo()?r.e_():Pf(n)&&n.O_.set("Unknown"))}function If(e,t){if(e.N_.Le(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(eu.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Gf(e).l_(t)}function Of(e,t){e.N_.Le(t),Gf(e).h_(t)}function Nf(e){e.N_=new Gh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.v_.get(t)||null,st:()=>e.datastore.serializer.databaseId}),Gf(e).start(),e.O_.y_()}function xf(e){return Pf(e)&&!Gf(e).Jo()&&e.v_.size>0}function Pf(e){return 0===jl(e).F_.size}function Af(e){e.N_=void 0}async function Rf(e){e.v_.forEach(((t,n)=>{If(e,t)}))}async function Df(e,t){Af(e),xf(e)?(e.O_.b_(t),Nf(e)):e.O_.set("Unknown")}async function Lf(e,t,n){if(e.O_.set("Online"),t instanceof qh&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.v_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.v_.delete(r),e.N_.removeTarget(r))}(e,t)}catch(n){Pl("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Mf(e,n)}else if(t instanceof Wh?e.N_.Ge(t):t instanceof Hh?e.N_.Xe(t):e.N_.He(t),!n.isEqual(eu.min()))try{const t=await Zd(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.N_._t(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.v_.get(r);i&&e.v_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.v_.get(t);if(!r)return;e.v_.set(t,r.withResumeToken(Iu.EMPTY_BYTE_STRING,r.snapshotVersion)),Of(e,t);const i=new Cd(r.target,t,n,r.sequenceNumber);If(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Pl("RemoteStore","Failed to raise snapshot:",t),await Mf(e,t)}}async function Mf(e,t,n){if(!fu(t))throw t;e.F_.add(1),await Sf(e),e.O_.set("Offline"),n||(n=()=>Zd(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Pl("RemoteStore","Retrying IndexedDB access"),await n(),e.F_.delete(1),await kf(e)}))}function jf(e,t){return t().catch((n=>Mf(e,n,t)))}async function Uf(e){const t=jl(e),n=Qf(t);let r=t.C_.length>0?t.C_[t.C_.length-1].batchId:-1;for(;Ff(t);)try{const e=await ef(t.localStore,r);if(null===e){0===t.C_.length&&n.e_();break}r=e.batchId,zf(t,e)}catch(e){await Mf(t,e)}Bf(t)&&Vf(t)}function Ff(e){return Pf(e)&&e.C_.length<10}function zf(e,t){e.C_.push(t);const n=Qf(e);n.Yo()&&n.I_&&n.d_(t.mutations)}function Bf(e){return Pf(e)&&!Qf(e).Jo()&&e.C_.length>0}function Vf(e){Qf(e).start()}async function $f(e){Qf(e).A_()}async function Wf(e){const t=Qf(e);for(const n of e.C_)t.d_(n.mutations)}async function Hf(e,t,n){const r=e.C_.shift(),i=Ph.from(r,t,n);await jf(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Uf(e)}async function qf(e,t){t&&Qf(e).I_&&await async function(e,t){if(function(e){return function(e){switch(e){default:return Ll();case Ul.CANCELLED:case Ul.UNKNOWN:case Ul.DEADLINE_EXCEEDED:case Ul.RESOURCE_EXHAUSTED:case Ul.INTERNAL:case Ul.UNAVAILABLE:case Ul.UNAUTHENTICATED:return!1;case Ul.INVALID_ARGUMENT:case Ul.NOT_FOUND:case Ul.ALREADY_EXISTS:case Ul.PERMISSION_DENIED:case Ul.FAILED_PRECONDITION:case Ul.ABORTED:case Ul.OUT_OF_RANGE:case Ul.UNIMPLEMENTED:case Ul.DATA_LOSS:return!0}}(e)&&e!==Ul.ABORTED}(t.code)){const n=e.C_.shift();Qf(e).Xo(),await jf(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Uf(e)}}(e,t),Bf(e)&&Vf(e)}async function Kf(e,t){const n=jl(e);n.asyncQueue.verifyOperationInProgress(),Pl("RemoteStore","RemoteStore received new credentials");const r=Pf(n);n.F_.add(3),await Sf(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.F_.delete(3),await kf(n)}function Gf(e){return e.B_||(e.B_=function(e,t,n){const r=jl(e);return r.V_(),new yf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Io:Rf.bind(null,e),Eo:Df.bind(null,e),c_:Lf.bind(null,e)}),e.M_.push((async t=>{t?(e.B_.Xo(),xf(e)?Nf(e):e.O_.set("Unknown")):(await e.B_.stop(),Af(e))}))),e.B_}function Qf(e){return e.L_||(e.L_=function(e,t,n){const r=jl(e);return r.V_(),new wf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Io:$f.bind(null,e),Eo:qf.bind(null,e),E_:Wf.bind(null,e),T_:Hf.bind(null,e)}),e.M_.push((async t=>{t?(e.L_.Xo(),await Uf(e)):(await e.L_.stop(),e.C_.length>0&&(Pl("RemoteStore",`Stopping write stream with ${e.C_.length} pending writes`),e.C_=[]))}))),e.L_}class Yf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new zl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Yf(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fl(Ul.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xf(e,t){if(Al("AsyncQueue",`${t}: ${e}`),fu(e))return new Fl(Ul.UNAVAILABLE,`${t}: ${e}`);throw e}class Jf{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ou.comparator(t.key,n.key):(e,t)=>ou.comparator(e.key,t.key),this.keyedMap=$c(),this.sortedSet=new bu(this.comparator)}static emptySet(e){return new Jf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Jf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Zf{constructor(){this.k_=new bu(ou.comparator)}track(e){const t=e.doc.key,n=this.k_.get(t);n?0!==e.type&&3===n.type?this.k_=this.k_.insert(t,e):3===e.type&&1!==n.type?this.k_=this.k_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.k_=this.k_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.k_=this.k_.remove(t):1===e.type&&2===n.type?this.k_=this.k_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):Ll():this.k_=this.k_.insert(t,e)}q_(){const e=[];return this.k_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class ep{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new ep(e,t,Jf.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class tp{constructor(){this.Q_=void 0,this.listeners=[]}}class np{constructor(){this.queries=new Fc((e=>Dc(e)),Rc),this.onlineState="Unknown",this.K_=new Set}}async function rp(e,t){const n=jl(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new tp),i)try{o.Q_=await n.onListen(r)}catch(e){const n=Xf(e,`Initialization of query '${Lc(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.U_(n.onlineState),o.Q_&&t.W_(o.Q_)&&ap(n)}async function ip(e,t){const n=jl(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function op(e,t){const n=jl(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.W_(e)&&(r=!0);i.Q_=e}}r&&ap(n)}function sp(e,t,n){const r=jl(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function ap(e){e.K_.forEach((e=>{e.next()}))}class lp{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ep(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=ep.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class up{constructor(e){this.key=e}}class cp{constructor(e){this.key=e}}class hp{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Yc(),this.mutatedKeys=Yc(),this.ua=jc(e),this.ca=new Jf(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new Zf,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=Mc(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.Ia(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.ua(c,a)>0||l&&this.ua(c,l)<0)&&(s=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(s=!0)),f&&(c?(o=o.add(c),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:o,Pa:n,es:s,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const i=e.Pa.q_();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ll()}};return n(e)-n(t)}(e.type,t.type)||this.ua(e.doc,t.doc))),this.da(n);const o=t?this.Ta():[],s=0===this.aa.size&&this.current?1:0,a=s!==this._a;return this._a=s,0!==i.length||a?{snapshot:new ep(this.query,e.ca,r,i,e.mutatedKeys,0===s,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Zf,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=Yc(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new cp(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new up(n))})),t}Ra(e){this.oa=e.Ps,this.aa=Yc();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return ep.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class dp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class fp{constructor(e){this.key=e,this.ma=!1}}class pp{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Fc((e=>Dc(e)),Rc),this.pa=new Map,this.ya=new Set,this.wa=new bu(ou.comparator),this.Sa=new Map,this.ba=new Fd,this.Da={},this.Ca=new Map,this.va=Rd.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function mp(e,t){const n=function(e){const t=jl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wp.bind(null,t),t.fa.c_=op.bind(null,t.eventManager),t.fa.xa=sp.bind(null,t.eventManager),t}(e);let r,i;const o=n.ga.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const e=await function(e,t){const n=jl(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Kr.getTargetData(e,t).next((i=>i?(r=i,du.resolve(r)):n.Kr.allocateTargetId(e).next((i=>(r=new Cd(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Kr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.rs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.rs=n.rs.insert(e.targetId,e),n.ss.set(t,e.targetId)),e}))}(n.localStore,Pc(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await async function(e,t,n,r,i){e.Ma=(t,n,r)=>async function(e,t,n,r){let i=t.view.ha(n);i.es&&(i=await nf(e.localStore,t.query,!1).then((({documents:e})=>t.view.ha(e,i))));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return Cp(e,t.targetId,s.Ea),s.snapshot}(e,t,n,r);const o=await nf(e.localStore,t,!0),s=new hp(t,o.Ps),a=s.ha(o.documents),l=$h.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=s.applyChanges(a,e.isPrimaryClient,l);Cp(e,n,u.Ea);const c=new dp(t,n,s);return e.ga.set(t,c),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),u.snapshot}(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&Tf(n.remoteStore,e)}return i}async function gp(e,t){const n=jl(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((e=>!Rc(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await tf(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Cf(n.remoteStore,r.targetId),Sp(n,r.targetId)})).catch(hu)):(Sp(n,r.targetId),await tf(n.localStore,r.targetId,!0))}async function vp(e,t){const n=jl(e);try{const e=await function(e,t){const n=jl(e),r=t.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Kr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Kr.addMatchingKeys(e,o.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(Iu.EMPTY_BYTE_STRING,eu.min()).withLastLimboFreeSnapshotVersion(eu.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,o)&&s.push(n.Kr.updateTargetData(e,u))}));let a=Bc(),l=Yc();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(function(e,t,n){let r=Yc(),i=Yc();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Bc();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(eu.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Pl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{ls:r,hs:i}}))}(e,o,t.documentUpdates).next((e=>{a=e.ls,l=e.hs}))),!r.isEqual(eu.min())){const t=n.Kr.getLastRemoteSnapshotVersion(e).next((t=>n.Kr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return du.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.rs=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Sa.get(t);r&&(Ml(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?Ml(r.ma):e.removedDocuments.size>0&&(Ml(r.ma),r.ma=!1))})),await Np(n,e,t)}catch(e){await hu(e)}}function yp(e,t,n){const r=jl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=jl(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.U_(t)&&(r=!0)})),r&&ap(n)}(r.eventManager,t),e.length&&r.fa.c_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function wp(e,t,n){const r=jl(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),o=i&&i.key;if(o){let e=new bu(ou.comparator);e=e.insert(o,ec.newNoDocument(o,eu.min()));const n=Yc().add(o),i=new Vh(eu.min(),new Map,new bu(Xl),e,n);await vp(r,i),r.wa=r.wa.remove(o),r.Sa.delete(t),Op(r)}else await tf(r.localStore,t,!1).then((()=>Sp(r,t,n))).catch(hu)}async function bp(e,t){const n=jl(e),r=t.batch.batchId;try{const e=await function(e,t){const n=jl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n._s.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=du.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Ml(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Yc();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);kp(n,r,null),_p(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Np(n,e)}catch(e){await hu(e)}}async function Ep(e,t,n){const r=jl(e);try{const e=await function(e,t){const n=jl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Ml(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);kp(r,t,n),_p(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Np(r,e)}catch(n){await hu(n)}}function _p(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function kp(e,t,n){const r=jl(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function Sp(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.mr(t).forEach((t=>{e.ba.containsKey(t)||Tp(e,t)}))}function Tp(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&(Cf(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),Op(e))}function Cp(e,t,n){for(const r of n)r instanceof up?(e.ba.addReference(r.key,t),Ip(e,r)):r instanceof cp?(Pl("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||Tp(e,r.key)):Ll()}function Ip(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(Pl("SyncEngine","New document in limbo: "+n),e.ya.add(r),Op(e))}function Op(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new ou(nu.fromString(t)),r=e.va.next();e.Sa.set(r,new fp(n)),e.wa=e.wa.insert(n,r),Tf(e.remoteStore,new Cd(Pc(Oc(n.path)),r,"TargetPurposeLimboResolution",pu.ae))}}async function Np(e,t,n){const r=jl(e),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach(((e,a)=>{s.push(r.Ma(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Gd.$i(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.fa.c_(i),await async function(e,t){const n=jl(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>du.forEach(t,(t=>du.forEach(t.Qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>du.forEach(t.Ki,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!fu(e))throw e;Pl("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.rs.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.rs=n.rs.insert(t,i)}}}(r.localStore,o))}async function xp(e,t){const n=jl(e);if(!n.currentUser.isEqual(t)){Pl("SyncEngine","User change. New user:",t.toKey());const e=await Jd(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new Fl(Ul.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ca.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Np(n,e.cs)}}function Pp(e,t){const n=jl(e),r=n.Sa.get(t);if(r&&r.ma)return Yc().add(r.key);{let e=Yc();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}function Ap(e){const t=jl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ep.bind(null,t),t}class Rp{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function(e,t,n,r){return new Xd(e,t,n,r)}(this.persistence,new Yd,e.initialUser,this.serializer)}createPersistence(e){return new Hd(Kd.Jr,this.serializer)}createSharedClientState(e){return new of}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Dp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>yp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=xp.bind(null,this.syncEngine),await async function(e,t){const n=jl(e);t?(n.F_.delete(2),await kf(n)):t||(n.F_.add(2),await Sf(n),n.O_.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new np}createDatastore(e){const t=mf(e.databaseInfo.databaseId),n=function(e){return new ff(e)}(e.databaseInfo);return function(e,t,n,r){return new bf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new _f(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>yp(this.syncEngine,e,0)),af.C()?new af:new sf)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new pp(e,t,n,r,i,o);return s&&(a.Fa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=jl(e);Pl("RemoteStore","RemoteStore shutting down."),t.F_.add(5),await Sf(t),t.x_.shutdown(),t.O_.set("Unknown")}(this.remoteStore)}}class Lp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Al("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Mp{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Il.UNAUTHENTICATED,this.clientId=Yl.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Pl("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Pl("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fl(Ul.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Xf(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function jp(e,t){e.asyncQueue.verifyOperationInProgress(),Pl("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Jd(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Up(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Pl("FirestoreClient","Using user provided OfflineComponentProvider");try{await jp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Ul.FAILED_PRECONDITION||e.code===Ul.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Rl("Error using user provided cache. Falling back to memory cache: "+n),await jp(e,new Rp)}}else Pl("FirestoreClient","Using default OfflineComponentProvider"),await jp(e,new Rp);return e._offlineComponents}(e);Pl("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>Kf(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Kf(t.remoteStore,n))),e._onlineComponents=t}async function Fp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Pl("FirestoreClient","Using user provided OnlineComponentProvider"),await Up(e,e._uninitializedComponentsProvider._online)):(Pl("FirestoreClient","Using default OnlineComponentProvider"),await Up(e,new Dp))),e._onlineComponents}async function zp(e){const t=await Fp(e),n=t.eventManager;return n.onListen=mp.bind(null,t.syncEngine),n.onUnlisten=gp.bind(null,t.syncEngine),n}function Bp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Vp=new Map;function $p(e,t,n){if(!n)throw new Fl(Ul.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Wp(e){if(!ou.isDocumentKey(e))throw new Fl(Ul.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Hp(e){if(ou.isDocumentKey(e))throw new Fl(Ul.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function qp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Ll()}function Kp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Fl(Ul.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qp(e);throw new Fl(Ul.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class Gp{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Fl(Ul.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fl(Ul.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Fl(Ul.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")})(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Fl(Ul.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Fl(Ul.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Fl(Ul.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qp{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fl(Ul.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fl(Ul.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Vl;switch(e.type){case"firstParty":return new ql(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Fl(Ul.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Vp.get(e);t&&(Pl("ComponentProvider","Removing Datastore"),Vp.delete(e),t.terminate())}(this),Promise.resolve()}}class Yp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Yp(this.firestore,e,this._query)}}class Xp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xp(this.firestore,e,this._key)}}class Jp extends Yp{constructor(e,t,n){super(e,t,Oc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xp(this.firestore,null,new ou(e))}withConverter(e){return new Jp(this.firestore,e,this._path)}}function Zp(e,t,...n){if(e=me(e),1===arguments.length&&(t=Yl.V()),$p("doc","path",t),e instanceof Qp){const r=nu.fromString(t,...n);return Wp(r),new Xp(e,null,new ou(r))}{if(!(e instanceof Xp||e instanceof Jp))throw new Fl(Ul.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(nu.fromString(t,...n));return Wp(r),new Xp(e.firestore,e instanceof Jp?e.converter:null,new ou(r))}}class em{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new gf(this,"async_queue_retry"),this.ou=()=>{const e=pf();e&&Pl("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Ho.$o()};const e=pf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const t=pf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise((()=>{}));const t=new zl;return this.au((()=>this.eu&&this.iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xa.push(e),this.uu())))}async uu(){if(0!==this.Xa.length){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(e){if(!fu(e))throw e;Pl("AsyncQueue","Operation failed with retryable error: "+e)}this.Xa.length>0&&this.Ho.Qo((()=>this.uu()))}}au(e){const t=this.Za.then((()=>(this.ru=!0,e().catch((e=>{this.nu=e,this.ru=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Al("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.ru=!1,e))))));return this.Za=t,t}enqueueAfterDelay(e,t,n){this._u(),this.su.indexOf(e)>-1&&(t=0);const r=Yf.createAndSchedule(this,e,t,n,(e=>this.cu(e)));return this.tu.push(r),r}_u(){this.nu&&Ll()}verifyOperationInProgress(){}async lu(){let e;do{e=this.Za,await e}while(e!==this.Za)}hu(e){for(const t of this.tu)if(t.timerId===e)return!0;return!1}Pu(e){return this.lu().then((()=>{this.tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lu()}))}Iu(e){this.su.push(e)}cu(e){const t=this.tu.indexOf(e);this.tu.splice(t,1)}}function tm(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class nm extends Qp{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new em,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||im(this),this._firestoreClient.terminate()}}function rm(e){return e._firestoreClient||im(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function im(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Lu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Bp(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Mp(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class om{constructor(e){this._byteString=e}static fromBase64String(e){try{return new om(Iu.fromBase64String(e))}catch(e){throw new Fl(Ul.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new om(Iu.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sm{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fl(Ul.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new iu(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class am{constructor(e){this._methodName=e}}class lm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fl(Ul.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fl(Ul.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xl(this._lat,e._lat)||Xl(this._long,e._long)}}const um=/^__.*__$/;class cm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Sh(e,this.data,this.fieldMask,t,this.fieldTransforms):new kh(e,this.data,t,this.fieldTransforms)}}class hm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Sh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ll()}}class fm{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.du(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new fm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Ru:!1});return r.Vu(e),r}mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Ru:!1});return r.du(),r}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return Cm(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(0===e.length)throw this.gu("Document fields must not be empty");if(dm(this.Tu)&&um.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class pm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||mf(e)}wu(e,t,n,r=!1){return new fm({Tu:e,methodName:t,yu:n,path:iu.emptyPath(),Ru:!1,pu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mm(e){const t=e._freezeSettings(),n=mf(e._databaseId);return new pm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function gm(e,t,n,r,i,o={}){const s=e.wu(o.merge||o.mergeFields?2:0,t,n,i);_m("Data must be an object, but it was:",s,r);const a=bm(r,s);let l,u;if(o.merge)l=new Tu(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=km(t,r,n);if(!s.contains(i))throw new Fl(Ul.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Im(e,i)||e.push(i)}l=new Tu(e),u=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=s.fieldTransforms;return new cm(new Ju(a),l,u)}class vm extends am{_toFieldTransform(e){if(2!==e.Tu)throw 1===e.Tu?e.gu(`${this._methodName}() can only appear at the top level of your update data`):e.gu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vm}}class ym extends am{_toFieldTransform(e){return new fh(e.path,new oh)}isEqual(e){return e instanceof ym}}function wm(e,t){if(Em(e=me(e)))return _m("Unsupported field value:",t,e),bm(e,t);if(e instanceof am)return function(e,t){if(!dm(t.Tu))throw t.gu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.gu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Ru&&4!==t.Tu)throw t.gu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=wm(i,t.fu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=me(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return eh(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Zl.fromDate(e);return{timestampValue:nd(t.serializer,n)}}if(e instanceof Zl){const n=new Zl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:nd(t.serializer,n)}}if(e instanceof lm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof om)return{bytesValue:rd(t.serializer,e._byteString)};if(e instanceof Xp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.gu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:sd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.gu(`Unsupported field value: ${qp(e)}`)}(e,t)}function bm(e,t){const n={};return wu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yu(e,((e,r)=>{const i=wm(r,t.Au(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Em(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Zl||e instanceof lm||e instanceof om||e instanceof Xp||e instanceof am)}function _m(e,t,n){if(!Em(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=qp(n);throw"an object"===r?t.gu(e+" a custom object"):t.gu(e+" "+r)}}function km(e,t,n){if((t=me(t))instanceof sm)return t._internalPath;if("string"==typeof t)return Tm(e,t);throw Cm("Field path arguments must be of type string or ",e,!1,void 0,n)}const Sm=new RegExp("[~\\*/\\[\\]]");function Tm(e,t,n){if(t.search(Sm)>=0)throw Cm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new sm(...t.split("."))._internalPath}catch(r){throw Cm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Cm(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Fl(Ul.INVALID_ARGUMENT,a+e+l)}function Im(e,t){return e.some((e=>e.isEqual(t)))}class Om{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Xp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Nm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Nm extends Om{data(){return super.data()}}function xm(e,t){return"string"==typeof t?Tm(e,t):t instanceof sm?t._internalPath:t._delegate._internalPath}function Pm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Fl(Ul.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Am{convertValue(e,t="none"){switch(Uu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ll()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return yu(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new lm(xu(e.latitude),xu(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ru(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Du(e));default:return null}}convertTimestamp(e){const t=Nu(e);return new Zl(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=nu.fromString(e);Ml(Td(n));const r=new Mu(n.get(1),n.get(3)),i=new ou(n.popFirst(5));return r.isEqual(t)||Al(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Rm(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Dm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lm extends Om{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(xm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Mm extends Lm{data(e={}){return super.data(e)}}class jm{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Dm(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Mm(this._firestore,this._userDataWriter,n.key,n,new Dm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fl(Ul.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Mm(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Dm(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Mm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Dm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Um(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Um(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ll()}}class Fm extends Am{constructor(e){super(),this.firestore=e}convertBytes(e){return new om(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xp(this.firestore,null,t)}}function zm(e,t){return function(e,t){const n=new zl;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Ap(e);try{const e=await function(e,t){const n=jl(e),r=Zl.now(),i=t.reduce(((e,t)=>e.add(t.key)),Yc());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Bc(),l=Yc();return n._s.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=Eh(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Sh(e.key,t,Zu(t.value.mapValue),mh.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Wc(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new bu(Xl)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,e.batchId,n),await Np(r,e.changes),await Uf(r.remoteStore)}catch(e){const t=Xf(e,"Failed to persist write");n.reject(t)}}(await function(e){return Fp(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(rm(e),t)}function Bm(e,t,n){const r=n.docs.get(t._key),i=new Fm(e);return new Lm(e,i,t._key,r,new Dm(n.hasPendingWrites,n.fromCache),t.converter)}function Vm(){return new ym("serverTimestamp")}new WeakMap,function(e,t=!0){!function(e){Ol=e}(it),et(new ge("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),o=new nm(new Wl(e.getProvider("auth-internal")),new Gl(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Fl(Ul.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),at(Cl,"4.1.3",e),at(Cl,"4.1.3","esm2017")}();const $m=(e,t)=>t.some((t=>e instanceof t));let Wm,Hm;const qm=new WeakMap,Km=new WeakMap,Gm=new WeakMap,Qm=new WeakMap,Ym=new WeakMap;let Xm={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Km.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Gm.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zm(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Jm(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Hm||(Hm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(eg(this),e),Zm(qm.get(this))}:function(...e){return Zm(t.apply(eg(this),e))}:function(e,...n){const r=t.call(eg(this),e,...n);return Gm.set(r,e.sort?e.sort():[e]),Zm(r)}:(e instanceof IDBTransaction&&function(e){if(Km.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Km.set(e,t)}(e),$m(e,Wm||(Wm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Xm):e);var t}function Zm(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Zm(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&qm.set(t,e)})).catch((()=>{})),Ym.set(t,e),t}(e);if(Qm.has(e))return Qm.get(e);const t=Jm(e);return t!==e&&(Qm.set(e,t),Ym.set(t,e)),t}const eg=e=>Ym.get(e),tg=["get","getKey","getAll","getAllKeys","count"],ng=["put","add","delete","clear"],rg=new Map;function ig(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(rg.get(t))return rg.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ng.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!tg.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return rg.set(t,o),o}Xm=(e=>({...e,get:(t,n,r)=>ig(t,n)||e.get(t,n,r),has:(t,n)=>!!ig(t,n)||e.has(t,n)}))(Xm);const og="@firebase/installations",sg="0.6.4",ag=1e4,lg=`w:${sg}`,ug="FIS_v2",cg="https://firebaseinstallations.googleapis.com/v1",hg=36e5,dg=new se("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function fg(e){return e instanceof oe&&e.code.includes("request-failed")}function pg({projectId:e}){return`${cg}/projects/${e}/installations`}function mg(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function gg(e,t){const n=(await t.json()).error;return dg.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function vg({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function yg(e){const t=await e();return t.status>=500&&t.status<600?e():t}function wg(e){return new Promise((t=>{setTimeout(t,e)}))}const bg=/^[cdef][\w-]{21}$/,Eg="";function _g(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){var t;return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22)}(e);return bg.test(t)?t:Eg}catch(e){return Eg}}function kg(e){return`${e.appName}!${e.appId}`}const Sg=new Map;function Tg(e,t){const n=kg(e);Cg(n,t),function(e,t){const n=(!Ig&&"BroadcastChannel"in self&&(Ig=new BroadcastChannel("[Firebase] FID Change"),Ig.onmessage=e=>{Cg(e.data.key,e.data.fid)}),Ig);n&&n.postMessage({key:e,fid:t}),0===Sg.size&&Ig&&(Ig.close(),Ig=null)}(n,t)}function Cg(e,t){const n=Sg.get(e);if(n)for(const e of n)e(t)}let Ig=null;const Og="firebase-installations-database",Ng=1,xg="firebase-installations-store";let Pg=null;function Ag(){return Pg||(Pg=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Zm(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Zm(s.result),e.oldVersion,e.newVersion,Zm(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}(Og,Ng,{upgrade:(e,t)=>{0===t&&e.createObjectStore(xg)}})),Pg}async function Rg(e,t){const n=kg(e),r=(await Ag()).transaction(xg,"readwrite"),i=r.objectStore(xg),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||Tg(e,t.fid),t}async function Dg(e){const t=kg(e),n=(await Ag()).transaction(xg,"readwrite");await n.objectStore(xg).delete(t),await n.done}async function Lg(e,t){const n=kg(e),r=(await Ag()).transaction(xg,"readwrite"),i=r.objectStore(xg),o=await i.get(n),s=t(o);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||o&&o.fid===s.fid||Tg(e,s.fid),s}async function Mg(e){let t;const n=await Lg(e.appConfig,(n=>{const r=function(e){return Fg(e||{fid:_g(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(dg.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=pg(e),i=vg(e),o=t.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const s={fid:n,authVersion:ug,appId:e.appId,sdkVersion:lg},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await yg((()=>fetch(r,a)));if(l.ok){const e=await l.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:mg(e.authToken)}}throw await gg("Create Installation",l)}(e,t);return Rg(e.appConfig,n)}catch(n){throw fg(n)&&409===n.customData.serverCode?await Dg(e.appConfig):await Rg(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:jg(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return n.fid===Eg?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function jg(e){let t=await Ug(e.appConfig);for(;1===t.registrationStatus;)await wg(100),t=await Ug(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Mg(e);return n||t}return t}function Ug(e){return Lg(e,(e=>{if(!e)throw dg.create("installation-not-found");return Fg(e)}))}function Fg(e){return 1===(t=e).registrationStatus&&t.registrationTime+ag<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function zg({appConfig:e,heartbeatServiceProvider:t},n){const r=function(e,{fid:t}){return`${pg(e)}/${t}/authTokens:generate`}(e,n),i=function(e,{refreshToken:t}){const n=vg(e);return n.append("Authorization",function(e){return`${ug} ${e}`}(t)),n}(e,n),o=t.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const s={installation:{sdkVersion:lg,appId:e.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await yg((()=>fetch(r,a)));if(l.ok)return mg(await l.json());throw await gg("Generate Auth Token",l)}async function Bg(e,t=!1){let n;const r=await Lg(e.appConfig,(r=>{if(!$g(r))throw dg.create("not-registered");const i=r.authToken;if(!t&&(2===(o=i).requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+hg}(o)))return r;var o;if(1===i.requestStatus)return n=async function(e,t){let n=await Vg(e.appConfig);for(;1===n.authToken.requestStatus;)await wg(100),n=await Vg(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Bg(e,t):r}(e,t),r;{if(!navigator.onLine)throw dg.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await zg(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Rg(e.appConfig,r),n}catch(n){if(!fg(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Rg(e.appConfig,n)}else await Dg(e.appConfig);throw n}}(e,t),t}}));return n?await n:r.authToken}function Vg(e){return Lg(e,(e=>{if(!$g(e))throw dg.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+ag<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var t}))}function $g(e){return void 0!==e&&2===e.registrationStatus}function Wg(e){return dg.create("missing-app-config-values",{valueName:e})}const Hg="installations";et(new ge(Hg,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Wg("App Configuration");if(!e.name)throw Wg("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Wg(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:tt(t,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),et(new ge("installations-internal",(e=>{const t=tt(e.getProvider("app").getImmediate(),Hg).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Mg(t);return r?r.catch(console.error):Bg(t).catch(console.error),n.fid}(t),getToken:e=>async function(e,t=!1){const n=e;return await async function(e){const{registrationPromise:t}=await Mg(e);t&&await t}(n),(await Bg(n,t)).token}(t,e)}}),"PRIVATE")),at(og,sg),at(og,sg,"esm2017");const qg=(e,t)=>t.some((t=>e instanceof t));let Kg,Gg;const Qg=new WeakMap,Yg=new WeakMap,Xg=new WeakMap,Jg=new WeakMap,Zg=new WeakMap;let ev={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Yg.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Xg.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nv(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function tv(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Gg||(Gg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(rv(this),e),nv(Qg.get(this))}:function(...e){return nv(t.apply(rv(this),e))}:function(e,...n){const r=t.call(rv(this),e,...n);return Xg.set(r,e.sort?e.sort():[e]),nv(r)}:(e instanceof IDBTransaction&&function(e){if(Yg.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Yg.set(e,t)}(e),qg(e,Kg||(Kg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ev):e);var t}function nv(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(nv(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Qg.set(t,e)})).catch((()=>{})),Zg.set(t,e),t}(e);if(Jg.has(e))return Jg.get(e);const t=tv(e);return t!==e&&(Jg.set(e,t),Zg.set(t,e)),t}const rv=e=>Zg.get(e);function iv(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=nv(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(nv(s.result),e.oldVersion,e.newVersion,nv(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}function ov(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(()=>t())),nv(n).then((()=>{}))}const sv=["get","getKey","getAll","getAllKeys","count"],av=["put","add","delete","clear"],lv=new Map;function uv(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(lv.get(t))return lv.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=av.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!sv.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return lv.set(t,o),o}ev=(e=>({...e,get:(t,n,r)=>uv(t,n)||e.get(t,n,r),has:(t,n)=>!!uv(t,n)||e.has(t,n)}))(ev);const cv="/firebase-messaging-sw.js",hv="/firebase-cloud-messaging-push-scope",dv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",fv="https://fcmregistrations.googleapis.com/v1",pv="google.c.a.c_id",mv="google.c.a.c_l",gv="google.c.a.ts";var vv,yv;function wv(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bv(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let e=0;e<n.length;++e)r[e]=n.charCodeAt(e);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(vv||(vv={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(yv||(yv={}));const Ev="fcm_token_details_db",_v=5,kv="fcm_token_object_Store",Sv="firebase-messaging-database",Tv=1,Cv="firebase-messaging-store";let Iv=null;function Ov(){return Iv||(Iv=iv(Sv,Tv,{upgrade:(e,t)=>{0===t&&e.createObjectStore(Cv)}})),Iv}async function Nv(e){const t=Pv(e),n=await Ov(),r=await n.transaction(Cv).objectStore(Cv).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map((e=>e.name));if(!e.includes(Ev))return null}let t=null;return(await iv(Ev,_v,{upgrade:async(n,r,i,o)=>{var s;if(r<2)return;if(!n.objectStoreNames.contains(kv))return;const a=o.objectStore(kv),l=await a.index("fcmSenderId").get(e);if(await a.clear(),l)if(2===r){const e=l;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(s=e.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:wv(e.vapidKey)}}}else if(3===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:wv(e.auth),p256dh:wv(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:wv(e.vapidKey)}}}else if(4===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:wv(e.auth),p256dh:wv(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:wv(e.vapidKey)}}}}})).close(),await ov(Ev),await ov("fcm_vapid_details_db"),await ov("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await xv(e,t),t}}async function xv(e,t){const n=Pv(e),r=(await Ov()).transaction(Cv,"readwrite");return await r.objectStore(Cv).put(t,n),await r.done,t}function Pv({appConfig:e}){return e.appId}const Av=new se("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function Rv(e,t){const n={method:"DELETE",headers:await Lv(e)};try{const r=await fetch(`${Dv(e.appConfig)}/${t}`,n),i=await r.json();if(i.error){const e=i.error.message;throw Av.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw Av.create("token-unsubscribe-failed",{errorInfo:null==e?void 0:e.toString()})}}function Dv({projectId:e}){return`${fv}/projects/${e}/registrations`}async function Lv({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Mv({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==dv&&(i.web.applicationPubKey=r),i}const jv=6048e5;async function Uv(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bv(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:wv(t.getKey("auth")),p256dh:wv(t.getKey("p256dh"))},r=await Nv(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(r.subscriptionOptions,n))return Date.now()>=r.createTime+jv?async function(e,t){try{const n=await async function(e,t){const n=await Lv(e),r=Mv(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{const n=await fetch(`${Dv(e.appConfig)}/${t.token}`,i);o=await n.json()}catch(e){throw Av.create("token-update-failed",{errorInfo:null==e?void 0:e.toString()})}if(o.error){const e=o.error.message;throw Av.create("token-update-failed",{errorInfo:e})}if(!o.token)throw Av.create("token-update-no-token");return o.token}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await xv(e.firebaseDependencies,r),n}catch(t){throw await async function(e){const t=await Nv(e.firebaseDependencies);t&&(await Rv(e.firebaseDependencies,t.token),await async function(e){const t=Pv(e),n=(await Ov()).transaction(Cv,"readwrite");await n.objectStore(Cv).delete(t),await n.done}(e.firebaseDependencies));const n=await e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}(e),t}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Rv(e.firebaseDependencies,r.token)}catch(e){console.warn(e)}return Fv(e.firebaseDependencies,n)}return Fv(e.firebaseDependencies,n)}async function Fv(e,t){const n=await async function(e,t){const n=await Lv(e),r=Mv(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{const t=await fetch(Dv(e.appConfig),i);o=await t.json()}catch(e){throw Av.create("token-subscribe-failed",{errorInfo:null==e?void 0:e.toString()})}if(o.error){const e=o.error.message;throw Av.create("token-subscribe-failed",{errorInfo:e})}if(!o.token)throw Av.create("token-subscribe-no-token");return o.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await xv(e,r),r.token}function zv(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const o=t.notification.icon;o&&(e.notification.icon=o)}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){var n,r,i,o,s;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};const a=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=t.notification)||void 0===o?void 0:o.click_action;a&&(e.fcmOptions.link=a);const l=null===(s=t.fcmOptions)||void 0===s?void 0:s.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}(t,e),t}function Bv(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function Vv(e){return Av.create("missing-app-config-values",{valueName:e})}Bv("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Bv("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $v{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw Vv("App Configuration Object");if(!e.name)throw Vv("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const e of t)if(!n[e])throw Vv(e);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function Wv(e,t){if(!navigator)throw Av.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw Av.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=dv)}(e,null==t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await async function(e){try{e.swRegistration=await navigator.serviceWorker.register(cv,{scope:hv}),e.swRegistration.update().catch((()=>{}))}catch(e){throw Av.create("failed-service-worker-registration",{browserErrorMessage:null==e?void 0:e.message})}}(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw Av.create("invalid-sw-registration");e.swRegistration=t}}(e,null==t?void 0:t.serviceWorkerRegistration),Uv(e)}async function Hv(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===yv.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(zv(n)):e.onMessageHandler.next(zv(n)));const r=n.data;var i;"object"==typeof(i=r)&&i&&pv in i&&"1"===r["google.c.a.e"]&&await async function(e,t,n){const r=function(e){switch(e){case yv.NOTIFICATION_CLICKED:return"notification_open";case yv.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[pv],message_name:n[mv],message_time:n[gv],message_device_time:Math.floor(Date.now()/1e3)})}(e,n.messageType,r)}const qv="@firebase/messaging",Kv="0.12.4";function Gv(){return Gv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gv.apply(this,arguments)}et(new ge("messaging",(e=>{const t=new $v(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(e=>Hv(t,e))),t}),"PUBLIC")),et(new ge("messaging-internal",(e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>Wv(t,e)}}),"PRIVATE")),at(qv,Kv),at(qv,Kv,"esm2017");var Qv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Gv({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))}));Qv.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Qv.displayName="X";const Yv=Qv;function Xv(){return Xv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xv.apply(this,arguments)}var Jv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Xv({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),e.createElement("polyline",{points:"10 17 15 12 10 7"}),e.createElement("line",{x1:"15",y1:"12",x2:"3",y2:"12"}))}));Jv.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Jv.displayName="LogIn";const Zv=Jv;function ey(){return ey=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ey.apply(this,arguments)}var ty=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",ey({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),e.createElement("polyline",{points:"17 11 19 13 23 9"}))}));ty.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},ty.displayName="UserCheck";const ny=ty;function ry(){return ry=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ry.apply(this,arguments)}var iy=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",ry({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),e.createElement("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),e.createElement("line",{x1:"23",y1:"11",x2:"17",y2:"11"}))}));iy.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},iy.displayName="UserPlus";const oy=iy;function sy(){return sy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sy.apply(this,arguments)}var ay=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",sy({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"}))}));ay.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},ay.displayName="Key";const ly=ay;at("firebase","10.3.1","app");const uy="firebasestorage.googleapis.com",cy="storageBucket";class hy extends oe{constructor(e,t,n=0){super(py(e),`Firebase Storage: ${t} (${py(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,hy.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return py(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var dy,fy;function py(e){return"storage/"+e}function my(){return new hy(dy.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function gy(e){return new hy(dy.INVALID_ARGUMENT,e)}function vy(){return new hy(dy.APP_DELETED,"The Firebase app was deleted.")}function yy(e,t){return new hy(dy.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function wy(e){throw new hy(dy.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(dy||(dy={}));class by{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=by.makeFromUrl(e,t)}catch(t){return new by(e,"")}if(""===n.path)return n;throw r=e,new hy(dy.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===uy?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let t=0;t<a.length;t++){const r=a[t],i=r.regex.exec(e);if(i){const e=i[r.indices.bucket];let t=i[r.indices.path];t||(t=""),n=new by(e,t),r.postModify(n);break}}if(null==n)throw function(e){return new hy(dy.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Ey{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function _y(e){return"string"==typeof e||e instanceof String}function ky(e){return Sy()&&e instanceof Blob}function Sy(){return"undefined"!=typeof Blob&&!function(){var e;const t=null===(e=Q())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()}function Ty(e,t,n,r){if(r<t)throw gy(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw gy(`Invalid value for '${e}'. Expected ${n} or less.`)}function Cy(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Iy(e){const t=encodeURIComponent;let n="?";for(const r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n=n.slice(0,-1),n}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(fy||(fy={}));class Oy{constructor(e,t,n,r,i,o,s,a,l,u,c,h=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=c,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(e){r(e)}else if(null!==i){const e=my();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else t.canceled?r(this.appDelete_?vy():new hy(dy.CANCELED,"User canceled the upload/download.")):r(new hy(dy.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))};this.canceled_?e(0,new Ny(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let u=!1;function c(...e){u||(u=!0,t.apply(null,e))}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){o&&clearTimeout(o)}function f(e,...t){if(u)return void d();if(e)return d(),void c.call(null,e,...t);if(l()||s)return d(),void c.call(null,e,...t);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),h(n)}let p=!1;function m(e){p||(p=!0,d(),u||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(((e,t)=>{if(t)return void e(!1,new Ny(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===fy.NO_ERROR,i=n.getStatus();if(!t||function(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===fy.ABORT;return void e(!1,new Ny(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new Ny(o,n))}))}),e,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ny{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function xy(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Py(...e){const t=xy();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(Sy())return new Blob(e);throw new hy(dy.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ay={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ry{constructor(e,t){this.data=e,this.contentType=t||null}}function Dy(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Ly(e,t){switch(e){case Ay.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw yy(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case Ay.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r)throw yy(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function(e){if("undefined"==typeof atob)throw new hy(dy.UNSUPPORTED_ENVIRONMENT,"base-64 is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.");return atob(e)}(t)}catch(t){if(t.message.includes("polyfill"))throw t;throw yy(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r}class My{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw yy(Ay.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;var r,i;null!=n&&(this.base64=(i=";base64",(r=n).length>=7&&r.substring(r.length-7)===i),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class jy{constructor(e,t){let n=0,r="";ky(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(ky(this.data_)){const o=(n=this.data_,r=e,i=t,n.webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null);return null===o?null:new jy(o)}var n,r,i;{const n=new Uint8Array(this.data_.buffer,e,t-e);return new jy(n,!0)}}static getBlob(...e){if(Sy()){const t=e.map((e=>e instanceof jy?e.data_:e));return new jy(Py.apply(null,t))}{const t=e.map((e=>_y(e)?function(e,t){switch(e){case Ay.RAW:return new Ry(Dy(t));case Ay.BASE64:case Ay.BASE64URL:return new Ry(Ly(e,t));case Ay.DATA_URL:return new Ry(function(e){const t=new My(e);return t.base64?Ly(Ay.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(e){throw yy(Ay.DATA_URL,"Malformed data URL.")}return Dy(t)}(t.rest)}(t),new My(t).contentType)}throw my()}(Ay.RAW,e).data:e.data_));let n=0;t.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return t.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new jy(r,!0)}}uploadData(){return this.data_}}function Uy(e){let t;try{t=JSON.parse(e)}catch(e){return null}return function(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}function Fy(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function zy(e,t){return t}class By{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||zy}}let Vy=null;function $y(){if(Vy)return Vy;const e=[];e.push(new By("bucket")),e.push(new By("generation")),e.push(new By("metageneration")),e.push(new By("name","fullPath",!0));const t=new By("name");t.xform=function(e,t){return function(e){return!_y(e)||e.length<2?e:Fy(e)}(t)},e.push(t);const n=new By("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new By("timeCreated")),e.push(new By("updated")),e.push(new By("md5Hash",null,!0)),e.push(new By("cacheControl",null,!0)),e.push(new By("contentDisposition",null,!0)),e.push(new By("contentEncoding",null,!0)),e.push(new By("contentLanguage",null,!0)),e.push(new By("contentType",null,!0)),e.push(new By("metadata","customMetadata",!0)),Vy=e,Vy}function Wy(e,t,n){const r=Uy(t);return null===r?null:function(e,t,n){const r={type:"file"},i=n.length;for(let e=0;e<i;e++){const i=n[e];r[i.local]=i.xform(r,t[i.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new by(n,r);return t._makeStorageReference(i)}})}(r,e),r}(e,r,n)}class Hy{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function qy(e){if(!e)throw my()}function Ky(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new hy(dy.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new hy(dy.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new hy(dy.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new hy(dy.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Gy(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=function(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}(t,r,i),u="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+function(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",c="\r\n--"+a+"--",h=jy.getBlob(u,r,c);if(null===h)throw new hy(dy.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.");const d={name:l.fullPath},f=Cy(o,e.host,e._protocol),p=e.maxUploadRetryTime,m=new Hy(f,"POST",function(e,t){return function(n,r){const i=Wy(e,r,t);return qy(null!==i),i}}(e,n),p);return m.urlParams=d,m.headers=s,m.body=h.uploadData(),m.errorHandler=Ky(t),m}let Qy=null;class Yy{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fy.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=fy.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=fy.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw wy("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const e in r)r.hasOwnProperty(e)&&this.xhr_.setRequestHeader(e,r[e].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wy("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wy("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw wy("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wy("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Xy extends Yy{initXhr(){this.xhr_.responseType="text"}}function Jy(){return Qy?Qy():new Xy}class Zy{constructor(e,t){this._service=e,this._location=t instanceof by?t:by.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Zy(e,t)}get root(){const e=new by(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Fy(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new by(this._location.bucket,e);return new Zy(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new hy(dy.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function ew(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Cy(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new Hy(r,"GET",function(e,t){return function(n,r){const i=Wy(e,r,t);return qy(null!==i),function(e,t,n,r){const i=Uy(t);if(null===i)return null;if(!_y(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return Cy("/b/"+s(i)+"/o/"+s(o),n,r)+Iy({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}(e,n),i);return o.errorHandler=function(e){const t=Ky(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new hy(dy.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}(t),o}(e.storage,e._location,$y());return e.storage.makeRequestWithTokens(t,Jy).then((e=>{if(null===e)throw new hy(dy.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function tw(e,t){if(e instanceof rw){const n=e;if(null==n._bucket)throw new hy(dy.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cy+"' property when initializing the app?");const r=new Zy(n,n._bucket);return null!=t?tw(r,t):r}return void 0!==t?function(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new by(e._location.bucket,n);return new Zy(e.storage,r)}(e,t):e}function nw(e,t){const n=null==t?void 0:t[cy];return null==n?null:by.makeFromBucketSpec(n,e)}class rw{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=uy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?by.makeFromBucketSpec(r,this._host):nw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=by.makeFromBucketSpec(this._url,e):this._bucket=nw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ty("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ty("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zy(this,e)}_makeRequest(e,t,n,r,i=!0){if(this._deleted)return new Ey(vy());{const o=function(e,t,n,r,i,o,s=!0){const a=Iy(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Oy(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const iw="@firebase/storage",ow="0.11.2",sw="storage";function aw(e,t){return function(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof rw)return new Zy(e,t);throw gy("To use ref(service, url), the first argument must be a Storage instance.")}return tw(e,t)}(e=me(e),t)}et(new ge(sw,(function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new rw(n,r,i,t,it)}),"PUBLIC").setMultipleInstances(!0)),at(iw,ow,""),at(iw,ow,"esm2017");const lw=new class{constructor(){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"database",{apiKey:"AIzaSyDmojC5Kl5vtST4vIyW81UfCrR6B18HnKw",authDomain:"sucralose-74a13.firebaseapp.com",projectId:"sucralose-74a13",storageBucket:"sucralose-74a13.appspot.com",messagingSenderId:"43887129209",appId:"1:43887129209:web:7d607e00a979144af85aa8"})}};function uw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const cw=lw.database,hw=new class{doc(...e){return Zp(this.db,e.join("/"))}collection(...e){return function(e,t,...n){if(e=me(e),$p("collection","path",t),e instanceof Qp){const r=nu.fromString(t,...n);return Hp(r),new Jp(e,null,r)}{if(!(e instanceof Xp||e instanceof Jp))throw new Fl(Ul.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(nu.fromString(t,...n));return Hp(r),new Jp(e.firestore,null,r)}}(this.db,e.join("/"))}formatDocument(e,t){return t?{_ref:e,_snapshot:t,id:t.id,...t.data()}:null}async getDoc(e){const t=await function(e){e=Kp(e,Xp);const t=Kp(e.firestore,nm);return function(e,t,n={}){const r=new zl;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Lp({next:o=>{t.enqueueAndForget((()=>ip(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Fl(Ul.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Fl(Ul.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new lp(Oc(n.path),o,{includeMetadataChanges:!0,Z_:!0});return rp(e,s)}(await zp(e),e.asyncQueue,t,n,r))),r.promise}(rm(t),e._key).then((n=>Bm(t,e,n)))}(e);return t.exists()?this.formatDocument(e,t):null}async getDocs(e){const t=await function(e){e=Kp(e,Yp);const t=Kp(e.firestore,nm),n=rm(t),r=new Fm(t);return Pm(e._query),function(e,t,n={}){const r=new zl;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Lp({next:n=>{t.enqueueAndForget((()=>ip(e,s))),n.fromCache&&"server"===r.source?i.reject(new Fl(Ul.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new lp(n,o,{includeMetadataChanges:!0,Z_:!0});return rp(e,s)}(await zp(e),e.asyncQueue,t,n,r))),r.promise}(n,e._query).then((n=>new jm(t,r,e,n)))}(e);return t.docs.map((e=>this.formatDocument(e.ref,e)))}createSnapshotListener(e,t,n={}){let{onReady:r,processor:i}=n;const o=function(e,...t){var n,r,i;e=me(e);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||tm(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(tm(t[s])){const e=t[s];t[s]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[s+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[s+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,u,c;if(e instanceof Xp)u=Kp(e.firestore,nm),c=Oc(e._key.path),l={next:n=>{t[s]&&t[s](Bm(u,e,n))},error:t[s+1],complete:t[s+2]};else{const n=Kp(e,Yp);u=Kp(n.firestore,nm),c=n._query;const r=new Fm(u);l={next:e=>{t[s]&&t[s](new jm(u,r,n,e))},error:t[s+1],complete:t[s+2]},Pm(e._query)}return function(e,t,n,r){const i=new Lp(r),o=new lp(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>rp(await zp(e),o))),()=>{i.La(),e.asyncQueue.enqueueAndForget((async()=>ip(await zp(e),o)))}}(rm(u),c,a,l)}(e,(async n=>{let s=e instanceof Xp?this.formatDocument(e,n):{changes:n.docChanges().map((e=>({...e,data:this.formatDocument(e.doc.ref,e.doc)}))),items:n.docs.map((e=>this.formatDocument(e.ref,e)))};if(s&&(s._unbindListener=o,"function"==typeof i))if(Array.isArray(s.items))for(let e=0;e<s.items.length;e++)s.items[e]=await i(s.items[e]);else s=await i(s);t(s),r?.(s),r=null}),console.error.bind(null,`Error in snapshot listener at "${e.path??e._query.path}"!`));return o}get useSnapshot(){return(t,n={})=>{const{processor:r}=n,[i,o]=e.useState(void 0);return e.useEffect((()=>this.createSnapshotListener(t,(async e=>{if("function"!=typeof r)return o(e);if(Array.isArray(e.items))for(const t in e.items)e.items[t]=await r(e.items[t]);else e=await r(e);o(e)}),n)),[]),i}}serializeObject(e){return i().omit({...e},["_ref","_snapshot","_unbindListener","id","firebaseSerialized"])}async set(e,t){return await function(e,t,n){e=Kp(e,Xp);const r=Kp(e.firestore,nm),i=Rm(e.converter,t,n);return zm(r,[gm(mm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,mh.none())])}(e,this.serializeObject(t)).catch(console.error.bind(null,`Error setting doc data at "${e.path}"!`))}async addDoc(e,t){return await function(e,t){const n=Kp(e.firestore,nm),r=Zp(e),i=Rm(e.converter,t);return zm(n,[gm(mm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,mh.exists(!1))]).then((()=>r))}(e,this.serializeObject(t)).catch(console.error.bind(null,`Error adding doc data at "${e.path}"!`))}async delete(e){return await(t=e,zm(Kp(t.firestore,nm),[new Oh(t._key,mh.none())])).catch(console.error.bind(null,`Error deleting doc at "${e.path}"!`));var t}async update(e,t){return await function(e,t,n,...r){e=Kp(e,Xp);const i=Kp(e.firestore,nm),o=mm(i);let s;return s="string"==typeof(t=me(t))||t instanceof sm?function(e,t,n,r,i,o){const s=e.wu(1,t,n),a=[km(t,r,n)],l=[i];if(o.length%2!=0)throw new Fl(Ul.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<o.length;e+=2)a.push(km(t,o[e])),l.push(o[e+1]);const u=[],c=Ju.empty();for(let e=a.length-1;e>=0;--e)if(!Im(u,a[e])){const t=a[e];let n=l[e];n=me(n);const r=s.mu(t);if(n instanceof vm)u.push(t);else{const e=wm(n,r);null!=e&&(u.push(t),c.set(t,e))}}const h=new Tu(u);return new hm(c,h,s.fieldTransforms)}(o,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.wu(1,t,n);_m("Data must be an object, but it was:",i,r);const o=[],s=Ju.empty();yu(r,((e,r)=>{const a=Tm(t,e,n);r=me(r);const l=i.mu(a);if(r instanceof vm)o.push(a);else{const e=wm(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Tu(o);return new hm(s,a,i.fieldTransforms)}(o,"updateDoc",e._key,t),zm(i,[s.toMutation(e._key,mh.exists(!0))])}(e,this.serializeObject(t)).catch(console.error.bind(null,`Error updating doc data at "${e.path}"!`))}async getStorageUrl(...e){const t=e.join("/"),n=aw(this.storage,t),r=await function(e){return ew(e=me(e))}(n);return this.storageCache[t]=r}uploadStorage(e,...t){const n=t.join("/");return(r=aw(this.storage,n),i=e,function(e,t,n){e._throwIfRoot("uploadBytes");const r=Gy(e.storage,e._location,$y(),new jy(t,!0),n);return e.storage.makeRequestWithTokens(r,Jy).then((t=>({metadata:t,ref:e})))}(r=me(r),i,void 0)).then((async e=>({result:e,url:await this.getStorageUrl(...t)})));var r,i}constructor(){uw(this,"app",ot(cw)),uw(this,"auth",oi()),uw(this,"db",function(e,t){const n="string"==typeof e?e:t||"(default)",r=tt("object"==typeof e?e:st(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=X("firestore");e&&function(e,t,n,r={}){var i;const o=(e=Kp(e,Qp))._getSettings(),s=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Il.MOCK_USER;else{t=te(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Fl(Ul.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Il(o)}e._authCredentials=new $l(new Bl(t,n))}}(r,...e)}return r}()),uw(this,"storage",function(e=st(),t){const n=tt(e=me(e),sw).getImmediate({identifier:t}),r=X("storage");return r&&function(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"==typeof i?i:te(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}()),uw(this,"storageCache",{}),Object.freeze(this)}};function dw(){const[t,n]=e.useState(!1),[r,o]=e.useState(!1),s=e.useRef(),a={handleSignUp:()=>{if(r)return;const[e,t,n]=s.current.getElementsByTagName("input");return n.value!==t.value?p.showToast("Passwords must match!","Failure"):e.value.trim()?t.value.trim()?(o(!0),void async function(e,t,n){var r;const i=Sn(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Nn(i,o,"signUpPassword");s=Kn(i,e)}else s=Kn(i,o).catch((async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Nn(i,o,"signUpPassword");return Kn(i,e)}throw e}));const a=await s.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Zn(e),t})),l=await Gn._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}(hw.auth,e.value,t.value).then((async({user:e})=>{CE.pop(),await hw.set(hw.doc("users",e.uid),i().pick(e,"e621user")),p.showToast("Welcome to Sucralose!","Success"),w.dispatch({type:y.UPDATE_ROUTE,path:"/settings"})})).catch((e=>{p.showToast("An unknown error has occured! Check console for details","Failure"),console.error(e),o(!1)}))):p.showToast("You must input a password","Failure"):p.showToast("You must input an email address","Failure")},handleLogIn:()=>{if(r)return;const[e,t]=s.current.getElementsByTagName("input");var n,i,a;o(!0),(n=hw.auth,i=e.value,a=t.value,async function(e,t){return Jn(Sn(e),t)}(me(n),zn.credential(i,a)).catch((async e=>{throw"auth/password-does-not-meet-requirements"===e.code&&Zn(n),e}))).then((()=>(CE.pop(),window.location.reload()))).catch((e=>{let t="Unknown";switch(e.code){case"auth/invalid-email":t="Invalid email address";break;case"auth/user-not-found":t="No user with this email found";break;case"auth/wrong-password":t="Incorrect password"}p.showToast(`Failed to sign in! Reason - ${t}`,"Failure",10),console.error(e)}))}};return b("keydown",(e=>"Enter"===e.key&&(t?a.handleSignUp():a.handleLogIn()))),e.createElement("div",{className:"AuthModal",ref:s},e.createElement(Yv,{className:"CloseButton",onClick:CE.pop.bind(CE)}),t?e.createElement(e.Fragment,null,e.createElement("div",{className:"MainSection Flex"},e.createElement("div",{className:"HelpSection"},e.createElement("div",{className:"Title"},"NOTE"),e.createElement("div",null,"This is not your e621.net details.",e.createElement("br",null),"You will have the option to enter",e.createElement("br",null),"your e621.net username and API key",e.createElement("br",null),"in your settings after signing up.",e.createElement("br",null))),e.createElement("div",{className:"Fields"},e.createElement("h3",null,"Sign Up"),e.createElement("div",{className:"FieldContainer"},e.createElement("input",{type:"email",placeholder:"Email Address"})),e.createElement("div",{className:"FieldContainer"},e.createElement("input",{type:"password",placeholder:"Password"})),e.createElement("div",{className:"FieldContainer"},e.createElement("input",{type:"password",placeholder:"Confirm Password"})))),e.createElement("div",{className:"FooterSection Flex"},e.createElement("div",{className:"Button",onClick:()=>n(!1)},e.createElement(Zv,null),e.createElement("div",null,"Log In")),e.createElement("div",{className:"Button",style:{marginLeft:"auto"},onClick:a.handleSignUp},e.createElement(ny,null),e.createElement("div",null,"Sign Up")))):e.createElement(e.Fragment,null,e.createElement("div",{className:"MainSection Flex"},e.createElement("div",{className:"HelpSection"},e.createElement("div",{className:"Title"},"Why?"),e.createElement("div",null,"Having an account ensures that your data",e.createElement("br",null),"stays consistent across browsers and devices,",e.createElement("br",null),"along with giving you access to useful features,",e.createElement("br",null),"without the security risks of storing data on your device.",e.createElement("br",null))),e.createElement("div",{className:"Fields"},e.createElement("h3",null,"Login"),e.createElement("div",{className:"FieldContainer"},e.createElement("input",{type:"email",placeholder:"Email Address"})),e.createElement("div",{className:"FieldContainer"},e.createElement("input",{type:"password",placeholder:"Password"})))),e.createElement("div",{className:"FooterSection Flex"},e.createElement("div",{className:"Button",onClick:()=>n(!0)},e.createElement(oy,null),e.createElement("div",null,"Sign Up")),e.createElement("div",{className:"Button",style:{marginLeft:"auto"}},e.createElement(ly,null),e.createElement("div",null,"Reset Password")),e.createElement("div",{className:"Button",onClick:a.handleLogIn},e.createElement(Zv,null),e.createElement("div",null,"Log In")))))}function fw(){return fw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fw.apply(this,arguments)}var pw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",fw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polyline",{points:"1 4 1 10 7 10"}),e.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))}));pw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},pw.displayName="RotateCcw";const mw=pw;function gw(){return gw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gw.apply(this,arguments)}var vw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",gw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}))}));vw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},vw.displayName="Edit2";const yw=vw;function ww(){return ww=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ww.apply(this,arguments)}var bw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",ww({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polyline",{points:"3 6 5 6 21 6"}),e.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))}));bw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},bw.displayName="Trash";const Ew=bw;function _w(){return _w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_w.apply(this,arguments)}var kw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",_w({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),e.createElement("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),e.createElement("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),e.createElement("line",{x1:"16",y1:"3",x2:"14",y2:"21"}))}));kw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},kw.displayName="Hash";const Sw=kw;function Tw(){return Tw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tw.apply(this,arguments)}var Cw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Tw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("circle",{cx:"12",cy:"8",r:"7"}),e.createElement("polyline",{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"}))}));Cw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Cw.displayName="Award";const Iw=Cw;function Ow(){return Ow=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ow.apply(this,arguments)}var Nw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Ow({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.createElement("circle",{cx:"12",cy:"7",r:"4"}))}));Nw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Nw.displayName="User";const xw=Nw;function Pw(){return Pw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pw.apply(this,arguments)}var Aw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Pw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"}))}));Aw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Aw.displayName="Activity";const Rw=Aw;function Dw(){return Dw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dw.apply(this,arguments)}var Lw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Dw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))}));Lw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Lw.displayName="AlertTriangle";const Mw=Lw;function jw(){return jw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jw.apply(this,arguments)}var Uw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",jw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("line",{x1:"18",y1:"10",x2:"6",y2:"10"}),e.createElement("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),e.createElement("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),e.createElement("line",{x1:"18",y1:"18",x2:"6",y2:"18"}))}));Uw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Uw.displayName="AlignCenter";const Fw=Uw;function zw(){return zw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zw.apply(this,arguments)}var Bw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",zw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}))}));Bw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Bw.displayName="BookOpen";const Vw=Bw;function $w(){return $w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$w.apply(this,arguments)}var Ww=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",$w({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.createElement("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),e.createElement("polyline",{points:"21 15 16 10 5 21"}))}));Ww.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Ww.displayName="Image";const Hw=Ww;function qw(){return qw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qw.apply(this,arguments)}var Kw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",qw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("circle",{cx:"11",cy:"11",r:"8"}),e.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))}));Kw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Kw.displayName="Search";const Gw=Kw;class Qw{emitChange(){for(const e of this._listeners)e()}addListener(e){return this._listeners.add(e)}removeListener(e){return this._listeners.delete(e)}get useState(){return(t=(e=>e),n=[])=>{const[r,i]=e.useState(t(this));return e.useEffect((()=>{const e=()=>i(t(this));return this.addListener(e),()=>{this.removeListener(e)}}),[r,...n]),r}}constructor(e,t){if(function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"_listeners",new Set),this._dispatcher=e,"object"==typeof t)for(const n in t)e.subscribe(n,(e=>{!1!==t[n]?.(e)&&this.emitChange()}));this._actionHandlers=t}}const Yw=new class extends Qw{get query(){return Object.fromEntries(new URLSearchParams(window.location.search))}get(e,t=null){return this.query[e]??t}set(e,t,n={}){const r=new URLSearchParams(window.location.search);null===t?r.delete(e):r.set(e,t),w.dispatch({type:y.UPDATE_QUERY,query:"?"+r.toString(),options:n})}}(w,{[y.UPDATE_QUERY]:({query:e,options:t})=>{const{pushHistory:n=!0}=t;w.dispatch({type:y.UPDATE_ROUTE,replace:!n,path:e})},[y.UPDATE_PAGE]:()=>{}}),Xw=Yw;function Jw(){return e.createElement("div",{className:"InlineLoadingContainer"},e.createElement("div",{className:"Dot A"}),e.createElement("div",{className:"Dot B"}),e.createElement("div",{className:"Dot C"}))}var Zw=n(935);function eb({children:t,direction:n="up",className:r="",color:i,style:o,onClick:s}){const[a,l]=e.useState(!1),u=e.useRef();return e.useEffect((()=>(u.current.parentElement.classList.add("HasTooltip"),()=>{u.current&&u.current.parentElement.classList.remove("HasTooltip")})),[t,n]),e.createElement("div",{ref:u,className:m("TooltipContainer",n.toLowerCase(),[a,"Visible"],r),style:o,onClick:s},e.createElement("div",{className:"Tooltip",style:{backgroundColor:i}},t),e.createElement("div",{className:"TooltipArrow",style:{backgroundColor:i}}))}const tb={0:{icon:e.createElement(Sw,null),tooltip:"General"},1:{icon:e.createElement(yw,null),tooltip:"Artist"},3:{icon:e.createElement(Iw,null),tooltip:"Copyright"},4:{icon:e.createElement(xw,null),tooltip:"Character"},5:{icon:e.createElement(Rw,null),tooltip:"Species"},6:{icon:e.createElement(Mw,null),tooltip:"Invalid"},7:{icon:e.createElement(Fw,null),tooltip:"Meta"},8:{icon:e.createElement(Vw,null),tooltip:"Lore"}};function nb({placeholder:t="Search..."}){const[n,r]=e.useState(!1),[o,s]=e.useState([]),a=e.useRef(),l=Xw.useState((()=>Xw.get("search")))||"",[u,c]=e.useState(l);function h(e=null){e&&(a.current.value=e),PE.getFormattedRoute()[0]||w.dispatch({type:y.UPDATE_ROUTE,path:"/posts"}),Xw.set("search",a.current.value),Xw.set("page",null)}e.useEffect((()=>{c(l)}),[l]),nb.handleSearch=h;const d=e.useMemo((()=>({onFocus:()=>r(!0),onBlur:()=>r(!1),onKeyDown:e=>"Enter"===e.key&&h(),onInput:i().debounce((async e=>{const{value:t}=e.target,n=t.split(/\s/).slice(-1)[0].replace(/[-~*]/g,"");if(!n.trim())return s([]);s([null]);const r=await yE.request("tags",{"search[name_matches]":n+"*","search[order]":"count",limit:10});try{s([...r||[]])}catch(e){s([])}}),200),onChange:e=>{const{value:t}=e.currentTarget;c(t)}})),[]);function f(e){const t=a.current.value.split(/\s/);c([...t.slice(0,-1),(t[t.length-1].match(/[^a-z0-9_]/gi)?.[0]??"")+e.name,""].join(" ")),s([]),setTimeout((()=>{a.current.selectionStart=a.current.selectionEnd=a.current.value.length,a.current.focus()}),0)}return e.createElement("div",{className:m("SearchFieldContainer",[n,"Focused"])},e.createElement("input",{className:"SearchField",...d,ref:a,id:"searchField",autoCorrect:"false",value:u,autoComplete:"off",placeholder:t}),e.createElement(Hw,{className:"Button",onClick:async function(){const[e]=await function(e={}){return new Promise((t=>{const{type:n="*",multiple:r=!1}=e,i=_.assign(document.createElement("input"),{type:"file",accept:n,style:"display:none",multiple:r,onchange:()=>(t(i.files),document.body.removeChild(i))});document.body.appendChild(i),i.click()}))}();if(!e)return;const t=await yE.request("posts",{tags:"md5:"+e.name.split(".")[0]}).catch((()=>null));t?.posts?.length?w.dispatch({type:y.UPDATE_ROUTE,path:`/post/${t.posts[0].id}`}):p.showToast("Could not find any post by MD5 hash! True image searching will be added soon!","Failure")}.bind(null,null)}),e.createElement(Gw,{className:"Button",onClick:h.bind(null,null)}),e.createElement("div",{className:"AutoCompleteContainer"},o.map((t=>null===t?e.createElement("div",{className:"AutoCompleteEntry",style:{padding:10}},e.createElement(Jw,{key:Date.now().toString(36)})):(t.categoryIcon=tb[t.category]??tb[0],e.createElement("div",{className:"AutoCompleteEntry",key:t.id,onMouseDown:f.bind(this,t)},e.createElement("div",{className:"IconContainer"},t.categoryIcon.icon,e.createElement(eb,null,t.categoryIcon.tooltip)),t.antecedent_name?e.createElement("div",{className:"Title"},t.name," ",e.createElement("span",{style:{opacity:.75}},"(",t.antecedent_name,")")):e.createElement("span",{className:"Title"},t.name),e.createElement("span",{className:"PostCount"},t.post_count," posts")))))))}function rb(){return rb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rb.apply(this,arguments)}var ib=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",rb({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("rect",{x:"3",y:"3",width:"7",height:"7"}),e.createElement("rect",{x:"14",y:"3",width:"7",height:"7"}),e.createElement("rect",{x:"14",y:"14",width:"7",height:"7"}),e.createElement("rect",{x:"3",y:"14",width:"7",height:"7"}))}));ib.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},ib.displayName="Grid";const ob=ib;function sb(){return sb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sb.apply(this,arguments)}var ab=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",sb({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),e.createElement("polyline",{points:"17 6 23 6 23 12"}))}));ab.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},ab.displayName="TrendingUp";const lb=ab;function ub(){return ub=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ub.apply(this,arguments)}var cb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",ub({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),e.createElement("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),e.createElement("line",{x1:"6",y1:"20",x2:"6",y2:"14"}))}));cb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},cb.displayName="BarChart2";const hb=cb;function db(){return db=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},db.apply(this,arguments)}var fb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",db({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),e.createElement("polyline",{points:"2 17 12 22 22 17"}),e.createElement("polyline",{points:"2 12 12 17 22 12"}))}));fb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},fb.displayName="Layers";const pb=fb;function mb(){return mb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mb.apply(this,arguments)}var gb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",mb({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.createElement("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"}))}));gb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},gb.displayName="Bell";const vb=gb;function yb(){return yb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yb.apply(this,arguments)}var wb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",yb({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}))}));wb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},wb.displayName="Heart";const bb=wb;function Eb(){return Eb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eb.apply(this,arguments)}var _b=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Eb({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"}))}));_b.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},_b.displayName="ThumbsUp";const kb=_b;function Sb(){return Sb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sb.apply(this,arguments)}var Tb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Sb({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("circle",{cx:"12",cy:"12",r:"3"}),e.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))}));Tb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Tb.displayName="Settings";const Cb=Tb;function Ib(){return Ib=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ib.apply(this,arguments)}var Ob=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Ib({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.createElement("polyline",{points:"9 22 9 12 15 12 15 22"}))}));Ob.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Ob.displayName="Home";const Nb=Ob;function xb(){return xb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xb.apply(this,arguments)}var Pb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",xb({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.createElement("rect",{x:"7",y:"7",width:"3",height:"9"}),e.createElement("rect",{x:"14",y:"7",width:"3",height:"5"}))}));Pb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Pb.displayName="Trello";const Ab=Pb,Rb=n.p+"assets/media/logo.png";function Db({children:t,...n}){return e.createElement("a",{className:"LinkWrapper",onClick:function(e){w.dispatch({type:y.UPDATE_ROUTE,path:n.href}),e.preventDefault(),n.onClick?.(e)},...n},t)}function Lb({children:t,title:n="Help"}){return e.createElement("div",{className:"TutorialModal"},e.createElement("div",{className:"ModalHeader"},e.createElement("h2",null,n),e.createElement(Yv,{onClick:CE.pop.bind(CE)})),e.createElement("div",{className:"ModalBody"},t))}function Mb({title:t,defaultValue:n,callback:r,...i}){return e.createElement("div",{className:"SwitchItem FlexCenter",...i},e.createElement("input",{className:"Switch",type:"checkbox",defaultChecked:n,onInput:e=>r?.(e.currentTarget.checked)}),e.createElement("h4",null,t))}var jb=n(294);function Ub(){const[t,n]=(0,e.useState)(Fb.length-1),r=Fb[t];return jb.createElement("div",{className:"NewsModal"},t>0&&jb.createElement("div",{className:"Arrow ArrowLeft FlexCenter",onClick:()=>n(t-1)},jb.createElement(T,null)),jb.createElement("div",{className:"TutorialModal BodySection"},jb.createElement("div",{className:"ModalHeader"},jb.createElement("h2",null,r.title),jb.createElement("h4",null,r.date),jb.createElement(Yv,{onClick:CE.pop.bind(CE)})),jb.createElement("div",{className:"ModalBody"},r.body())),t<Fb.length-1&&jb.createElement("div",{className:"Arrow ArrowRight FlexCenter",onClick:()=>n(t+1)},jb.createElement(z,null)))}const Fb=[{date:"09/09/2021",title:"Welcome to the new Sucralose!",body:function(){return jb.createElement(jb.Fragment,null,jb.createElement("h2",null,"What's different?"),jb.createElement("p",null,"I've re-built the site from the ground up, with better code, performance, and most importantly, better device support."),jb.createElement("p",null,"Some of the new features include the following:",jb.createElement("ul",null,jb.createElement("li",null,jb.createElement("div",null,jb.createElement("b",null,"Database!")),"I've added a Firebase database to the site, which will let you create an account and sync your data between devices and browsers."),jb.createElement("br",null),jb.createElement("li",null,jb.createElement("div",null,jb.createElement("b",null,"Mobile support")),"Mobile support was pretty bad in the previous release, but this version was started with mobile in mind."),jb.createElement("br",null),jb.createElement("li",null,jb.createElement("div",null,jb.createElement("b",null,"Better UI/UX")),"This is of course an opinional thing, but the user interface and user experience has been redesigned for a friendlier experience."),jb.createElement("br",null),jb.createElement("li",null,jb.createElement("div",null,jb.createElement("b",null,"Popular page")),"This is an overlooked feature in e621, mostly because its UI is so outdated; but it has been incorporated into Sucralose with a little better interface."),jb.createElement("br",null),jb.createElement("li",null,jb.createElement("div",null,jb.createElement("b",null,"Search everything, everywhere")),"The previous version of Sucralose did not let you search hot, favorites, sets, etc. All of this is fixed in this version."))))}},{date:"10/24/2021",title:"Domain name and performance overhauls",body:function(){return jb.createElement(jb.Fragment,null,jb.createElement("h2",null,"What's different?"),jb.createElement("p",null,"The domain name has been changed to ",jb.createElement("b",null,"sucralose.top"),". The site has been optimized for performance, and should load faster.",jb.createElement("br",null),jb.createElement("br",null),"However, this overhaul does not come without downfall, and may cause some bugs."),jb.createElement("h2",null,"Data Exports"),jb.createElement("p",null,"You can now export your data in the settings, for those of you who are interested in what is stored on the database.",jb.createElement("br",null),"Obviously passwords are not exported, as even I do not have the ability to view or export them."),jb.createElement("h2",null,"Ads"),jb.createElement("p",null,"Ads will be added to the site in the near future, ",jb.createElement("b",null,"but"),", you will be able to disable them in the settings.",jb.createElement("br",null),"This is for those of you who are interested in supporting me, but do not have the funds to do so.",jb.createElement("br",null),"Meanwhile, if you do have the funds, you can support me by donating to my Patreon page, which I will be creating soon. :)",jb.createElement("br",null),jb.createElement("br",null),"If you would be interested, please contact me on my Discord or ",jb.createElement("a",{href:"https://twitter.com/@Metalloriff"},"Twitter")," ",jb.createElement("i",null,"(Psst.. give me a follow, I'm beginning to actively use my Twitter.)"),", and let me know that I'm not wasting my time."))}},{date:"01/01/2023",title:"Minor QoL Changes and Fixes",body:function(){return jb.createElement(jb.Fragment,null,jb.createElement("h2",null,"What's different?"),jb.createElement("p",null,"This was a set of small changes, there's nothing major in this update. In general, I made small changes to the design of the website. I will continue to push this design style in later updates."),jb.createElement("p",null,"You can now navigate through posts with A and D along with the arrow keys. This makes for easier left-handed controls."),jb.createElement("p",null,"Fixed a few small bugs mostly related to the post page."))}},{date:"08/25/2023",title:"Important! Please Read",body:function(){return jb.createElement(jb.Fragment,null,jb.createElement("h2",null,"First and foremost"),jb.createElement("p",null,"This website is not dead, and there is a Trello roadmap available to the public. You can view this underneath the news post you clicked to view this modal."),jb.createElement("p",null,"However, I have many projects. I work on them in a priority list of what I'm motivated to do, and what I feel needs doing. If you have any suggestions, notice any missing features in Sucralose, or find any pesky bugs, please reach out to my Telegram or Discord (Metalloriff on both). Knowing that someone is waiting for features heavily motivates me to work on whichever project you're waiting for. This does go for my other projects as well."),jb.createElement("p",null,"That being said, if you are a new user of Sucralose, you notice notice features missing from e621 and are considering leaving. Please reach out to me and I will have it fixed as soon as possible. This is still a work in progress, and a large solo project."),jb.createElement("h2",null,"Blacklists"),jb.createElement("p",null,"Blacklist functionality is finally here, along with quick blacklist switching, right below the search bar! The UI is not entirely complete, it's a little ugly and clunky, but should be fully function."),jb.createElement("h2",null,"What's different?"),jb.createElement("p",null,"A lot of modal improvements, including a HUGE performance improvement -- the previous and next images used to show full resolution. This is stupid. That includes videos. Now, they show their proper preview image. The image modal has some new controls. Up and down will upvote and downvote, respectively. And F will favorite. Also, there's now a spinner for when the image is loading. This will prevent you from accidentally saving a preview too quickly, without realizing it's a preview. And videos autoplay. A lot of modal improvements, as that's where you spend most of your time."),jb.createElement("p",null,"Favoriting a post now upvotes it as well. The upvote feature in e621 is underused. If you favorite a post, 9/10 times you'd want to upvote as well. If not, an extra click 1/10 times is better than 9/10!"),jb.createElement("p",null,"Reverse searching is here! Currently it works flawlessly for any files that have an md5 hash in the name. But it is not perfect for improperly named files."),jb.createElement("p",null,"Pools now show name and description on the search page, instead of.. in a context menu. This is currently a work in progress, so there is no formatting. You'll see a lot of [[this]], and unclickable links. I apologize for that, but I at least made the text selectable so you can search."),jb.createElement("h2",null,"Patched bugs"),jb.createElement("p",null,"Personalization settings (background, colors, etc.) weren't saving properly. This should be fully fixed now."),jb.createElement("p",null,"Not being able to open pools in new tab."),jb.createElement("p",null,"Clicking on comment profile avatars wouldn't open the avatar post."),jb.createElement("h2",null,"What's next?"),jb.createElement("p",null,"Soon, I will be adding a saved searches feature. This will be similar to the quick blacklists feature, but for searching!"),jb.createElement("p",null,"You can see more of what's planned in the future on the ",jb.createElement("a",{href:"https://trello.com/b/27bqbHA1/roadmap"},"roadmap"),"."))}},{date:"08/31/2023",title:"Bug Fixes & Features",body:function(){return jb.createElement(jb.Fragment,null,jb.createElement("h2",null,"This is a WIP website!"),jb.createElement("p",null,"I have many projects, and work on them in a priority list of what I'm motivated to do, and what I feel needs doing. If you have any suggestions, notice any missing features in Sucralose, or find any pesky bugs, please reach out to my Telegram or Discord (Metalloriff on both). Knowing that someone is waiting for features heavily motivates me to work on whichever project you're waiting for. This does go for my other projects as well."),jb.createElement("p",null,"That being said, if you are a new user of Sucralose, you notice notice features missing from e621 and are considering leaving. Please reach out to me and I will have it fixed as soon as possible. This is still a work in progress, and a large solo project."),jb.createElement("h2",null,"What's new?"),jb.createElement("p",null,"The logo is now on the homepage!"),jb.createElement("p",null,"Popular page -- The popular page now has a slightly better UI, much less bugs (and it actually works), and you can now choose the time range. The popular page also adds the date and range into the URI, so you can copy a specific date/date range for bookmarking or sharing."),jb.createElement("p",null,"Post modal -- There's now artist tags underneath the controls on the post modal. Open a post and see an art style you really like? Now you can be lazy and don't have to close the modal to view their other works."),jb.createElement("p",null,"Sets -- The sets page is now a little less buggy, and favorite sets has been added! You can right click or tap and hold on a set to toggle favorite, and there's a favorites tab in the sets page."),jb.createElement("p",null,"The download button has been temporarily/permanently removed. For now, right click/tap and hold and hit save as. It will be re-added if I can find an efficient way to do it."),jb.createElement("h2",null,"Patched bugs"),jb.createElement("p",null,"Fixed a fatal bug related to new users. If you were a new user and couldn't save any settings, this should be fixed now."),jb.createElement("p",null,'Blacklists now take aliases into account. This means that before, if you blacklisted "futa", it would still show because the tag is technically "intersex".',jb.createElement("br",null),"Now, when you save your blacklist, it will automatically forward all tags from their aliases to the real tag."),jb.createElement("p",null,"No more random jumps to page 2 when opening tags! This was driving me mad."),jb.createElement("p",null,"Fixed the popular page."),jb.createElement("p",null,"Fixed a Firefox-specific bug causing image flashing on the modals."),jb.createElement("p",null,"Fixed an intentional(? I do not know what me 2 years ago was thinking) bug causing the entire page to shift 5 pixels when opening an image."),jb.createElement("p",null,"(Potentially) fixed a bug causing scrolling to randomly say you've reached the end, when you have not. This requires longer testing, as it wasn't easily reproducable."),jb.createElement("p",null,"Fixed adding and removing to and from subscriptions via context menu."),jb.createElement("h2",null,"What's next?"),jb.createElement("p",null,"You can see more of what's planned in the future on the ",jb.createElement("a",{href:"https://trello.com/b/27bqbHA1/roadmap"},"roadmap"),"."))}},{date:"09/12/2023",title:"Tweaks & Improvements",body:function(){return jb.createElement(jb.Fragment,null,jb.createElement("h2",null,"This is a WIP website!"),jb.createElement("p",null,"I have many projects, and work on them in a priority list of what I'm motivated to do, and what I feel needs doing. If you have any suggestions, notice any missing features in Sucralose, or find any pesky bugs, please reach out to my Telegram or Discord (Metalloriff on both). Knowing that someone is waiting for features heavily motivates me to work on whichever project you're waiting for. This does go for my other projects as well."),jb.createElement("p",null,"That being said, if you are a new user of Sucralose, you notice notice features missing from e621 and are considering leaving. Please reach out to me and I will have it fixed as soon as possible. This is still a work in progress, and a large solo project."),jb.createElement("h2",null,"What's new?"),jb.createElement("p",null,"Order dropdown -- There is now an order dropdown menu, for those who prefer using a UI rather than manually typing order:whatever."),jb.createElement("p",null,"Framework updates -- I've updated the site to the latest version of React and all other dependencies. This should improve performance overall."),jb.createElement("p",null,"Dark Reader detection -- Dark Reader is a great extension (if you're not using it, you should), but it destroys the design of my websites that use my City Fog theme. I've added some code that checks if a user enables Dark Reader, and warns them to disable it to see the website as it was intended to be viewed."),jb.createElement("p",null,"Adaptive screen size changes -- Before, Sucralose looked terrible on wide screen monitors, and didn't look too great on 720p monitors. It was designed to be adaptive, but I never implemented the code to actually make the changes. That code is now in the site, and everything should look better across differing screen sizes."),jb.createElement("p",null,"Patch Notes -- This patch notes window has been improved. There are now arrows to view past notes, the date is shown on the actual modal, and it's less annoying for me to create new notes."),jb.createElement("h2",null,"Patched bugs"),jb.createElement("p",null,"Nope, sorry, nothing."),jb.createElement("h2",null,"What's next?"),jb.createElement("p",null,"You can see more of what's planned in the future on the ",jb.createElement("a",{href:"https://trello.com/b/27bqbHA1/roadmap"},"roadmap"),"."))}}];var zb=n(294);const Bb={posts:{icon:zb.createElement(ob,null),title:"Latest Posts"},hot:{icon:zb.createElement(lb,null),title:"Hot Posts"},popular:{icon:zb.createElement(hb,null),title:"Popular Posts"},sets:{icon:zb.createElement(pb,null),title:"Browse Sets"},subscriptions:{icon:zb.createElement(vb,null),title:"Subscriptions"},favorites:{icon:zb.createElement(bb,null),title:"Favorites"},upvoted:{icon:zb.createElement(kb,null),title:"Upvoted Posts"},settings:{icon:zb.createElement(Cb,null),title:"Settings"}};function Vb({className:e,tooltipMode:t=!1}){const n=hE.useState((()=>hE.getLocalUser()));return zb.createElement("div",{className:e||"ButtonsContainer"},zb.createElement("div",{className:"Left"},PE.getCurrentRoute().length>1&&zb.createElement(Db,{href:"/"},zb.createElement("div",{className:"Button"},zb.createElement(Nb,null),zb.createElement(eb,{direction:"down"},"Home"))),["posts","hot","popular","sets"].map((e=>zb.createElement(Db,{key:e,href:"/"+e},zb.createElement("div",{className:"Button"},Bb[e].icon,t?zb.createElement(eb,{direction:"down"},Bb[e].title):zb.createElement("div",{className:"Title"},Bb[e].title)))))),zb.createElement("div",{className:"Right"},["subscriptions","favorites","upvoted","settings"].map((e=>zb.createElement(Db,{key:e,href:n?.signedIn?"/"+e:"#sign_in"},zb.createElement("div",{className:m("Button HasTooltip",[!n?.signedIn,"Disabled"])},Bb[e].icon,t?zb.createElement(eb,{direction:"down"},Bb[e].title):zb.createElement("div",{className:"Title"},Bb[e].title)))))))}function $b(){const e=Fb[Fb.length-1];return zb.createElement("div",{className:"MainPage"},zb.createElement("div",{className:"Head"},zb.createElement("div",{className:"Logo"},zb.createElement("img",{src:Rb,alt:"Logo"})),zb.createElement("h1",null,"Sucralose!"),zb.createElement("div",null,"A sweeter way to use ",zb.createElement("a",{href:"https://e621.net"},"e621"),".")),zb.createElement(nb,null),zb.createElement(Mb,{title:"SFW Mode",defaultValue:"false"===(localStorage.getItem("showNsfw")||"false"),callback:e=>{e||localStorage.getItem("hasShownNsfwNotice")||(CE.push(zb.createElement(Lb,{title:"NSFW Confirmation"},zb.createElement("h2",null,"NSFW Confirmation"),zb.createElement("p",null,"With SFW mode off, you will be able to see NSFW (18+) content.",zb.createElement("br",null),"You can disable this at any time on the home page."),zb.createElement("h2",null,"Age Confirmation"),zb.createElement("p",null,"By disabling SFW mode, you agree that you're at least 18 years old.",zb.createElement("br",null),"If your age is incorrect, this may result in your account being terminated.",zb.createElement("br",null),"If your age is incorrect, re-enable SFW mode before continuing."))),localStorage.setItem("hasShownNsfwNotice","true")),localStorage.setItem("showNsfw",e?"false":"true")}}),zb.createElement(Vb,null),zb.createElement("div",{className:"News",onClick:()=>CE.push(zb.createElement(Ub,null))},zb.createElement("h3",{className:"Title"},e.title),zb.createElement("div",{className:"Flex"},zb.createElement("div",{className:"Date"},e.date),zb.createElement("div",{className:"Poster"},zb.createElement("b",null,"Patch Notes")))),zb.createElement("a",{className:"Trello FlexCenter",href:"https://trello.com/b/27bqbHA1/roadmap"},zb.createElement(Ab,null),"Roadmap"))}function Wb({searchPlaceholder:t=null,hasSearch:n=!0}){return e.createElement("div",{className:"Header"},e.createElement("div",null,n&&e.createElement(nb,{placeholder:t}),e.createElement(Vb,{className:"NavigationButtons",tooltipMode:!0})))}var Hb=n(294);function qb({edit:t=null,index:n=null,callback:r=null}){const[i,o]=(0,e.useState)(t?.name??""),[s,a]=(0,e.useState)(t?.tags??""),l={cancel:()=>CE.pop(),save:async()=>{const e=hE.getLocalUser();e.blacklists=e.blacklists??[];const t=s.split("\n").map((e=>e.toLowerCase().split(/\s+/))),o={};for(const e in t)for(const n in t[e]){const r=t[e][n];if(o[r])t[e][n]=o[r];else try{const[{consequent_name:r}]=await yE.request("tag_aliases",{commit:"Search","search[name_matches]":t[e][n]});o[t[e][n]]=r,t[e][n]=r}catch(e){console.error(e)}}const a=t.map((e=>e.join(" "))).join("\n");null!==n?e.blacklists[n]={name:i,tags:a}:e.blacklists.push({name:i,tags:a}),hw.update(hw.doc("users",e.uid),{blacklists:e.blacklists}).then((()=>{location.href.includes("/settings")||window.location.reload(),r?.(),CE.pop()}))}};return Hb.createElement(Lb,{title:"Edit blacklist"},Hb.createElement("div",{className:"CreateBlacklistModal"},Hb.createElement("h2",null,"Title"),Hb.createElement("input",{value:i,type:"text",className:"Field",placeholder:"Example: Main",onChange:e=>o(e.target.value)}),Hb.createElement("h2",null,"Tags"),Hb.createElement("p",null,"Separate tags with spaces, and different tag sets with enter.",Hb.createElement("br",null),'Example: "young rating:e" on one line will hide posts with young AND rating:e, but neither young nor rating:e on their own.'),Hb.createElement("textarea",{value:s,className:"Field",placeholder:"Example:\n\nyoung rating:e\nhyper\nfnaf",onChange:e=>a(e.target.value)}),Hb.createElement("div",{className:"Footer"},Hb.createElement("div",{className:"Button Red",onClick:l.cancel},"Cancel"),Hb.createElement("div",{className:"Button",onClick:l.save},"Save"))))}const Kb=n.p+"assets/media/0.png",Gb=n.p+"assets/media/1.png",Qb=n.p+"assets/media/2.png";function Yb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xb(){return e.createElement(Lb,null,e.createElement("h3",null,"Your API key is ",e.createElement("b",{style:{color:"var(--red)"}},"NOT")," your password."),e.createElement("h4",null,"It is used to interface with the e621 API, safely and securely;"),e.createElement("h4",null,"however, you should refrain from revealing this API key to anyone, as it gives them access to all of your content, and the ability to post and vote as you."),e.createElement("h4",null,"If you do not trust Sucralose, all of the source is available on GitHub, I recommend and encourage you to view and analyze the source code."),e.createElement("p",null,"That being said, you may gain access to your API key by navigating to ",e.createElement("a",{href:"https://e621.net/users/home"},"https://e621.net/users/home")," and following the steps below."),e.createElement("p",{style:{marginTop:50}},e.createElement("h2",null,"Step 1"),"After navigating to your home page (and signing in if necessary), you'll want to navigate to ",e.createElement("b",null,"Manage API Access"),"."),e.createElement("img",{src:Kb,alt:"Help"}),e.createElement("p",{style:{marginTop:50}},e.createElement("h2",null,"Step 2"),"Enter your password, and press ",e.createElement("b",null,"Submit"),"."),e.createElement("img",{src:Gb,alt:"Help"}),e.createElement("p",{style:{marginTop:50}},e.createElement("h2",null,"Step 3"),"Copy the text under ",e.createElement("b",null,"API Key")," to your clipboard."),e.createElement("img",{src:Qb,alt:"Help"}),e.createElement("p",{style:{marginTop:50}},e.createElement("h2",null,"Step 4, Final"),"Now that you have the API key, simple enter your username and API key into their respective fields in Sucralose."))}function Jb(){const t=hE.useState((()=>hE.getLocalUser())),n={saveUsername:({target:e})=>{if(e.value.trim()!==t?.username)return e.length>36?p.showToast("Username is too long","Failure"):void hw.update(hw.doc("users",t.uid),{username:e.value}).then((()=>{p.showToast("Username updated","Success"),i().merge(t,{username:e.value})}))},saveApiKey:({target:e})=>{if(e.value.trim()!==t?.apiKey)return e.length>36?p.showToast("Invalid API key","Failure"):void hw.update(hw.doc("users",t.uid),{apiKey:e.value}).then((()=>{p.showToast("API key updated","Success"),i().merge(t,{apiKey:e.value})}))}};return t?.signedIn?e.createElement("div",{className:"Section ApiKey"},e.createElement("h1",null,"E621 API Key"),e.createElement("u",{onClick:()=>CE.push(e.createElement(Xb,null))},"What's this?"),e.createElement("div",{className:"FieldContainer"},e.createElement("input",{className:"Field",placeholder:"Username",defaultValue:t.username,onBlur:n.saveUsername})),e.createElement("div",{className:"FieldContainer"},e.createElement("input",{className:"Field Confidential",placeholder:"API Key",defaultValue:t.apiKey,onBlur:n.saveApiKey}))):null}function Zb(){const t=hE.useState((()=>hE.getLocalUser())),[n,r]=e.useState([]),[o,s]=e.useState(!1);return e.useEffect((()=>{t?.subscriptions&&r(t.subscriptions)}),[t]),e.useEffect((()=>{t?.signedIn&&!i().isEqual(t.subscriptions,n)&&o&&(i().merge(t,{subscriptions:n}),hw.update(hw.doc("users",t.uid),{subscriptions:n}).then((()=>{p.showToast("Subscriptions updated","Success"),s(!1)})))}),[n,o]),t?.signedIn?e.createElement("div",{className:"Section TagsManager Subscriptions"},e.createElement("h1",null,"Subscribed Tags"),e.createElement("div",{className:"Tags Flex"},n.map((t=>e.createElement("div",{className:"Tag FlexCenter",key:t},e.createElement(Db,{href:`/posts?search=${t}`},t),e.createElement(Yv,{onClick:()=>{s(!0),r(n.filter((e=>e!==t)))}})))),e.createElement("input",{key:n.length,className:"TagField",placeholder:"Add tag",onBlur:e=>{e.target.value.trim()&&(s(!0),r([...n,e.target.value.trim()]),e.target.value="")}}))):null}function eE(){const t=hE.useState((()=>hE.getLocalUser())),n=hE.useState((()=>hE.getLocalUser()?.blacklists??[])),[,r]=(0,e.useReducer)((e=>e+1),0);return t?.signedIn?e.createElement("div",{className:"Section BlacklistsSection"},e.createElement("h1",null,"Blacklists"),n.map((({name:i,tags:o},s)=>e.createElement("div",{className:"Blacklist",key:v()},e.createElement("h3",null,i),e.createElement("p",null,o.split("\n").map((t=>e.createElement("div",{key:t},t)))),e.createElement("div",{className:"FooterButtons"},e.createElement(yw,{className:"FooterButton",onClick:()=>(t=>{CE.push(e.createElement(qb,{edit:n[t],index:t,callback:r}))})(s)}),e.createElement(Ew,{className:"FooterButton",onClick:()=>(i=>{(async function({title:t="",description:n="",yesText:r="Yes",noText:i="No",yesColor:o="#ff6666",noColor:s=""}){const a=await new Promise((a=>{CE.push(e.createElement("div",{className:"BoolModal PrimaryBg"},e.createElement("div",{className:"Title",dangerouslySetInnerHTML:{__html:t}}),e.createElement("div",{className:"Description",dangerouslySetInnerHTML:{__html:n}}),e.createElement("div",{className:"Footer"},e.createElement("div",{className:"Button TertiaryBg",onClick:()=>a(!1),style:{backgroundColor:s}},i),e.createElement("div",{className:"Button TertiaryBg",onClick:()=>a(!0),style:{backgroundColor:o}},r))))}));return CE.pop(),a})({title:"Are you sure?",description:`Do you want to delete blacklist '${n[i].name}?' This cannot be undone.`}).then((e=>{e&&(t.blacklists.splice(i,1),hw.update(hw.doc("users",t.uid),{blacklists:t.blacklists,currentBlacklist:"defaults.none"}).then(r))}))})(s)})))))):null}function tE(){const t=i().debounce((()=>w.dispatch({type:y.UPDATE_SETTINGS})),200),n=i().debounce(nE.save.bind(nE),2e3),r=hE.useState((()=>hE.getLocalUser())),[,o]=e.useReducer((e=>e+1),0);return e.useEffect((()=>{r&&(nE.props=i().merge({},nE.defaults,nE.props,r.settings),o())}),[r]),w.useForceUpdater(y.UPDATE_SETTINGS),r?.signedIn?e.createElement("div",{className:"SettingsPage"},e.createElement(Wb,{hasSearch:!1}),e.createElement("div",{className:"Section Flex",style:{gap:10}},e.createElement("div",{className:"Button",onClick:()=>{hw.getDoc(hw.doc("users",r.uid)).then((e=>{const t=URL.createObjectURL(new Blob([JSON.stringify(hw.serializeObject(e),null,"\t")],{type:"json"})),n=i().assign(document.createElement("a"),{download:`${r.username}.json`,href:t});document.body.appendChild(n),n.click(),setTimeout((()=>{document.body.removeChild(n),URL.revokeObjectURL(t)}),0)}))}},"Download My Data",e.createElement(eb,{style:{color:"white"}},"This will give you a JSON file",e.createElement("br",null),"containing all of your data",e.createElement("br",null),"stored on the database.")),e.createElement("div",{className:"Button",onClick:()=>hw.auth.signOut().then((()=>(window.location.pathname="",window.location.reload())))},"Sign Out")),e.createElement(Jb,null),e.createElement(Zb,null),e.createElement(eE,null),Object.entries(nE.props).map((([r,i])=>e.createElement("div",{className:"Section",key:r},e.createElement("h1",null,rE(r)),Object.entries(i).map((([i,o])=>e.createElement(iE,{key:v(),name:i,setting:o,resetValue:nE.defaults[r][i].value,callback:e=>(nE.props[r][i].value=e,n(),t())}))))))):e.createElement("div",{className:"SettingsPage FlexCenter"},e.createElement(Jw,null))}const nE=new class{async save(){const e=hE.getLocalUser();console.trace();for(const t in this.props)for(const n in this.props[t]){const r=this.props[t][n];i().set(e,["settings",t,n,"value"],r.value)}const t=await hw.getDoc(hw.doc("users",e.uid))?hw.update(hw.doc("users",e.uid),{settings:e.settings}):hw.set(hw.doc("users",e.uid),{settings:e.settings});await t.then((()=>p.showToast("Settings updated on the database"))).catch((e=>(console.error(e),p.showToast("An unknown error occurred while saving settings","Failure"))))}constructor(){Yb(this,"defaults",{accentColors:{primary:{type:"color",value:"#7bb1bd"},secondary:{type:"color",value:"#BD7BA2"}},backgroundColors:{primary:{type:"color",value:"#2c3946"},secondary:{type:"color",value:"#364758"},tertiary:{type:"color",value:"#364758"}},backgroundImage:{url:{type:"string",value:"",placeholder:"Example - https://c.tenor.com/Z6gmDPeM6dgAAAAC/dance-moves.gif"},brightness:{type:"slider",min:0,max:100,step:1,value:100},blur:{type:"slider",min:0,max:25,step:.5,value:0},positionX:{type:"slider",min:0,max:100,step:1,value:50},positionY:{type:"slider",min:0,max:100,step:1,value:50}}}),Yb(this,"props",i().extend({},this.defaults))}};function rE(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}function iE({name:t,setting:n,resetValue:r,callback:i}){const[o,s]=e.useState(n.value),a=e.useRef(),l=e.useRef(),u=e=>{i?.(e),s(e),a.current&&(a.current.value=e),l.current&&(l.current.value=e)},c=o!==r&&e.createElement("div",{className:"ResetButton",onClick:()=>u(r)},e.createElement(mw,null),e.createElement(eb,null,"Reset To Default"));switch(n.type){default:return null;case"color":return e.createElement("div",{className:"FieldContainer"},e.createElement("h4",{className:"FieldTitle"},rE(t)),e.createElement("div",{className:"Flex",style:{alignItems:"center"}},e.createElement("input",{className:"ColorPicker",defaultValue:o,type:"color",ref:a,onInput:e=>u(e.currentTarget.value)}),e.createElement("input",{className:"Field ColorField",defaultValue:o,ref:l,style:{borderColor:o},maxLength:64,onInput:e=>u(e.currentTarget.value)}),c));case"string":return e.createElement("div",{className:"FieldContainer"},e.createElement("h4",{className:"FieldTitle"},rE(t)),e.createElement("div",{className:"Flex",style:{alignItems:"center"}},e.createElement("input",{className:"Field",defaultValue:o,placeholder:n.placeholder,ref:l,maxLength:128,onInput:e=>u(e.currentTarget.value)})));case"slider":return e.createElement("div",{className:"FieldContainer"},e.createElement("h4",{className:"FieldTitle"},rE(t)," - ",o),e.createElement("div",{className:"Flex",style:{alignItems:"center"}},e.createElement("input",{className:"Field ColorField",defaultValue:o,type:"range",ref:l,onInput:e=>u(parseFloat(e.currentTarget.value)),min:n.min,max:n.max}),c))}}function oE(){w.useForceUpdater(y.UPDATE_SETTINGS);const{props:t}=nE;return e.createElement("style",null,`\n            \n\t\t\t:root {\n\t\t\t\t--primary-color: ${t.accentColors.primary.value};\n\t\t\t\t--secondary-color: ${t.accentColors.secondary.value};\n\t\t\t\t\n\t\t\t\t--primary-bg: ${t.backgroundColors.primary.value};\n\t\t\t\t--secondary-bg: ${t.backgroundColors.secondary.value};\n\t\t\t\t--tertiary-bg: ${t.backgroundColors.tertiary.value};\n\t\t\t}\n\t\t\t\n\t\t\t`,!!t.backgroundImage?.url?.value?.trim?.()&&`\n                .AppBackground {\n                    background-image: url("${t.backgroundImage.url.value}");\n                    background-position: ${t.backgroundImage.positionX.value}%\n                                         ${t.backgroundImage.positionY.value}%;\n                    \n                    filter: blur(${t.backgroundImage.blur.value||0}px)\n                            brightness(${t.backgroundImage.brightness.value}%);\n                            \n                    opacity: 1;\n                }\n                \n                footer {\n                    backdrop-filter: blur(7px);\n                }\n                \n                .SearchFieldContainer.Focused:After {\n                    background-color: rgba(0,0,0, 0.2);\n                    backdrop-filter: blur(5px);\n                }\n            `)}var sE=n(294);const aE={};let lE,uE=null;const cE=new class extends Qw{getUser(){}getLocalUser(){return uE}getCachedUsers(){}constructor(e,t){var n;super(e,t),n=t=>{t?hw.getDoc(hw.doc("users",t.uid)).then((async n=>{n||(n={});let r={};n.username&&(r=await yE.request(`users/${n.username}`,{login:n.username,api_key:n.apiKey}));const o=i().extend(t,n,{e621User:r,signedIn:!0,getSets:async()=>n.username?lE??(lE=await yE.request("post_sets",{commit:"Search","search[creator_name]":n.username})):null,get firebaseSerialized(){const e={};for(const n in t)void 0!==this[n]&&"id"!==n&&(e[n]=this[n]);return e}});Notification.requestPermission().then((()=>{if("granted"!==Notification.permission)p.showToast("Notifications are disabled, you will not received subscribed tag notifications","Failure",10),p.showToast("To fix this, please enabled notifications for sucralose.top in your browser settings","Failure",10);else try{(async function(e,t){return Wv(e=me(e),{vapidKey:"BBWvMxlJ7kaRqFNxqnzChq6HE_wXmrt39gSgbsivwiccua2xFmK1qQqtPLtBQRkjBN0xM1HDlQ8ycbXaUiWulzo"})})(function(e=st()){return async function(){try{await ie()}catch(e){return!1}return"undefined"!=typeof window&&re()&&!("undefined"==typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}().then((e=>{if(!e)throw Av.create("unsupported-browser")}),(e=>{throw Av.create("indexed-db-unsupported")})),tt(me(e),"messaging").getImmediate()}(hw.app)).then((async e=>{const n=hw.doc("users",t.uid,"fcmTokens",e.slice(0,10)),r=await hw.getDoc(n);hw.set(n,{token:e,registered:r?r.registered:Vm(),lastLogin:Vm()})})).catch(console.error)}catch(e){console.error(e)}})),e.dispatch({type:y.UPDATE_LOCAL_USER,user:o}),e.dispatch({type:y.UPDATE_USER,user:o.e621User}),nE.props=i().merge({},nE.defaults,nE.props,o.settings),e.dispatch({type:y.UPDATE_SETTINGS,settings:o.settings})})):(e.dispatch({type:y.UPDATE_LOCAL_USER,user:{signedIn:!1}}),localStorage.getItem("hasPromptedLogin")||(CE.push(sE.createElement(dw,null)),localStorage.setItem("hasPromptedLogin","1")))},me(hw.auth).onAuthStateChanged(n,undefined,undefined)}}(w,{[y.UPDATE_LOCAL_USER]:({user:e})=>{uE=e},[y.UPDATE_USER]:({user:e})=>{aE[e.id]=e}}),hE=cE;var dE,fE,pE=n(294);function mE(e,t){var n=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,n)}function gE(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function vE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const yE=new(dE=new WeakMap,fE=new WeakMap,class{get loginData(){const e=hE.getLocalUser()??{};return{login:e.username,api_key:e.apiKey}}getEndpoint(e,t={},n=!0){const r=new URLSearchParams({...t,_client:"Sucralose/2.0 by Metalloriff"});return`${"true"===(localStorage.getItem("showNsfw")||"false")?this.endpoint:this.sfwEndpoint}${e}${n?".json?":"?"}${r}`}async request(e,t={},n=!0,r={}){for(;Date.now()-this.lastMadeRequest<500;)await new Promise((e=>setTimeout(e,50)));this.lastMadeRequest=Date.now();const{login:o,api_key:s}=this.loginData;return o&&s&&i().set(r,["headers","authorization"],"Basic "+btoa(`${o}:${s}`)),await fetch(this.getEndpoint(e,t,n),r).then((e=>n?e.json():e))}async vote(e,t){const n=hE.getLocalUser()??{};return n.username&&n.apiKey?mE(this,dE)[e]?p.showToast("You're attempting to vote too quickly","Failure"):(mE(this,dE)[e]=!0,await this.request(`posts/${e}/votes`,{score:t,no_unvote:!1},!0,{method:"POST"}).then((t=>(delete mE(this,dE)[e],t)))):p.showToast("You must be logged into e621 to favorite posts","Failure")}async favorite(e){const t=hE.getLocalUser()??{};return t.username&&t.apiKey?mE(this,fE)[e]?p.showToast("You're attempting to favorite too quickly","Failure"):(mE(this,fE)[e]=!0,await this.request("favorites",{post_id:e},!0,{method:"POST"}).then((t=>(delete mE(this,fE)[e],t)))):p.showToast("You must be logged into e621 to favorite posts","Failure")}async removeFavorite(e){const t=hE.getLocalUser()??{};return t.username&&t.apiKey?mE(this,fE)[e]?p.showToast("You're attempting to favorite too quickly","Failure"):(mE(this,fE)[e]=!0,await this.request(`favorites/${e}.json`,{},!1,{method:"DELETE"}).then((t=>(delete mE(this,fE)[e],t))).catch((t=>{console.error(t),p.showToast(pE.createElement(pE.Fragment,null,"Due to an API issue on e621's side, it is currently impossible to unfavorite posts via their API. Please ",pE.createElement("a",{href:`https://e621.net/posts/${e}#remove-fav-button`},"click here")," to manually unfavorite it."),"Failure",10)}))):p.showToast("You must be logged into e621 to favorite posts!")}constructor(){vE(this,"endpoint","https://e621.net/"),vE(this,"sfwEndpoint","https://e926.net/"),vE(this,"lastMadeRequest",-500),gE(this,dE,{writable:!0,value:{}}),gE(this,fE,{writable:!0,value:{}})}});class wE extends e.Component{componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}showErrorInfo(){const{error:t,errorInfo:n}=this.state;var r;r=e.createElement("div",{className:"ErrorInfoModal PrimaryBg",onClick:()=>{CE.pop().catch(console.error.bind(console,"Failed to pop modal!"))}},e.createElement("h1",null,t.message),n.componentStack.split("\n").slice(0,10).map(((t,n)=>e.createElement("h2",{key:n},t)))),CE.push(r)}renderError(){const{moreInfo:t}=this.state;return e.createElement("div",{className:"ErrorBoundaryHandler"},e.createElement("h1",null,"There was an error with this component!"),e.createElement("h2",null,"This is due to a plugin error or application error."),e.createElement("div",{className:"ErrorBoundaryFooter"},e.createElement("div",{className:"ErrorBoundaryButton TertiaryBg",onClick:()=>this.showErrorInfo()},"More Info"),e.createElement("div",{className:"ErrorBoundaryButton BackgroundDanger",onClick:()=>this.setState({error:null})},"Retry")))}render(){return this.state.error?this.renderError():this.props.children}constructor(e){super(e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"state",{error:null,errorInfo:null,moreInfo:!1})}}function bE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}async function EE(t){try{await window.navigator.clipboard.writeText(t),p.showToast(e.createElement("span",null,e.createElement("b",null,t.length>=100?t.substr(0,100)+"...":t)," copied to clipboard"),"Success")}catch(n){!async function(t={}){const{async:n=!1}=t;await new Promise((n=>{CE.push(e.createElement(IE,{resolve:n,...t}))}));!n&&CE.pop()}({title:"Failed To Copy",description:"Your browser does not support copying to clipboard, you can manually copy here.",value:t})}}function _E({image:t,setLoaded:n,setFailed:r,className:i,onClick:o,isPreview:s=!1}){const a=e.useRef(),[l,u]=e.useState(!1),c={onLoad:e=>{e.target.decode().then((()=>{n?.(!0),r?.(!1),u(!0)}))},onError:()=>(n?.(!0),r?.(!0),u(!0)),onClick:o};return E((()=>{a.current&&a.current.pause()})),t?/\.webm$/.test(t.full)&&!s?e.createElement("video",{ref:a,src:t.full,controls:!i,loop:!0,muted:!0,autoPlay:!s,className:i,...c}):e.createElement(e.Fragment,null,e.createElement("img",{src:t.preview,alt:"Preview failed to load",style:{display:l&&!i?"none":null},className:i}),!i&&!s&&e.createElement("img",{src:t.full,alt:"Image failed to load",className:i,style:{display:l?null:"none"},...c}),!s&&e.createElement("div",{className:"LoadingIndicator FlexCenter",ref:e=>{e&&(l?setTimeout((()=>e.classList.remove("Visible")),0):setTimeout((()=>e.classList.add("Visible")),0))}},e.createElement($,{className:"Spinner"}))):null}function kE({image:t,setLoaded:n,setFailed:r,className:i,onClick:o,isPreview:s=!1,notes:a=null}){const l=e.useRef(),[u,c]=e.useState(!1),h={onLoad:e=>{e.target.decode().then((()=>{n?.(!0),r?.(!1),c(!0)}))},onError:()=>(n?.(!0),r?.(!0),c(!0)),onClick:o};E((()=>{l.current&&l.current.pause()}));const[d,f]=(0,e.useState)(null);return(0,e.useEffect)((()=>{if(!u)return;const e=document.getElementById("modal-img");e&&f({actualWidth:e.naturalWidth,actualHeight:e.naturalHeight,renderedWidth:e.offsetWidth,renderedHeight:e.offsetHeight,widthMult:e.offsetWidth/e.naturalWidth,heightMult:e.offsetHeight/e.naturalHeight})}),[u]),t?/\.webm$/.test(t.full)&&!s?e.createElement("video",{ref:l,src:t.full,controls:!i,loop:!0,muted:!0,autoPlay:!s,className:i,...h}):e.createElement(e.Fragment,null,e.createElement("img",{src:t.preview,alt:"Preview failed to load",style:{display:u&&!i?"none":null},className:i}),!i&&!s&&e.createElement("img",{id:"modal-img",src:t.full,alt:"Image failed to load",className:i,style:{display:u?null:"none"},...h}),a&&d&&(!0===a?null:e.createElement("div",{className:"NotesContainer"},a.map((({x:t,y:n,width:r,height:i,body:o})=>e.createElement("div",{className:"Note",style:{left:t*d.widthMult,top:n*d.heightMult,width:r*d.widthMult,height:i*d.heightMult}},e.createElement("div",{className:"NoteBody"},o)))))),!s&&e.createElement("div",{className:"LoadingIndicator FlexCenter",ref:e=>{e&&(u?setTimeout((()=>e.classList.remove("Visible")),0):setTimeout((()=>e.classList.add("Visible")),0))}},e.createElement($,{className:"Spinner"}))):null}function SE({src:t}){return e.createElement("div",{className:"SwfPlayer FlexCenter AbsoluteCover",style:{background:"var(--primary-bg)"}},"SWF FILES CANNOT BE PLAYED ON SUCRALOSE")}function TE({startPost:t,posts:n,buttons:r}){const i=n.map((e=>({preview:e.sample?.url??e.preview?.url??e.file?.url,full:e.file.url}))),o=e.useRef(),[s,a]=e.useState(n.indexOf(t)),l=n[s],u=Xw.useState((()=>Xw.get("modalState"))),[c,h]=e.useState(!1);e.useEffect((()=>{"open"!==u&&(c?CE.pop():(h(!0),Xw.set("modalState","open")))}),[u]),e.useEffect((()=>()=>{setTimeout((()=>{"open"===Xw.get("modalState")&&(window.history.back(),w.dispatch({type:y.UPDATE_PAGE}))}),0)}),[]),e.useEffect((()=>{o&&o.current.style.setProperty("--translation","0")}),[o,s]);const[d,f]=(0,e.useState)(null);(0,e.useEffect)((()=>{l.has_notes?(f(!0),yE.request("notes",{"search[post_id]":l.id}).then((e=>e?(console.log(e),f(e)):f(null)))):f(null)}),[s]);const g=e=>i[s+e]?(S(!1),I(!1),function(e){document.querySelector(`[src="${i[e].preview}"]`)?.scrollIntoView(),a(e)}(s+e)):p.showToast("No more images in this direction!","Failure"),[E,_]=e.useState(!0),[k,S]=e.useState(!1),[C,I]=e.useState(!1);b("keydown",(({key:e})=>{switch(e){case"Escape":return CE.pop();case"ArrowLeft":case"a":return g(-1);case"ArrowRight":case"d":return g(1);case"ArrowUp":case"w":return window.currentModalEvents?.vote(1);case"ArrowDown":case"s":return window.currentModalEvents?.vote(-1);case"f":return window.currentModalEvents?.favorite()}}),{dependencies:[s]});const N={onTouchStart:e=>{const t=e.touches[0].clientX;e.touches[0].clientY;let n=0;const r=e=>{n=e.touches[0].clientX-t,Math.abs(n)<50||(n<0?n+=50:n-=50,n/=window.innerWidth,n*=100,o.current.style.setProperty("--translation",n))};let i;document.addEventListener("touchmove",r),document.addEventListener("touchend",i=()=>{setTimeout((()=>{const e=parseFloat(o.current.style.getPropertyValue("--translation"));o.current.style.setProperty("--translation",e>5?"100":e<-5?"-100":"0"),document.removeEventListener("touchmove",r),document.removeEventListener("touchend",i),setTimeout((()=>{if(!o.current)return;const e=parseFloat(o.current.style.getPropertyValue("--translation"));e>=75?g(-1):e<=-75&&g(1)}),200)}),100)})}};return e.createElement("div",{ref:o,className:"ImageModal",onClick:e=>e.target===e.currentTarget&&CE.pop(),...N},e.createElement("div",{className:m("ImageContainer",[E,"Expanded"])},e.createElement(_E,{key:v(),image:i[s-1],setLoaded:S,setFailed:I,className:"Previous",onClick:()=>g(-1),isPreview:!0}),i[s].full.endsWith(".swf")?e.createElement(SE,{src:i[s].full}):e.createElement(kE,{key:v(),image:i[s],setLoaded:S,setFailed:I,notes:d}),e.createElement(_E,{key:v(),image:i[s+1],setLoaded:S,setFailed:I,className:"Next",onClick:()=>g(1),isPreview:!0})),e.createElement("div",{className:"Footer"},e.createElement("div",{className:m("Button Arrow Left",[!i.length||!s,"Disabled"]),onClick:()=>g(-1)},e.createElement(T,null),e.createElement(eb,null,"Previous Image")),e.createElement("div",{className:"Divider"}),r?.(n[s])??e.createElement(e.Fragment,null,e.createElement("div",{className:"Button",onClick:()=>_(!E)},E?e.createElement(O,null):e.createElement(P,null),e.createElement(eb,null,E?"Compress":"Expand")),e.createElement("div",{className:"Button"},e.createElement(D,null),e.createElement(eb,null,"Copy URL")),e.createElement(Db,{className:"Button",style:{display:"block",color:"white"},href:i[s].full},e.createElement(j,null),e.createElement(eb,null,"Open In New Tab"))),e.createElement("div",{className:"Divider"}),e.createElement("div",{className:m("Button Arrow Right",[!i.length||s+1>=i.length,"Disabled"]),onClick:()=>g(1)},e.createElement(z,null),e.createElement(eb,null,"Next Image"))))}class CE extends e.Component{static push(e){this.instance.setState({stack:[...this.instance.state.stack,e]})}static async pop(){const{stack:e,closing:t}=this.instance.state,n=e[e.length-1];e.length&&n&&(this.instance.setState({closing:[...t,n]}),await new Promise((e=>setTimeout(e,150))),this.instance.setState({stack:this.instance.state.stack.filter((e=>e!==n)),closing:this.instance.state.closing.filter((e=>e!==n))}))}componentDidMount(){CE.instance=this}componentDidUpdate(e,t,n){document.documentElement.style.overflowY=this.state.stack.length?"hidden":null}handleBackdropClick(e){if(e.target!==e.currentTarget)return;const{stack:t}=this.state;if(t[t.length-1]&&"function"==typeof t[t.length-1].props?.onBackdropClick)return t[t.length-1].props.onBackdropClick();CE.pop().catch(console.error.bind(console,"Failed to pop modal!"))}render(){const{stack:t,closing:n}=this.state;return e.createElement("div",{className:"ModalStack"+(t.length>n.length?" Active":"")},t.map(((r,i)=>e.createElement(wE,null,e.createElement("div",{className:"ModalContainer"+(~n.indexOf(r)||i<t.length-1?" Closing":""),key:i,onMouseDown:this.handleBackdropClick.bind(this),style:{zIndex:10*i}},r)))))}constructor(...e){super(...e),bE(this,"state",{stack:[],closing:[]})}}function IE(t){const{title:n="",description:r="",yesText:i="Confirm",noText:o="Cancel",yesColor:s="",noColor:a="",value:l="",onChange:u=null,rich:c=!1,resolve:h,id:d}=t,[f,p]=e.useState(!1),[m,g]=e.useState(!1);return e.createElement("div",{className:"StringModal PrimaryBg"},e.createElement("div",{className:"Title",dangerouslySetInnerHTML:{__html:n}}),e.createElement("div",{className:"Description",dangerouslySetInnerHTML:{__html:r}}),e.createElement("input",{id:d,className:"Field TertiaryBg",defaultValue:l,onChange:u}),e.createElement("div",{className:"Footer"},e.createElement("div",{className:"Button TertiaryBg",onClick:()=>(h(null),p(!0)),style:{backgroundColor:a}},f?e.createElement(Jw,null):o),e.createElement("div",{className:"Button TertiaryBg",onClick:()=>(h(document.getElementById(d).value),g(!0)),style:{backgroundColor:s}},m?e.createElement(Jw,null):i)))}bE(CE,"instance",void 0);var OE=n(294);function NE(){return window.location.pathname}const xE=class extends Qw{getCurrentRoute(){return NE()}getFormattedRoute(){return NE().split("?")[0].split("/").filter((e=>e&&"#"!==e))}static formatUri(e){return e}constructor(e,t){super(e,t),window.addEventListener("popstate",(()=>{e.dispatch({type:y.UPDATE_PAGE}),"#sign_in"!==window.location.hash||CE.instance.state.stack.length||CE.push(OE.createElement(dw,null))}))}},PE=new xE(w,{[y.UPDATE_ROUTE]:({path:e,replace:t=!1})=>{e=xE.formatUri(e),window.history[t?"replaceState":"pushState"]({last:NE(),lastTime:Date.now()},null,e),w.dispatch({type:y.UPDATE_PAGE})},[y.UPDATE_PAGE]:()=>{}}),AE=n.p+"assets/media/Chevron.svg";function RE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DE;class LE extends e.Component{close(){LE.activeWrapper&&LE.activeWrapper.setState({menu:null,open:!1})}componentDidMount(){document.addEventListener("click",this.docClickEv)}componentWillUnmount(){document.removeEventListener("click",this.docClickEv)}render(){return e.createElement(wE,null,e.createElement("div",{className:"ContextMenu",...this.props,ref:this.ref},this.props.children))}constructor(...t){super(...t),RE(this,"ref",(0,e.createRef)()),RE(this,"docClickEv",(e=>{!this.ref.current||this.ref.current.contains(e.target)||document.getElementsByClassName("ContextMenu")[0].contains(e.target)||this.close()}))}}LE.Handler=(RE(DE=class extends e.Component{render(){return e.createElement(wE,null,e.createElement("div",{ref:LE.Handler.ref,className:"ContextMenuWrapper MainContextMenuContainer"}))}},"ref",(0,e.createRef)()),DE),LE.Wrapper=class extends e.Component{get publicProps(){return function(e,...t){const n=Object.assign({},e);for(const e of t)delete n[e];return n}(this.props,"menu","openOnClick","wrapperClassName","overrideX","overrideY")}async componentDidUpdate(e,t,n){if(LE.activeWrapper!==this||this.state.open||(LE.activeWrapper=null),this.state.open&&this.ref.current){const[e]=document.getElementsByClassName("ContextMenuContainer");if(e){const t=e.getBoundingClientRect();e.style.transform=t.y+t.height>window.innerHeight?`translateY(${window.innerHeight-(t.y+t.height)-20}px)`:null}}}render(){return this.props.menu?e.createElement(wE,null,e.createElement("div",{ref:this.ref,className:"ContextMenuWrapper "+(this.props.wrapperClassName||""),onClick:this.props.openOnClick?e=>{"function"!=typeof e.target.onClick&&this.handleContextMenu(this.props.openOnClick())}:null,...this.publicProps,onContextMenu:this.handleContextMenu},this.props.children,e.createElement(wE,null,this.state.open?this.state.menu:null))):this.props.children}constructor(...t){super(...t),RE(this,"state",{menu:null,open:!1}),RE(this,"ref",(0,e.createRef)()),RE(this,"handleContextMenu",(t=>{if("function"==typeof t.preventDefault&&t.preventDefault(),LE.activeWrapper){if(this.ref.current.contains(LE.activeWrapper.ref.current)&&LE.activeWrapper.props.menu!==this.props.menu)return;LE.activeWrapper.setState({menu:null,open:!1})}LE.activeWrapper=this;let n=this.props.menu.props.overrideY?.()||t.clientY,r=this.props.menu.props.overrideX?.()||t.clientX;for(;r+200>window.innerWidth;)r-=10;this.setState({menu:Zw.createPortal(e.createElement("div",{className:"ContextMenuContainer SecondaryBg",...this.publicProps,style:{position:"fixed",top:n,left:r}},this.props.menu),LE.Handler.ref.current),open:!0})}))}},LE.Item=class extends e.Component{render(){const t=Object.assign({},this.props);return delete t.autoClose,delete t.icon,e.createElement("div",{className:"ContextMenuItem",...t,onClick:this.handleClick},this.props.icon,this.props.children)}constructor(...e){super(...e),RE(this,"handleClick",(e=>{e.preventDefault(),e.stopPropagation(),LE.activeWrapper&&this.props.autoClose&&LE.activeWrapper.setState({menu:null,open:!1}),this.props.onClick&&this.props.onClick(this)}))}},LE.SubMenuItem=class extends e.Component{mount(e){if(!e)return;const t=e.getBoundingClientRect();e.style.transform=t.y+t.height>window.innerHeight?`translateY(${window.innerHeight-(t.y+t.height)-20}px)`:null,t.x+t.width>window.innerWidth&&(e.style.left="unset",e.style.right="100%")}render(){const t=Object.assign({},this.props);return delete t.autoClose,delete t.label,delete t.icon,e.createElement("div",{className:"ContextMenuItem HasSubMenu",...t,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.props.icon,this.props.label," ",e.createElement("img",{className:"ContextSubMenuChevron",src:AE}),this.state.open?e.createElement("div",{className:"ContextMenuContainer SubMenuContainer SecondaryBg",ref:this.mount},e.createElement("div",{className:"ContextMenu SubMenu"},this.props.children)):null)}constructor(...e){super(...e),RE(this,"state",{open:!1}),RE(this,"handleMouseEnter",(()=>{this.setState({open:!0})})),RE(this,"handleMouseLeave",(()=>{this.setState({open:!1})})),RE(this,"handleClick",(e=>{e.target===e.currentTarget&&(LE.activeWrapper&&this.props.autoClose&&LE.activeWrapper.setState({menu:null,open:!1}),this.props.onClick&&this.props.onClick(this))}))}},LE.ToggleItem=class extends e.Component{componentDidMount(){this.setState({checked:this.props.checked})}render(){const t=Object.assign({},this.props);return delete t.autoClose,delete t.callback,e.createElement("div",{className:"ContextMenuItem ToggleItem",...t,onClick:this.callback},e.createElement("div",{className:"ToggleBox"+(this.state.checked?" Checked":"")},this.state.checked?e.createElement("div",{className:"ToggleBoxTick"}):null),this.props.children)}constructor(...e){super(...e),RE(this,"state",{checked:!1}),RE(this,"callback",(()=>{LE.activeWrapper&&this.props.autoClose&&LE.activeWrapper.setState({menu:null,open:!1});const e=!this.state.checked;this.props.callback&&this.props.callback(e),this.setState({checked:e})}))}},LE.Divider=class extends e.Component{render(){return e.createElement("div",{className:"ContextMenuDivider",...this.props})}};const ME=LE;var jE=n(294);let UE=!1;function FE(){const t=(0,e.useCallback)(i().debounce((()=>{UE||(UE=!0,CE.push(jE.createElement("div",{className:"BaseModal DarkReaderNoticeModal",style:{background:"var(--primary-bg)",padding:20}},jE.createElement("style",null,"h1 { margin-top: 0; }"),jE.createElement("h1",null,"Dark reader detected!"),jE.createElement("p",null,"This website is already respectful to your eyes, and Dark Reader may ruin the intended experience. Please disable dark reader on this site to see its intended design."),jE.createElement("h1",null,"How?"),jE.createElement("p",null,"Navigate to your extensions, and click the Dark Reader icon."),jE.createElement("img",{src:"https://i.imgur.com/W6sxhj4.png",alt:"1"}),jE.createElement("p",null,"Then press the site URI at the top-left, this will disable for only this website, keeping your eyes safe on other websites."),jE.createElement("img",{src:"https://i.imgur.com/3ENgzRS.png",alt:"2"}))))}),200),[]),n=(0,e.useCallback)((()=>{const[e]=document.getElementsByTagName("html");Object.values(e.attributes).some((e=>e.localName.startsWith("data-darkreader")))&&t()}),[]);return(0,e.useEffect)((()=>{n();const e=new MutationObserver((()=>{n()}));return e.observe(document.getElementsByTagName("html")[0],{attributes:!0}),()=>e.disconnect()}),[]),null}function zE(){return zE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zE.apply(this,arguments)}var BE=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",zE({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("circle",{cx:"12",cy:"12",r:"10"}),e.createElement("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.createElement("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}))}));BE.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},BE.displayName="Globe";const VE=BE;function $E(){return $E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$E.apply(this,arguments)}var WE=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",$E({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}))}));WE.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},WE.displayName="GitHub";const HE=WE;function qE(){return qE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qE.apply(this,arguments)}var KE=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",qE({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"}))}));KE.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},KE.displayName="Twitter";const GE=KE;function QE(){return QE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QE.apply(this,arguments)}var YE=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",QE({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),e.createElement("polyline",{points:"22,6 12,13 2,6"}))}));YE.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},YE.displayName="Mail";const XE=YE;function JE(){return JE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JE.apply(this,arguments)}var ZE=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",JE({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}))}));ZE.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},ZE.displayName="MessageSquare";const e_=ZE,t_=n.p+"assets/media/icon50x50.png",n_=n.p+"assets/media/TwemojiHeart.svg";function r_(){const t={website:()=>window.open("https://kinzoku.one/","_blank"),github:()=>window.open("https://github.com/metalloriff/","_blank"),twitter:()=>window.open("https://twitter.com/Metalloriff/","_blank"),email:()=>window.open("mailto:metalloriff@gmail.com","_blank"),discord:()=>EE("Metalloriff 💕🌈#2891")};return e.createElement("footer",null,e.createElement("div",{className:"Flex"},e.createElement("div",{className:"LeftSections"},e.createElement("div",{className:"HeadSection FlexCenter"},e.createElement("img",{className:"Logo",src:t_,alt:"Logo"}),e.createElement("div",null,e.createElement("h2",null,"Metalloriff"),e.createElement("div",null,"Made with ",e.createElement("img",{src:n_,alt:"♥",width:15,height:15})))),e.createElement("div",{className:"ContactSection Flex"},e.createElement("div",{className:"ContactEntry",onClick:t.website},e.createElement(VE,null),e.createElement(eb,null,"Website")),e.createElement("div",{className:"ContactEntry",onClick:t.github},e.createElement(HE,null),e.createElement(eb,null,"GitHub")),e.createElement("div",{className:"ContactEntry",onClick:t.twitter},e.createElement(GE,null),e.createElement(eb,null,"Twitter")),e.createElement("div",{className:"ContactEntry",onClick:t.email},e.createElement(XE,null),e.createElement(eb,null,"Email")),e.createElement("div",{className:"ContactEntry",onClick:t.discord},e.createElement(e_,null),e.createElement(eb,null,"Discord")))),e.createElement("div",{className:"MiddleSection"}),e.createElement("div",{className:"RightSections FlexCenter"},e.createElement("div",{className:"LinksSection"},e.createElement("a",{href:"https://github.com/Metalloriff/sucralose"},"Source Code"),e.createElement("a",{href:"https://feathericons.com/"},"Icons Used"),e.createElement("a",{href:"https://metalloriff.github.io/city-fog"},"Color Palette"),e.createElement("a",{href:"https://kinzoku.one/donate"},e.createElement("img",{src:n_,alt:"♥",width:15,height:15}),e.createElement("span",{style:{margin:"0 7px"}},"Donate"),e.createElement("img",{src:n_,alt:"♥",width:15,height:15})),e.createElement("div",{className:"Copyright"},"Copyright © ",(new Date).getFullYear()," Israel Boone")))))}var i_=n(294);function o_({value:e=null,children:t=null,onChange:n=(e=>{})}){const r={onChange:e=>{n(e.target.value)}};return i_.createElement("select",{className:"Dropdown",...r,defaultValue:e},t)}function s_({value:e,children:t}){return i_.createElement("option",{className:"DropdownItem",value:e},t)}var a_=n(294);function l_({forceUpdate:e}){return hE.getLocalUser()&&a_.createElement("div",{className:"Blacklists FlexCenter"},a_.createElement("h2",{className:"Label"},"Blacklist"),a_.createElement(o_,{value:hE.getLocalUser().currentBlacklist,onChange:t=>{if(t.startsWith("action.")){switch(t){case"action.create":CE.push(a_.createElement(qb,null));break;case"action.edit":w.dispatch({type:y.UPDATE_ROUTE,path:"/settings"})}return e()}hE.getLocalUser().currentBlacklist=t,hw.update(hw.doc("users",hE.getLocalUser().uid),{currentBlacklist:t}),w.dispatch({type:y.UPDATE_LOCAL_USER,user:hE.getLocalUser()})},key:v()},a_.createElement(s_,{value:"defaults.none"},"None"),(hE.getLocalUser().blacklists??[]).map((({name:e,tags:t},n)=>a_.createElement(s_,{key:n,value:n},e))),a_.createElement(s_,{value:"action.none"}),a_.createElement(s_,{value:"action.edit"},"EDIT BLACKLISTS"),a_.createElement(s_,{value:"action.create"},"CREATE NEW BLACKLIST")))}function u_(){return u_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u_.apply(this,arguments)}var c_=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",u_({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("circle",{cx:"12",cy:"12",r:"10"}),e.createElement("path",{d:"M16 16s-1.5-2-4-2-4 2-4 2"}),e.createElement("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),e.createElement("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"}))}));c_.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},c_.displayName="Frown";const h_=c_;function d_(){return d_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d_.apply(this,arguments)}var f_=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",d_({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),e.createElement("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),e.createElement("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"}))}));f_.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},f_.displayName="Box";const p_=f_;function m_(){return m_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m_.apply(this,arguments)}var g_=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",m_({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polygon",{points:"5 3 19 12 5 21 5 3"}))}));g_.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},g_.displayName="Play";const v_=g_;function y_(){return y_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y_.apply(this,arguments)}var w_=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",y_({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"}))}));w_.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},w_.displayName="ThumbsDown";const b_=w_;function E_(){return E_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E_.apply(this,arguments)}var __=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",E_({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))}));__.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},__.displayName="Plus";const k_=__;function S_(){return S_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S_.apply(this,arguments)}var T_=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",S_({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),e.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));T_.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},T_.displayName="PlusSquare";const C_=T_;function I_({postId:t}){const n=e.useRef();return e.createElement(Lb,{title:"Create New Set"},e.createElement("div",{className:"CreateSetModal",ref:n},e.createElement("div",{className:"FieldContainer"},e.createElement("h3",null,"Name"),e.createElement("input",{className:"Field",placeholder:"Ex - Epic Dragons"})),e.createElement("div",{className:"FieldContainer"},e.createElement("h3",null,"Short Name"),e.createElement("div",{className:"Note"},"The short name is used for the set's metatag name, or a unique identifier.",e.createElement("br",null),"It can only contain letters, numbers, and underscores."),e.createElement("input",{className:"Field",placeholder:"Ex - epic_dragons"})),e.createElement("div",{className:"FieldContainer"},e.createElement("h3",null,"Description"),e.createElement("textarea",{className:"Field",placeholder:"Note - Follows DText markdown formatting"})),e.createElement("div",{className:"FieldContainer"},e.createElement(Mb,{title:"Public",callback:null}),e.createElement("div",{className:"Note"},"Public sets will be visible to anyone.",e.createElement("br",null),"Private sets will only be visible to you.")),e.createElement("div",{className:"FieldContainer"},e.createElement("div",{className:"Button",onClick:async function(){const[r,i,o]=[...n.current.getElementsByClassName("Field")].map((e=>e.value)),s=n.current.querySelector(".SwitchItem > input").checked,a=await yE.request("post_sets",{"post_set[name]":r,"post_set[shortname]":i,"post_set[description]":o,"post_set[is_public]":s?1:0,"post_set[transfer_on_delete]":1,commit:"Create"},!0,{method:"POST"});if(a.errors)for(const t in a.errors)p.showToast(e.createElement("div",null,e.createElement("h4",null,t," errors"),e.createElement("ul",{style:{textAlign:"left"}},a.errors[t].map(((t,n)=>e.createElement("li",{key:n},t)))),e.createElement("p",null,"Click to dismiss.")),"",20);else await yE.request(`post_sets/${a.id}/add_posts`,{"post_ids[]":t},!0,{method:"POST"}),a.post_ids.push(t),(await hE.getLocalUser().getSets()).push(a),p.showToast("Successfully created set","Success"),await CE.pop()}},e.createElement(k_,null),"Create Set"))))}function O_(){return O_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O_.apply(this,arguments)}var N_=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",O_({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"}),e.createElement("path",{d:"M18.63 13A17.89 17.89 0 0 1 18 8"}),e.createElement("path",{d:"M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"}),e.createElement("path",{d:"M18 8a6 6 0 0 0-9.33-5"}),e.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}))}));N_.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},N_.displayName="BellOff";const x_=N_;function P_(){return P_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P_.apply(this,arguments)}var A_=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",P_({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("circle",{cx:"12",cy:"12",r:"10"}),e.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))}));A_.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},A_.displayName="HelpCircle";const R_=A_;function D_({children:t}){return e.createElement(ME.Wrapper,{menu:e.createElement(L_,{tag:t}),wrapperClassName:"TagItemContextMenuWrapper"},e.createElement(Db,{className:"TagItem",href:`/posts?search=${t}`},t))}function L_({tag:t}){const n={appendToSearch:()=>nb.handleSearch(nb.value.trim()+" "+t),subscribe:()=>{const n=hE.getLocalUser();n.subscriptions=n.subscriptions??[],n.subscriptions.push(t),hw.update(hw.doc("users",n.uid),{subscriptions:n.subscriptions}).then((()=>p.showToast(e.createElement("span",null,"Added ",e.createElement("b",null,t)," to subscribed tags")))).catch((e=>(console.error(e),p.showToast("An unknown error occurred","Failure"))))},unsubscribe:()=>{const n=hE.getLocalUser();n.subscriptions=n.subscriptions.filter((e=>e!==t)),hw.update(hw.doc("users",n.uid),{subscriptions:n.subscriptions}).then((()=>p.showToast(e.createElement("span",null,"Removed ",e.createElement("b",null,t)," from subscribed tags")))).catch((e=>(console.error(e),p.showToast("An unknown error occurred","Failure"))))},blacklist:()=>{},tagInfo:()=>{window.open(`https://e621.net/wiki_pages/${t}`,"_blank")}};return e.createElement(ME,null,e.createElement(ME.Item,{autoClose:!0,icon:e.createElement(k_,null),onClick:n.appendToSearch},"Append To Search Tags"),e.createElement(ME.Divider,null),hE.getLocalUser()?.signedIn&&e.createElement(e.Fragment,null,~(hE.getLocalUser().subscriptions??[]).indexOf(t.toLowerCase())?e.createElement(ME.Item,{autoClose:!0,icon:e.createElement(x_,null),onClick:n.unsubscribe},"Unsubscribe"):e.createElement(ME.Item,{autoClose:!0,icon:e.createElement(vb,null),onClick:n.subscribe},"Subscribe"),e.createElement(ME.Divider,null)),e.createElement(ME.Item,{autoClose:!0,icon:e.createElement(R_,null),onClick:n.tagInfo},"Tag Info"))}function M_({post:t}){const{id:n,description:r,sample:o,file:s,preview:a,fav_count:l,is_favorited:u,score:c,flags:h,created_at:d,rating:f,tags:p,pools:v}=t,y=o?.url??a?.url??s?.url,[w,b]=e.useState(""),[E,_]=e.useState("left"),[k,S]=e.useState([]),[T,C]=e.useState(!1),I=e.useMemo((()=>({text:t,children:n,onClick:r,tooltipText:i,tooltipSide:o,className:s})=>{const a={onClick:r,onMouseEnter:()=>(b(i),_(o??"left")),onMouseLeave:()=>b("")};return e.createElement("div",{className:m("Button","FlexCenter",s),...a},~k.indexOf(i)?e.createElement($,{className:"Spinner"}):n,t&&e.createElement("span",null,t))}),[k]);let O=!1;const N={toggleFavorite:()=>{S([...k,"Favorite"]);const e=()=>S(k.filter((e=>"Favorite"!==e)));u?yE.removeFavorite(n).then((()=>(t.is_favorited=!1,e()))):(yE.favorite(n).then((()=>(t.is_favorited=!0,e()))),N.vote(1))},vote:e=>{S([...k,"Upvote","Downvote"]),yE.vote(n,e).then((e=>(i().extend(t.score,e),S(k.filter((e=>!~["Upvote","Downvote"].indexOf(e)))))))},download:()=>{O||(O=!0,S([...k,"Download"]),g(s.url).then((()=>(S(k.filter((e=>"Download"!==e))),O=!1))))},openInNewTab:()=>window.open(`post/${n}`,"_blank")},x=p.artist.indexOf("conditional_dnp");return~x&&p.artist.splice(x,1),y?e.createElement(B_.Consumer,null,(r=>e.createElement("div",{className:"Post"},e.createElement("div",{className:"PostHeader"},"Artist",p.artist.length>1?"s":null,e.createElement("div",{className:"Divider"}),p.artist.length?p.artist.map(((t,n)=>e.createElement(D_,{key:n},t))):e.createElement("span",{style:{opacity:.65}},"unknown")),!T&&"swf"!==s.ext&&e.createElement("div",{className:"Preview Flex Loading"},e.createElement(Jw,null)),"swf"===s.ext?e.createElement(ME.Wrapper,{menu:e.createElement(j_,{post:t})},e.createElement("div",{className:"VideoOverlay",style:{pointerEvents:"none"}},e.createElement(p_,null),e.createElement("h2",{style:{marginLeft:5}},"Flash Game")),e.createElement("div",{className:"Preview AbsoluteCover",onClick:()=>CE.push(e.createElement(TE,{startPost:t,posts:r.posts.filter(z_),buttons:t=>e.createElement(U_,{post:t})}))})):e.createElement(ME.Wrapper,{menu:e.createElement(j_,{post:t})},e.createElement("img",{src:y,className:"Preview",alt:"Preview",onLoad:()=>C(!0),onClick:()=>CE.push(e.createElement(TE,{startPost:t,posts:r.posts.filter(z_),buttons:t=>e.createElement(U_,{post:t})}))})),"webm"===s.ext&&e.createElement("div",{className:"VideoOverlay"},e.createElement(v_,null)),e.createElement("div",{className:"PostFooter","data-url":y},w&&e.createElement("div",{className:m("FooterTooltip",["right"===E,"RightSide"])},w),e.createElement("div",{className:"VotesContainer"},e.createElement("div",{className:"Flex"},e.createElement(I,{text:c.up,tooltipText:"Upvote",className:1===c.our_score?"Active":"",onClick:N.vote.bind(null,1)},e.createElement(kb,null)),e.createElement(I,{text:-c.down,tooltipText:"Downvote",className:-1===c.our_score?"Active":"",onClick:N.vote.bind(null,-1)},e.createElement(b_,null))),e.createElement("div",{className:"VotesTally"},e.createElement("div",{className:"UpVotes",style:{width:c.up/(c.up+-c.down)*100+"%"}}))),e.createElement(I,{text:l,tooltipText:"Favorite",className:u?"Favorited":"",onClick:N.toggleFavorite},e.createElement(bb,null)),e.createElement("div",{style:{position:"absolute",right:5},className:"Flex"},v?.length>0&&e.createElement(ME.Wrapper,{menu:e.createElement(F_,{pools:v})},e.createElement(I,{tooltipText:"Pools",tooltipSide:"right",onClick:e=>(e=i().cloneDeep(e),setTimeout((()=>e.currentTarget.parentElement.dispatchEvent(new MouseEvent("contextmenu",{...e,bubbles:!0}))),0))},e.createElement(Sw,null))),e.createElement(Db,{href:`post/${n}`},e.createElement(I,{tooltipText:"View Post",tooltipSide:"right"},e.createElement(j,null)))))))):null}function j_({post:t}){const[n,r]=(0,e.useState)([]);(0,e.useEffect)((()=>{const e=hE.getLocalUser();e&&e.getSets().then((e=>r(e)))}));const[,i]=e.useReducer((e=>e+1),0);return e.createElement(ME,null,e.createElement(ME.Item,{icon:e.createElement(D,null),onClick:()=>EE(t.id),autoClose:!0},"Copy Post ID"),e.createElement(ME.Item,{icon:e.createElement(D,null),onClick:()=>EE(`https://e621.net/posts/${t.id}`),autoClose:!0},"Copy e621.net Link"),e.createElement(ME.Item,{icon:e.createElement(Hw,null),onClick:()=>(nE.props.backgroundImage.url.value=t.file.url,nE.save()),autoClose:!0},"Set As Background"),e.createElement(ME.Divider,null),e.createElement(ME.SubMenuItem,{label:"Sets",icon:e.createElement(pb,null)},!!n.length&&e.createElement(e.Fragment,null,n.map(((n,r)=>e.createElement(ME.Item,{className:m("ContextMenuItem","SetCmItem",[!!~n.post_ids.indexOf(t.id),"Active"]),key:n.id,icon:e.createElement(k_,null),onClick:async()=>(await(async e=>{const n=hE.getLocalUser()?.getSets?.()[e],r=n.post_ids.indexOf(t.id);-1!==r?(await yE.request(`post_sets/${n.id}/remove_posts`,{"post_ids[]":t.id},!0,{method:"POST"}),n.post_ids.splice(r,1)):(await yE.request(`post_sets/${n.id}/add_posts`,{"post_ids[]":t.id},!0,{method:"POST"}),n.post_ids.push(t.id))})(r),i())},n.name))),e.createElement(ME.Divider,null)),e.createElement(ME.Item,{icon:e.createElement(C_,null),autoClose:!0,onClick:()=>CE.push(e.createElement(I_,{postId:t.id}))},"New Set")))}function U_({post:t}){const{id:n,is_favorited:r,score:o,fav_count:s,file:a,tags:l}=t,[,u]=e.useReducer((e=>e+1),0),c={favorite:()=>{r?yE.removeFavorite(n).then((()=>(t.is_favorited=!1,u()))):(yE.favorite(n).then((()=>(t.is_favorited=!0,u()))),c.vote(1))},vote:e=>yE.vote(n,e).then((e=>(i().extend(t.score,e),u()))),download:()=>g(a.url)};return window.currentModalEvents=c,e.createElement(e.Fragment,null,e.createElement("div",{className:"Button Flex",style:{alignItems:"center",justifyContent:"center",color:1===o.our_score?"var(--green)":null},onClick:c.vote.bind(null,1)},e.createElement(kb,null),e.createElement("div",{style:{marginLeft:5}},o.up),e.createElement(eb,{style:{color:"var(--txt-color)"}},"Upvote")),e.createElement("div",{className:"Button Flex",style:{alignItems:"center",justifyContent:"center",color:-1===o.our_score?"var(--red)":null},onClick:c.vote.bind(null,-1)},e.createElement(b_,null),e.createElement("div",{style:{marginLeft:5}},-o.down),e.createElement(eb,{style:{color:"var(--txt-color)"}},"Downvote")),e.createElement("div",{className:"Button Flex",style:{alignItems:"center",justifyContent:"center",color:r?"var(--pink)":null},onClick:c.favorite},e.createElement(bb,null),e.createElement("div",{style:{marginLeft:5}},s),e.createElement(eb,{style:{color:"var(--txt-color)"}},"Favorite")),e.createElement("div",{className:"ModalArtistsList FlexCenter"},e.createElement("div",{className:"ArtistTag MainTag"},"Artists - "),l.artist.filter((e=>"conditional_dnp"!==e)).map((t=>e.createElement("a",{className:"ArtistTag",key:t,href:`/posts?search=${t}`},t)))))}function F_({pools:t}){const[n,r]=e.useState(!1),[i,o]=e.useState(null);return e.useEffect((()=>{Promise.all(t.map((e=>yE.request(`/pools/${e}`)))).then((e=>{o(e),r(!0)}))}),[t]),n?e.createElement(ME,null,i.map((t=>e.createElement(ME.Item,{key:t.id},e.createElement("a",{href:`/posts?search=pool:${t.id}`},e.createElement("div",null,e.createElement("div",null,e.createElement("b",null,t.name.replaceAll("_"," "))),e.createElement("div",{style:{color:"var(--secondary-color)"}},t.post_count," post",1!==t.post_count&&"s"))))))):e.createElement(ME,null,e.createElement(ME.Item,null,e.createElement(Jw,null)))}function z_(e,t){const n=hE.getLocalUser();if(!n)return;const r=parseInt(n.currentBlacklist),i=n?.blacklists?.[r]??[];if(r>-1){if(!i)return p.showToast("Warning! There was an error finding your blacklist, no posts are filtered currently.","Failure"),!0;const t=Object.values(e.tags).flat().map((e=>e.toLowerCase())),n=i.tags.split("\n").map((e=>e.toLowerCase()));return t.push(`rating:${e.rating}`),!n.some((e=>e.split(" ").filter(Boolean).every((e=>t.includes(e)))))}return!0}let B_=e.createContext({}),V_=performance.now(),$_=!1,W_=PE.getFormattedRoute()[0],H_=null;function q_({prependedTags:t,emptyPlaceholder:n=null,request:r=null,pagingDisabled:o=!1}){const[s,a]=e.useState([]),[l,u]=e.useState(!0),[c,h]=e.useState(Xw.get("search")),[d,f]=e.useState(PE.getFormattedRoute()[0]),[p,g]=e.useState(r),v=Xw.useState((()=>Xw.get("search"))),E=Xw.useState((()=>Xw.get("page"))),[_,k]=(0,e.useState)(Math.round(window.innerWidth/480));b("resize",(()=>{k(Math.round(window.innerWidth/480))}),{target:window}),console.log(_),w.useForceUpdater(y.UPDATE_LOCAL_USER),e.useEffect((()=>{u(!0),a([])}),[v,t]),e.useEffect((()=>{$_||o||u(!0)}),[E]),e.useEffect((()=>{const n=parseInt(E||1),o=[v,t].join(" ").trim();i().isArray(p?.[1]?.tags)&&(p[1].tags=p[1].tags.join(" ").trim()),JSON.stringify(p)!==JSON.stringify(r)&&(!l&&u(!0),g(r)),l&&setTimeout((async()=>{r&&!r[1].page&&(r[1].page=n),r&&!r[1].tags&&(r[1].tags=o);let l="posts";const p={tags:o,page:n},m=hE.getLocalUser();t!==`favoritedby:${m?.e621User?.name}`||v||(l="favorites",delete p.tags);const g=r??[l,p];if(i().isEqual(H_,g)&&W_===PE.getFormattedRoute()[0])return u(!1);const y=hE.getLocalUser()?.e621User?.tagQueryLimit??40,w=[];let b=[];if("favorites"===l)b=(await yE.request(...g)).posts;else{const t=function(t){let n=y;const r=[];let i=t[1].tags||"";if("string"!=typeof i&&(i=i.join(" ")),i=i.split(" ").filter(Boolean),i.length>=y){for(;n<=i.length+y;)r.push(i.slice(n-y,n).join(" ")),n+=y;localStorage.getItem("chunk-tag-warning")||(CE.push(e.createElement(Lb,{title:"Tag Warning!"},"Your tag query is too large to be processed by the server.",e.createElement("br",null),"e621 has a limit of ",y," tags per request,",e.createElement("br",null),"but Sucralose attempts to chunk your tag query into multiple requests.",e.createElement("br",null),e.createElement("br",null),"Because of this, your tag query will be split into ",r.length," requests.",e.createElement("br",null),e.createElement("br",null),"This will drastically increase the amount of time it takes to",e.createElement("br",null),"process your requests, and may interfere with sorting.",e.createElement("br",null),e.createElement("br",null),"It's recommended that you reduce your search tags, blacklists, or subscribed tag count.")),localStorage.setItem("chunk-tag-warning","1")),t[1].tags=r}else t[1].tags=[t[1].tags||""],localStorage.removeItem("chunk-tag-warning");return t}(g);for(let e=0;e<t[1].tags?.length;e++){const n=t[1].tags[e],r=i().cloneDeep(t);r[1].tags=n,r[1].limit=Math.max(5,(m?.e621User?.per_page??50)/t[1].tags.length);const o=await yE.request(...r);w.push(...o.posts??[])}b=g[1].tags.length>1?w.filter(((e,t)=>w.indexOf(e)===t)).sort(((e,t)=>e.created_at<t.created_at?1:-1)):w}u(!1),$_=!1,n>1&&!b.length?(Xw.set("page",n-1,{pushHistory:!1}),$_=!0):H_=g;const E=o!==c||PE.getFormattedRoute()[0]!==d||r?b:[...s,...b];a(E.filter(((e,t)=>E.findIndex((t=>t&&t.id===e.id))===t))),h(o),f(PE.getFormattedRoute()[0])}),0)}),[l,r,p,v,E]),b("scroll",(()=>{if(o)return;if(performance.now()-V_<2e3||l||!s?.length||$_||document.querySelector(".FetchingStateModal.Active"))return;const e=document.documentElement;e.scrollTop>=e.scrollHeight-window.innerHeight-100&&(Xw.set("page",parseInt(Xw.get("page",1))+1,{pushHistory:!1}),V_=performance.now())}),{dependencies:[l,s,r,$_]});const S=s.filter(z_);return e.createElement(B_.Provider,{value:{posts:s}},e.createElement("div",{className:"Posts",style:{"--post-column-count":_>3?_:3}},e.createElement("h2",{className:"PageLabel"},uk.hash),!l&&!S?.length&&e.createElement("div",{className:"NoPosts"},e.createElement("div",{className:"Placeholder"},n??e.createElement(e.Fragment,null,e.createElement("h2",null,"No posts found."),e.createElement("div",null,"Check your search tags, and ensure you've made no typos."))),e.createElement(h_,null)),e.createElement("div",{className:"Items"},S?.map((t=>e.createElement(M_,{post:t,key:t.id})))),$_&&e.createElement("div",{className:"ReachedEndPlaceholder FlexCenter"},e.createElement("h2",null,"You've reached the end of your search."),e.createElement(h_,null)),e.createElement("div",{className:m("FetchingStateModal",[l,"Active"])},e.createElement(Jw,null))))}function K_(e){return e.toUTCString({year:"numeric",month:"2-digit",day:"2-digit"})}function G_(e){const t=new Date(e);return t.setDate(t.getDate()+1),K_(t)}function Q_(){(new Date).setHours(0,0,0,0);const[t,n]=e.useState(new Date(Xw.get("date")??new Date)),[,r]=(0,e.useReducer)((e=>e+1),0),[o,s]=(0,e.useState)(Xw.get("range")??"day");return e.createElement("div",{className:"PostsPage"},e.createElement(Wb,{hasSearch:!1}),e.createElement("div",{className:"DatePicker"},e.createElement("h2",null,"Date"),e.createElement("input",{type:"date",defaultValue:new Date(t).toISOString().split("T")[0],onInput:i().debounce((e=>{const t=new Date(e.target.value);n(t),Xw.set("date",K_(t),{pushHistory:!1})}),2e3)})),e.createElement("div",{className:"FlexCenter"},e.createElement("h2",{className:"Label",style:{marginRight:10}},"Range"),e.createElement(o_,{value:o,onChange:e=>{Xw.set("range",e,{pushHistory:!1}),s(e)}},e.createElement(s_,{value:"day"},"Day"),e.createElement(s_,{value:"week"},"Week"),e.createElement(s_,{value:"month"},"Month"))),e.createElement(l_,{forceUpdate:r}),hE.getLocalUser()&&e.createElement(q_,{request:["popular",{date:G_(t),scale:o,tags:"",page:"1"}],pagingDisabled:!0}))}function Y_({id:t}){const[n,r]=e.useState(null),i=hE.useState((()=>hE.getLocalUser()));return function(t,n,r=!1,i=[]){e.useEffect((()=>{const e=setInterval(t,n);return r&&t(),()=>clearInterval(e)}),i)}((()=>{yE.request(`posts/${t}/comments`).then((e=>{const t=(new DOMParser).parseFromString(e.html,"text/html");r([...t.getElementsByClassName("comment")].map((t=>({id:t.dataset.commentId,userId:t.dataset.creatorId,username:t.dataset.creator,score:parseInt(t.dataset.score),isDeleted:"true"===t.dataset.isDeleted,body:t.querySelector(".content > .body")?.innerHTML,avatarPost:e.posts[t.querySelector(".avatar > .placeholder")?.dataset.id],timestamp:t.querySelector("time")?.dateTime}))))}))}),1e4,!0),e.createElement("div",{className:"PostComments"},null===n?e.createElement(Jw,null):0===n.length?e.createElement("div",{className:"NoComments"},e.createElement("h1",null,"No comments here.")):e.createElement("div",{className:"Comments"},n.map((t=>e.createElement("div",{className:"Comment",key:t.id},e.createElement("div",{className:"UserSection"},e.createElement("div",{className:"AvatarContainer"},e.createElement("div",{className:"AvatarPlaceholder FlexCenter"},e.createElement(xw,null)),t.avatarPost?e.createElement(Db,{href:`/post/${t.avatarPost?.id??"not_found"}`},e.createElement("img",{className:m("Avatar",["e"===t.avatarPost?.rating,"NSFW"]),src:t.avatarPost?.cropped_url,onError:({target:e})=>e.src=t.avatarPost?.preview_url,alt:""})):null)),e.createElement("div",{className:"BodySection"},e.createElement(Db,{href:`/user/${t.userId}`},e.createElement("div",{className:"Username"},t.username)),e.createElement("div",{className:"Body",dangerouslySetInnerHTML:{__html:t.body}})))))),i?.e621User&&e.createElement("div",{className:"CommentCreatorSection Comments"},e.createElement("div",{className:"Comment"},e.createElement("div",{className:"UserSection"},e.createElement("div",{className:"AvatarContainer"},e.createElement("div",{className:"AvatarPlaceholder FlexCenter"},e.createElement(xw,null)),i.e621User.avatarPost?e.createElement(Db,{href:`#post/${i.e621User.avatarPost?.id??"not_found"}`},e.createElement("img",{className:m("Avatar",["e"===i.e621User.avatarPost?.rating,"NSFW"]),src:i.e621User.avatarPost?.cropped_url,onError:({target:e})=>e.src=i.e621User.avatarPost?.preview_url,alt:""})):null)),e.createElement("div",{className:"BodySection Flex"},e.createElement("textarea",{className:"Body",placeholder:"This doesn't do anything yet. I got lazy."})))))}class X_ extends e.Component{componentDidMount(){this.setState({active:0})}render(){const t=e.Children.toArray(this.props.children);return e.createElement("div",null,e.createElement("div",{className:"TabsList"},this.props.tabs.filter(Boolean).map(((t,n)=>e.createElement("span",{key:t,className:"TabItem"+(n===this.state.active?" Active":""),onClick:()=>{this.setState({active:n}),this.props.onChange&&this.props.onChange(t,n,this)}},e.createElement("span",{className:"TabItemTitle"},t),e.createElement("div",{className:"TabItemBorder"}))))),t[this.state.active])}constructor(...e){super(...e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"state",{active:null})}}function J_({id:t}){const[n,r]=e.useState(null),[o,s]=e.useState(!1),[,a]=e.useReducer((e=>e+1),0),l=hE.useState((()=>hE.getLocalUser()));e.useEffect((()=>{yE.request(`posts/${t}`).then((e=>e?.post?r(e.post):s(!0))).catch((e=>(console.error(e),s(!0))))}),[l]);const u={toggleFavorite:()=>{n.is_favorited?yE.removeFavorite(t).then((()=>(n.is_favorited=!1,a()))):yE.favorite(t).then((()=>(n.is_favorited=!0,a())))},vote:e=>yE.vote(t,e).then((e=>(i().extend(n.score,e),a())))};return e.createElement("div",{className:"PostPage"},e.createElement(Wb,null),n?e.createElement("div",{className:"PostBody"},e.createElement("div",{className:"ImageContainer"},e.createElement("img",{className:"Image",src:n.file.url,onError:({target:e})=>e.outerHTML=e.outerHTML.replace("img","video"),loop:!0,controls:!0,alt:"Post Image"})),e.createElement("div",{className:"PostBodyMain"},e.createElement("div",{className:"Button",style:{color:1===n.score.our_score?"var(--primary-color)":null},onClick:u.vote.bind(null,1)},e.createElement(kb,null),e.createElement("div",null,n.score.up)),e.createElement("div",{className:"Button",style:{color:-1===n.score.our_score?"var(--primary-color)":null},onClick:u.vote.bind(null,-1)},e.createElement(b_,null),e.createElement("div",null,-n.score.down)),e.createElement("div",{className:"Button",style:{color:n.is_favorited?"var(--red)":null},onClick:u.toggleFavorite},e.createElement(bb,null),e.createElement("div",null,n.fav_count))),n.description&&e.createElement("div",{className:"PostDescriptionContainer Flex"},e.createElement("div",{className:"PostDescription"},n.description)),e.createElement(X_,{tabs:["Comments","Tags","Details",n.pools.length>0&&"Pool"]},e.createElement(Y_,{id:t}),e.createElement("div",{className:"TagsList"},Object.keys(n.tags).filter((e=>n.tags[e].length)).reverse().map((t=>e.createElement("div",{className:"TagCategory",key:t},e.createElement("h2",null,t," - ",n.tags[t].length),e.createElement("div",{className:"Tags"},n.tags[t].map(((t,n)=>e.createElement(D_,{key:n},t)))))))),e.createElement("div",{className:"PostDetails Flex"},e.createElement("div",null,e.createElement("div",{className:"Entry"},e.createElement("h2",null,"Post ID"),e.createElement("div",null,"#",t)),e.createElement("div",{className:"Entry"},e.createElement("h2",null,"Post MD5 Hash"),e.createElement("div",null,n.file.md5)),e.createElement("div",{className:"Entry"},e.createElement("h2",null,"Creation Date"),e.createElement("div",null,n.created_at)),e.createElement("div",{className:"Entry"},e.createElement("h2",null,"Size"),e.createElement("div",null,function(e,t=2){if(0===e)return"N/A";const n=t<0?0:t,r=[" bytes","KB","MB","GB","TB"],i=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,i)).toFixed(n).toLocaleString()+(r[i]??r[r.length-1])}(n.file.size))),e.createElement("div",{className:"Entry"},e.createElement("h2",null,"Width"),e.createElement("div",null,n.file.width," pixels")),e.createElement("div",{className:"Entry"},e.createElement("h2",null,"Height"),e.createElement("div",null,n.file.height," pixels")),e.createElement("div",{className:"Entry"},e.createElement("h2",null,"Sources"),e.createElement("div",null,n.sources.map(((t,n)=>e.createElement("div",{key:n,style:{marginTop:10}},e.createElement("a",{href:t},t)))))))),e.createElement(q_,{prependedTags:`pool:${n.pools[0]}`}))):e.createElement("div",null))}var Z_=n(294);const ek={Default:"",Random:"order:random",Score:"order:score",FavCount:"order:favcount",TagCount:"order:tagcount",NewestFirst:"order:id_desc",OldestFirst:"order:id",Resolution:"order:mpixels",FileSize:"order:filesize"};function tk({onChange:e}){return Z_.createElement("div",{className:"Order FlexCenter"},Z_.createElement("h2",{className:"Label"},"Order"),Z_.createElement(o_,{onChange:e},Object.keys(ek).map((e=>Z_.createElement(s_,{key:e,value:ek[e]},e)))))}var nk=n(294);function rk({search:t=null,searchPlaceholder:n,emptyPlaceholder:r=null}){const i=decodeURIComponent(window.location.href.split("search=")?.[1]);w.useForceUpdater(y.UPDATE_ROUTE);const[o,s]=(0,e.useReducer)((e=>e+1),0),[a,l]=(0,e.useState)(null),[u,c]=(0,e.useState)(null);return(0,e.useEffect)((()=>(i.startsWith("pool:")?yE.request(`/pools/${i.split(":")[1]}`).then((e=>{l(e)})):l(null),()=>l(null))),[i]),nk.createElement("div",{className:"PostsPage"},nk.createElement(Wb,{searchPlaceholder:n}),nk.createElement(l_,{forceUpdate:s}),"order:rank"!==t&&nk.createElement(tk,{onChange:c}),a&&nk.createElement("div",{className:"PoolInfo"},nk.createElement("h2",{className:"Name"},nk.createElement("span",null,a.name.split("_").join(" "))," by ",nk.createElement("a",{href:`/posts?search=${a.creator_name}`},a.creator_name)),nk.createElement("p",{className:"Description"},a.description)),hE.getLocalUser()&&nk.createElement(q_,{key:t,prependedTags:[t,u].filter(Boolean).join(" "),emptyPlaceholder:r}))}let ik=Date.now();function ok({options:t={}}){const[n,r]=e.useState([]),[i,o]=e.useState(!0),[s,a]=e.useState(""),[l,u]=e.useState(window.location.hash),c=Xw.useState((()=>Xw.get("page")))||1,h=Xw.useState((()=>Xw.get("search")))||"";return e.useEffect((()=>{yE.request("post_sets",{commit:"Search",page:c,"search[order]":"update","search[name]":`*${h}*`,...t}).then((e=>{if(o(!1),!Array.isArray(e))return;const t=h===s&&PE.getFormattedRoute()[0]===l?[...n,...e]:e;r(t.filter(((e,n)=>t.findIndex((t=>t&&t.id===e.id))===n))),a(h),u(window.location.hash)}))}),[i,c,h]),b("scroll",(()=>{if(Date.now()-ik<2e3||i||!n?.length)return;const e=document.documentElement;e.scrollTop>=e.scrollHeight-window.innerHeight-100&&(Xw.set("page",parseInt(Xw.get("page",1))+1,{pushHistory:!1}),ik=Date.now())}),{dependencies:[i,n]}),e.createElement("div",{className:"Sets"},!i&&!n?.length&&e.createElement("div",{className:"NoSets"},e.createElement("div",{className:"Placeholder"},e.createElement("h2",null,"No sets found."),e.createElement("div",null,"Check your search tags, and ensure that you've made no typos.")),e.createElement(h_,null)),e.createElement("div",{className:"Items"},e.createElement("div",{className:"PostSet PostSetWarning"},"WARNING! This page is currently experimental and may be buggy."),e.createElement("div",{className:"PostSet PostSetNote"},"Note: Right click/tap and hold on a set to favorite it!"),n?.map((t=>e.createElement(Db,{key:t.id,href:`/posts?search=set:${t.shortname}`},e.createElement(ME.Wrapper,{menu:e.createElement(sk,{set:t})},e.createElement("div",{className:"PostSet"},e.createElement("div",{className:"Head"},e.createElement("div",{className:"Title"},t.name),e.createElement("div",{className:"ShortName"},t.shortname,",",e.createElement("span",null,t.post_count," posts"))),t.description&&e.createElement("div",{className:"Description"},t.description))))))),e.createElement("div",{className:m("FetchingStateModal",[i,"Active"])},e.createElement(Jw,null)))}function sk({set:t,forceUpdate:n}){const r=hE.useState((()=>hE.getLocalUser()));return r?e.createElement(ME,null,e.createElement(ME.Item,{icon:e.createElement(bb,null),onClick:()=>{r.favoriteSets=r.favoriteSets??[],r.favoriteSets.find((e=>e.id===t.id))?r.favoriteSets.splice(r.favoriteSets.findIndex((e=>e.id===t.id)),1):r.favoriteSets.push(i().pick(t,"created_at","creator_id","description","id","name","shortname")),hw.update(hw.doc("users",r.uid),{favoriteSets:r.favoriteSets}).then((()=>{p.showToast("Favorite sets updated!","Success"),n?.()}))},autoClose:!0},r.favoriteSets?.find((e=>e.id===t.id))?"Remove from":"Add to"," Favorites")):null}function ak(){const t=hE.useState((()=>hE.getLocalUser())),n=hE.useState((()=>hE.getLocalUser()?.favoriteSets)),[,r]=(0,e.useReducer)((e=>e+1),0);return e.createElement("div",{className:"SetsPage"},e.createElement(Wb,{searchPlaceholder:"Search sets..."}),e.createElement(X_,{tabs:["All","Owned","Favorites"]},e.createElement(ok,null),e.createElement(ok,{options:{"search[creator_name]":hE.getLocalUser()?.username}}),t?e.createElement("div",{className:"Sets"},e.createElement("div",{className:"Items"},(n??[]).map((t=>e.createElement(Db,{key:t.id,href:`/posts?search=set:${t.shortname}`},e.createElement(ME.Wrapper,{menu:e.createElement(sk,{set:t,forceUpdate:r})},e.createElement("div",{className:"PostSet"},e.createElement("div",{className:"Head"},e.createElement("div",{className:"Title"},t.name),e.createElement("div",{className:"ShortName"},t.shortname)),t.description&&e.createElement("div",{className:"Description"},t.description)))))))):e.createElement("div",{className:"NoSets"},e.createElement("div",{className:"Placeholder"},e.createElement("h2",null,"Not signed in"),e.createElement("div",null,"You can't view favorited sets without signing in."),e.createElement("div",null,"Favorited sets are saved in Sucralose's database, not e621's.")),e.createElement(h_,null))))}function lk(){w.useForceUpdater(y.UPDATE_PAGE);const[t,...n]=PE.getFormattedRoute(),r=hE.useState((()=>hE.getLocalUser()));switch(!1===r?.signedIn&&(~["subscriptions","favorites","settings"].indexOf(t)||location.hash.includes("sign_in"))&&0===CE.instance?.state?.stack?.length&&CE.push(e.createElement(dw,null)),t){default:return e.createElement($b,null);case"posts":return e.createElement(rk,{searchPlaceholder:"Search posts..."});case"post":return e.createElement(J_,{id:n[0]});case"hot":return e.createElement(rk,{search:"order:rank",searchPlaceholder:"Search hot posts..."});case"popular":return e.createElement(Q_,null);case"sets":return e.createElement(ak,null);case"subscriptions":return e.createElement(rk,{search:(r?.subscriptions?.length?r.subscriptions.map((e=>`~${e}`)):["____"]).join(" "),searchPlaceholder:"Search subscriptions...",emptyPlaceholder:e.createElement(e.Fragment,null,e.createElement("h2",null,"No subscribed posts found."),e.createElement("div",null,'You can subscribe to tags by right clicking on them and pressing "Subscribe."'))});case"favorites":return e.createElement(rk,{search:`favoritedby:${r?.e621User?.name}`,searchPlaceholder:"Search favorites...",emptyPlaceholder:e.createElement(e.Fragment,null,e.createElement("h2",null,"No favorited posts found."),e.createElement("div",null,"Check your search tags, as they also apply to favorites."))});case"upvoted":return e.createElement(rk,{search:`votedup:${r?.e621User?.name}`,searchPlaceholder:"Search upvoted posts...",emptyPlaceholder:e.createElement(e.Fragment,null,e.createElement("h2",null,"No upvoted posts found."),e.createElement("div",null,"Check your search tags, as they also apply to upvotes."))});case"settings":return e.createElement(tE,null)}}function uk(){const t=function(t,n){const r=e.useMemo((()=>window.matchMedia(`(${t}: 1200px)`)),[t,n]),[i,o]=e.useState(r.matches);return e.useEffect((()=>{const e=e=>o(e.matches);return r.addEventListener("change",e),()=>r.removeEventListener("change",e)}),[t,n]),i}("max-width",1200),[n,r]=e.useState(!1);return b("scroll",i().debounce((()=>{const{scrollTop:e}=document.documentElement;r(e>window.innerHeight&&!!~["posts","hot","popular","sets","subscriptions","favorites","upvoted"].indexOf(PE.getFormattedRoute()[0]))}),100)),e.createElement("div",{className:m("App",t?"Mobile":"Desktop")},e.createElement("div",{className:"AppBackground"}),e.createElement("div",{className:"Main"},e.createElement(lk,null),e.createElement("div",{className:m("ScrollIndicator","HasTooltip","FlexCenter",[n,"Active"]),onClick:()=>window.scrollTo(0,0,{behavior:"smooth"},r(!1))},e.createElement(u,null))),e.createElement(r_,null),e.createElement(CE,null),e.createElement(p,null),e.createElement(ME.Handler,null),e.createElement(FE,null),e.createElement(oE,null))}window.history.scrollRestoration="manual",(0,t.s)(document.getElementById("root")).render(e.createElement(e.StrictMode,null,e.createElement(uk,null)))})()})();