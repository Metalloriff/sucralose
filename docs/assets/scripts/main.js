/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={486:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=32,u=128,c=1/0,h=9007199254740991,f=NaN,d=4294967295,p=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",l],["partialRight",64],["rearg",256]],m="[object Arguments]",g="[object Array]",v="[object Boolean]",y="[object Date]",w="[object Error]",b="[object Function]",E="[object GeneratorFunction]",_="[object Map]",k="[object Number]",T="[object Object]",S="[object Promise]",I="[object RegExp]",C="[object Set]",O="[object String]",N="[object Symbol]",x="[object WeakMap]",A="[object ArrayBuffer]",P="[object DataView]",R="[object Float32Array]",D="[object Float64Array]",L="[object Int8Array]",M="[object Int16Array]",j="[object Int32Array]",U="[object Uint8Array]",F="[object Uint8ClampedArray]",z="[object Uint16Array]",B="[object Uint32Array]",V=/\b__p \+= '';/g,$=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,K=RegExp(q.source),G=RegExp(H.source),Q=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,ie=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ue=/[()=,{}\[\]\/\s]/,ce=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fe=/\w*$/,de=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,be=/['\n\r\u2028\u2029\\]/g,Ee="\\ud800-\\udfff",_e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Se="A-Z\\xc0-\\xd6\\xd8-\\xde",Ie="\\ufe0e\\ufe0f",Ce="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Oe="["+Ee+"]",Ne="["+Ce+"]",xe="["+_e+"]",Ae="\\d+",Pe="["+ke+"]",Re="["+Te+"]",De="[^"+Ee+Ce+Ae+ke+Te+Se+"]",Le="\\ud83c[\\udffb-\\udfff]",Me="[^"+Ee+"]",je="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]",Fe="["+Se+"]",ze="\\u200d",Be="(?:"+Re+"|"+De+")",Ve="(?:"+Fe+"|"+De+")",$e="(?:['’](?:d|ll|m|re|s|t|ve))?",We="(?:['’](?:D|LL|M|RE|S|T|VE))?",qe="(?:"+xe+"|"+Le+")?",He="["+Ie+"]?",Ke=He+qe+"(?:"+ze+"(?:"+[Me,je,Ue].join("|")+")"+He+qe+")*",Ge="(?:"+[Pe,je,Ue].join("|")+")"+Ke,Qe="(?:"+[Me+xe+"?",xe,je,Ue,Oe].join("|")+")",Ye=RegExp("['’]","g"),Xe=RegExp(xe,"g"),Je=RegExp(Le+"(?="+Le+")|"+Qe+Ke,"g"),Ze=RegExp([Fe+"?"+Re+"+"+$e+"(?="+[Ne,Fe,"$"].join("|")+")",Ve+"+"+We+"(?="+[Ne,Fe+Be,"$"].join("|")+")",Fe+"?"+Be+"+"+$e,Fe+"+"+We,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ae,Ge].join("|"),"g"),et=RegExp("["+ze+Ee+_e+Ie+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,it={};it[R]=it[D]=it[L]=it[M]=it[j]=it[U]=it[F]=it[z]=it[B]=!0,it[m]=it[g]=it[A]=it[v]=it[P]=it[y]=it[w]=it[b]=it[_]=it[k]=it[T]=it[I]=it[C]=it[O]=it[x]=!1;var ot={};ot[m]=ot[g]=ot[A]=ot[P]=ot[v]=ot[y]=ot[R]=ot[D]=ot[L]=ot[M]=ot[j]=ot[_]=ot[k]=ot[T]=ot[I]=ot[C]=ot[O]=ot[N]=ot[U]=ot[F]=ot[z]=ot[B]=!0,ot[w]=ot[b]=ot[x]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,lt=parseInt,ut="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ct="object"==typeof self&&self&&self.Object===Object&&self,ht=ut||ct||Function("return this")(),ft=t&&!t.nodeType&&t,dt=ft&&e&&!e.nodeType&&e,pt=dt&&dt.exports===ft,mt=pt&&ut.process,gt=function(){try{return dt&&dt.require&&dt.require("util").types||mt&&mt.binding&&mt.binding("util")}catch(e){}}(),vt=gt&&gt.isArrayBuffer,yt=gt&&gt.isDate,wt=gt&&gt.isMap,bt=gt&&gt.isRegExp,Et=gt&&gt.isSet,_t=gt&&gt.isTypedArray;function kt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Tt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function St(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function It(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Nt(e,t){return!(null==e||!e.length)&&Ft(e,t,0)>-1}function xt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function At(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Pt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Rt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Dt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Mt=$t("length");function jt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Ut(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Ft(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Ut(e,Bt,n)}function zt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Bt(e){return e!=e}function Vt(e,t){var n=null==e?0:e.length;return n?Ht(e,t)/n:f}function $t(e){return function(t){return null==t?i:t[e]}}function Wt(e){return function(t){return null==e?i:e[t]}}function qt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Ht(e,t){for(var n,r=-1,o=e.length;++r<o;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function Kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Gt(e){return e?e.slice(0,fn(e)+1).replace(re,""):e}function Qt(e){return function(t){return e(t)}}function Yt(e,t){return At(t,(function(t){return e[t]}))}function Xt(e,t){return e.has(t)}function Jt(e,t){for(var n=-1,r=e.length;++n<r&&Ft(t,e[n],0)>-1;);return n}function Zt(e,t){for(var n=e.length;n--&&Ft(t,e[n],0)>-1;);return n}var en=Wt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tn=Wt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(e){return"\\"+st[e]}function rn(e){return et.test(e)}function on(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function sn(e,t){return function(n){return e(t(n))}}function an(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function cn(e){return rn(e)?function(e){for(var t=Je.lastIndex=0;Je.test(e);)++t;return t}(e):Mt(e)}function hn(e){return rn(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.split("")}(e)}function fn(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var dn=Wt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pn=function e(t){var n,r=(t=null==t?ht:pn.defaults(ht.Object(),t,pn.pick(ht,nt))).Array,ie=t.Date,Ee=t.Error,_e=t.Function,ke=t.Math,Te=t.Object,Se=t.RegExp,Ie=t.String,Ce=t.TypeError,Oe=r.prototype,Ne=_e.prototype,xe=Te.prototype,Ae=t["__core-js_shared__"],Pe=Ne.toString,Re=xe.hasOwnProperty,De=0,Le=(n=/[^.]+$/.exec(Ae&&Ae.keys&&Ae.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Me=xe.toString,je=Pe.call(Te),Ue=ht._,Fe=Se("^"+Pe.call(Re).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=pt?t.Buffer:i,Be=t.Symbol,Ve=t.Uint8Array,$e=ze?ze.allocUnsafe:i,We=sn(Te.getPrototypeOf,Te),qe=Te.create,He=xe.propertyIsEnumerable,Ke=Oe.splice,Ge=Be?Be.isConcatSpreadable:i,Qe=Be?Be.iterator:i,Je=Be?Be.toStringTag:i,et=function(){try{var e=lo(Te,"defineProperty");return e({},"",{}),e}catch(e){}}(),st=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,ut=ie&&ie.now!==ht.Date.now&&ie.now,ct=t.setTimeout!==ht.setTimeout&&t.setTimeout,ft=ke.ceil,dt=ke.floor,mt=Te.getOwnPropertySymbols,gt=ze?ze.isBuffer:i,Mt=t.isFinite,Wt=Oe.join,mn=sn(Te.keys,Te),gn=ke.max,vn=ke.min,yn=ie.now,wn=t.parseInt,bn=ke.random,En=Oe.reverse,_n=lo(t,"DataView"),kn=lo(t,"Map"),Tn=lo(t,"Promise"),Sn=lo(t,"Set"),In=lo(t,"WeakMap"),Cn=lo(Te,"create"),On=In&&new In,Nn={},xn=jo(_n),An=jo(kn),Pn=jo(Tn),Rn=jo(Sn),Dn=jo(In),Ln=Be?Be.prototype:i,Mn=Ln?Ln.valueOf:i,jn=Ln?Ln.toString:i;function Un(e){if(ea(e)&&!$s(e)&&!(e instanceof Vn)){if(e instanceof Bn)return e;if(Re.call(e,"__wrapped__"))return Uo(e)}return new Bn(e)}var Fn=function(){function e(){}return function(t){if(!Zs(t))return{};if(qe)return qe(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function zn(){}function Bn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function $n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Wn(e);this.size=t.size}function Gn(e,t){var n=$s(e),r=!n&&Vs(e),i=!n&&!r&&Ks(e),o=!n&&!r&&!i&&la(e),s=n||r||i||o,a=s?Kt(e.length,Ie):[],l=a.length;for(var u in e)!t&&!Re.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||go(u,l))||a.push(u);return a}function Qn(e){var t=e.length;return t?e[qr(0,t-1)]:i}function Yn(e,t){return Po(Ii(e),or(t,0,e.length))}function Xn(e){return Po(Ii(e))}function Jn(e,t,n){(n!==i&&!Fs(e[t],n)||n===i&&!(t in e))&&rr(e,t,n)}function Zn(e,t,n){var r=e[t];Re.call(e,t)&&Fs(r,n)&&(n!==i||t in e)||rr(e,t,n)}function er(e,t){for(var n=e.length;n--;)if(Fs(e[n][0],t))return n;return-1}function tr(e,t,n,r){return cr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function nr(e,t){return e&&Ci(t,xa(t),e)}function rr(e,t,n){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ir(e,t){for(var n=-1,o=t.length,s=r(o),a=null==e;++n<o;)s[n]=a?i:Sa(e,t[n]);return s}function or(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function sr(e,t,n,r,o,s){var a,l=1&t,u=2&t,c=4&t;if(n&&(a=o?n(e,r,o,s):n(e)),a!==i)return a;if(!Zs(e))return e;var h=$s(e);if(h){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return Ii(e,a)}else{var f=ho(e),d=f==b||f==E;if(Ks(e))return bi(e,l);if(f==T||f==m||d&&!o){if(a=u||d?{}:po(e),!l)return u?function(e,t){return Ci(e,co(e),t)}(e,function(e,t){return e&&Ci(t,Aa(t),e)}(a,e)):function(e,t){return Ci(e,uo(e),t)}(e,nr(a,e))}else{if(!ot[f])return o?e:{};a=function(e,t,n){var r,i=e.constructor;switch(t){case A:return Ei(e);case v:case y:return new i(+e);case P:return function(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case R:case D:case L:case M:case j:case U:case F:case z:case B:return _i(e,n);case _:return new i;case k:case O:return new i(e);case I:return function(e){var t=new e.constructor(e.source,fe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case C:return new i;case N:return r=e,Mn?Te(Mn.call(r)):{}}}(e,f,l)}}s||(s=new Kn);var p=s.get(e);if(p)return p;s.set(e,a),oa(e)?e.forEach((function(r){a.add(sr(r,t,n,r,e,s))})):ta(e)&&e.forEach((function(r,i){a.set(i,sr(r,t,n,i,e,s))}));var g=h?i:(c?u?to:eo:u?Aa:xa)(e);return St(g||e,(function(r,i){g&&(r=e[i=r]),Zn(a,i,sr(r,t,n,i,e,s))})),a}function ar(e,t,n){var r=n.length;if(null==e)return!r;for(e=Te(e);r--;){var o=n[r],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function lr(e,t,n){if("function"!=typeof e)throw new Ce(o);return Oo((function(){e.apply(i,n)}),t)}function ur(e,t,n,r){var i=-1,o=Nt,s=!0,a=e.length,l=[],u=t.length;if(!a)return l;n&&(t=At(t,Qt(n))),r?(o=xt,s=!1):t.length>=200&&(o=Xt,s=!1,t=new Hn(t));e:for(;++i<a;){var c=e[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,s&&h==h){for(var f=u;f--;)if(t[f]===h)continue e;l.push(c)}else o(t,h,r)||l.push(c)}return l}Un.templateSettings={escape:Q,evaluate:Y,interpolate:X,variable:"",imports:{_:Un}},Un.prototype=zn.prototype,Un.prototype.constructor=Un,Bn.prototype=Fn(zn.prototype),Bn.prototype.constructor=Bn,Vn.prototype=Fn(zn.prototype),Vn.prototype.constructor=Vn,$n.prototype.clear=function(){this.__data__=Cn?Cn(null):{},this.size=0},$n.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},$n.prototype.get=function(e){var t=this.__data__;if(Cn){var n=t[e];return n===s?i:n}return Re.call(t,e)?t[e]:i},$n.prototype.has=function(e){var t=this.__data__;return Cn?t[e]!==i:Re.call(t,e)},$n.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Cn&&t===i?s:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=er(t,e);return!(n<0||(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,0))},Wn.prototype.get=function(e){var t=this.__data__,n=er(t,e);return n<0?i:t[n][1]},Wn.prototype.has=function(e){return er(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,r=er(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},qn.prototype.clear=function(){this.size=0,this.__data__={hash:new $n,map:new(kn||Wn),string:new $n}},qn.prototype.delete=function(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t},qn.prototype.get=function(e){return so(this,e).get(e)},qn.prototype.has=function(e){return so(this,e).has(e)},qn.prototype.set=function(e,t){var n=so(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Hn.prototype.add=Hn.prototype.push=function(e){return this.__data__.set(e,s),this},Hn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!kn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new qn(r)}return n.set(e,t),this.size=n.size,this};var cr=xi(yr),hr=xi(wr,!0);function fr(e,t){var n=!0;return cr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function dr(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(l===i?a==a&&!aa(a):n(a,l)))var l=a,u=s}return u}function pr(e,t){var n=[];return cr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function mr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=mo),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?mr(a,t-1,n,r,i):Pt(i,a):r||(i[i.length]=a)}return i}var gr=Ai(),vr=Ai(!0);function yr(e,t){return e&&gr(e,t,xa)}function wr(e,t){return e&&vr(e,t,xa)}function br(e,t){return Ot(t,(function(t){return Ys(e[t])}))}function Er(e,t){for(var n=0,r=(t=gi(t,e)).length;null!=e&&n<r;)e=e[Mo(t[n++])];return n&&n==r?e:i}function _r(e,t,n){var r=t(e);return $s(e)?r:Pt(r,n(e))}function kr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Je&&Je in Te(e)?function(e){var t=Re.call(e,Je),n=e[Je];try{e[Je]=i;var r=!0}catch(e){}var o=Me.call(e);return r&&(t?e[Je]=n:delete e[Je]),o}(e):function(e){return Me.call(e)}(e)}function Tr(e,t){return e>t}function Sr(e,t){return null!=e&&Re.call(e,t)}function Ir(e,t){return null!=e&&t in Te(e)}function Cr(e,t,n){for(var o=n?xt:Nt,s=e[0].length,a=e.length,l=a,u=r(a),c=1/0,h=[];l--;){var f=e[l];l&&t&&(f=At(f,Qt(t))),c=vn(f.length,c),u[l]=!n&&(t||s>=120&&f.length>=120)?new Hn(l&&f):i}f=e[0];var d=-1,p=u[0];e:for(;++d<s&&h.length<c;){var m=f[d],g=t?t(m):m;if(m=n||0!==m?m:0,!(p?Xt(p,g):o(h,g,n))){for(l=a;--l;){var v=u[l];if(!(v?Xt(v,g):o(e[l],g,n)))continue e}p&&p.push(g),h.push(m)}}return h}function Or(e,t,n){var r=null==(e=So(e,t=gi(t,e)))?e:e[Mo(Qo(t))];return null==r?i:kt(r,e,n)}function Nr(e){return ea(e)&&kr(e)==m}function xr(e,t,n,r,o){return e===t||(null==e||null==t||!ea(e)&&!ea(t)?e!=e&&t!=t:function(e,t,n,r,o,s){var a=$s(e),l=$s(t),u=a?g:ho(e),c=l?g:ho(t),h=(u=u==m?T:u)==T,f=(c=c==m?T:c)==T,d=u==c;if(d&&Ks(e)){if(!Ks(t))return!1;a=!0,h=!1}if(d&&!h)return s||(s=new Kn),a||la(e)?Ji(e,t,n,r,o,s):function(e,t,n,r,i,o,s){switch(n){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case A:return!(e.byteLength!=t.byteLength||!o(new Ve(e),new Ve(t)));case v:case y:case k:return Fs(+e,+t);case w:return e.name==t.name&&e.message==t.message;case I:case O:return e==t+"";case _:var a=on;case C:var l=1&r;if(a||(a=ln),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;r|=2,s.set(e,t);var c=Ji(a(e),a(t),r,i,o,s);return s.delete(e),c;case N:if(Mn)return Mn.call(e)==Mn.call(t)}return!1}(e,t,u,n,r,o,s);if(!(1&n)){var p=h&&Re.call(e,"__wrapped__"),b=f&&Re.call(t,"__wrapped__");if(p||b){var E=p?e.value():e,S=b?t.value():t;return s||(s=new Kn),o(E,S,n,r,s)}}return!!d&&(s||(s=new Kn),function(e,t,n,r,o,s){var a=1&n,l=eo(e),u=l.length;if(u!=eo(t).length&&!a)return!1;for(var c=u;c--;){var h=l[c];if(!(a?h in t:Re.call(t,h)))return!1}var f=s.get(e),d=s.get(t);if(f&&d)return f==t&&d==e;var p=!0;s.set(e,t),s.set(t,e);for(var m=a;++c<u;){var g=e[h=l[c]],v=t[h];if(r)var y=a?r(v,g,h,t,e,s):r(g,v,h,e,t,s);if(!(y===i?g===v||o(g,v,n,r,s):y)){p=!1;break}m||(m="constructor"==h)}if(p&&!m){var w=e.constructor,b=t.constructor;w==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,n,r,o,s))}(e,t,n,r,xr,o))}function Ar(e,t,n,r){var o=n.length,s=o,a=!r;if(null==e)return!s;for(e=Te(e);o--;){var l=n[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){var u=(l=n[o])[0],c=e[u],h=l[1];if(a&&l[2]){if(c===i&&!(u in e))return!1}else{var f=new Kn;if(r)var d=r(c,h,u,e,t,f);if(!(d===i?xr(h,c,3,r,f):d))return!1}}return!0}function Pr(e){return!(!Zs(e)||(t=e,Le&&Le in t))&&(Ys(e)?Fe:me).test(jo(e));var t}function Rr(e){return"function"==typeof e?e:null==e?nl:"object"==typeof e?$s(e)?Ur(e[0],e[1]):jr(e):hl(e)}function Dr(e){if(!Eo(e))return mn(e);var t=[];for(var n in Te(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lr(e,t){return e<t}function Mr(e,t){var n=-1,i=qs(e)?r(e.length):[];return cr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function jr(e){var t=ao(e);return 1==t.length&&t[0][2]?ko(t[0][0],t[0][1]):function(n){return n===e||Ar(n,e,t)}}function Ur(e,t){return yo(e)&&_o(t)?ko(Mo(e),t):function(n){var r=Sa(n,e);return r===i&&r===t?Ia(n,e):xr(t,r,3)}}function Fr(e,t,n,r,o){e!==t&&gr(t,(function(s,a){if(o||(o=new Kn),Zs(s))!function(e,t,n,r,o,s,a){var l=Io(e,n),u=Io(t,n),c=a.get(u);if(c)Jn(e,n,c);else{var h=s?s(l,u,n+"",e,t,a):i,f=h===i;if(f){var d=$s(u),p=!d&&Ks(u),m=!d&&!p&&la(u);h=u,d||p||m?$s(l)?h=l:Hs(l)?h=Ii(l):p?(f=!1,h=bi(u,!0)):m?(f=!1,h=_i(u,!0)):h=[]:ra(u)||Vs(u)?(h=l,Vs(l)?h=ga(l):Zs(l)&&!Ys(l)||(h=po(u))):f=!1}f&&(a.set(u,h),o(h,u,r,s,a),a.delete(u)),Jn(e,n,h)}}(e,t,a,n,Fr,r,o);else{var l=r?r(Io(e,a),s,a+"",e,t,o):i;l===i&&(l=s),Jn(e,a,l)}}),Aa)}function zr(e,t){var n=e.length;if(n)return go(t+=t<0?n:0,n)?e[t]:i}function Br(e,t,n){t=t.length?At(t,(function(e){return $s(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e})):[nl];var r=-1;t=At(t,Qt(oo()));var i=Mr(e,(function(e,n,i){var o=At(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var r=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var l=ki(i[r],o[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));r--;)e[r]=e[r].value;return e}(i)}function Vr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=Er(e,s);n(a,s)&&Yr(o,gi(s,e),a)}return o}function $r(e,t,n,r){var i=r?zt:Ft,o=-1,s=t.length,a=e;for(e===t&&(t=Ii(t)),n&&(a=At(e,Qt(n)));++o<s;)for(var l=0,u=t[o],c=n?n(u):u;(l=i(a,c,l,r))>-1;)a!==e&&Ke.call(a,l,1),Ke.call(e,l,1);return e}function Wr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;go(i)?Ke.call(e,i,1):li(e,i)}}return e}function qr(e,t){return e+dt(bn()*(t-e+1))}function Hr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=dt(t/2))&&(e+=e)}while(t);return n}function Kr(e,t){return No(To(e,t,nl),e+"")}function Gr(e){return Qn(Fa(e))}function Qr(e,t){var n=Fa(e);return Po(n,or(t,0,n.length))}function Yr(e,t,n,r){if(!Zs(e))return e;for(var o=-1,s=(t=gi(t,e)).length,a=s-1,l=e;null!=l&&++o<s;){var u=Mo(t[o]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=a){var h=l[u];(c=r?r(h,u,l):i)===i&&(c=Zs(h)?h:go(t[o+1])?[]:{})}Zn(l,u,c),l=l[u]}return e}var Xr=On?function(e,t){return On.set(e,t),e}:nl,Jr=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Za(t),writable:!0})}:nl;function Zr(e){return Po(Fa(e))}function ei(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function ti(e,t){var n;return cr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ni(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!aa(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return ri(e,t,nl,n)}function ri(e,t,n,r){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,l=null===t,u=aa(t),c=t===i;o<s;){var h=dt((o+s)/2),f=n(e[h]),d=f!==i,p=null===f,m=f==f,g=aa(f);if(a)var v=r||m;else v=c?m&&(r||d):l?m&&d&&(r||!p):u?m&&d&&!p&&(r||!g):!p&&!g&&(r?f<=t:f<t);v?o=h+1:s=h}return vn(s,4294967294)}function ii(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Fs(a,l)){var l=a;o[i++]=0===s?0:s}}return o}function oi(e){return"number"==typeof e?e:aa(e)?f:+e}function si(e){if("string"==typeof e)return e;if($s(e))return At(e,si)+"";if(aa(e))return jn?jn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ai(e,t,n){var r=-1,i=Nt,o=e.length,s=!0,a=[],l=a;if(n)s=!1,i=xt;else if(o>=200){var u=t?null:Hi(e);if(u)return ln(u);s=!1,i=Xt,l=new Hn}else l=t?[]:a;e:for(;++r<o;){var c=e[r],h=t?t(c):c;if(c=n||0!==c?c:0,s&&h==h){for(var f=l.length;f--;)if(l[f]===h)continue e;t&&l.push(h),a.push(c)}else i(l,h,n)||(l!==a&&l.push(h),a.push(c))}return a}function li(e,t){return null==(e=So(e,t=gi(t,e)))||delete e[Mo(Qo(t))]}function ui(e,t,n,r){return Yr(e,t,n(Er(e,t)),r)}function ci(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ei(e,r?0:o,r?o+1:i):ei(e,r?o+1:0,r?i:o)}function hi(e,t){var n=e;return n instanceof Vn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,Pt([e],t.args))}),n)}function fi(e,t,n){var i=e.length;if(i<2)return i?ai(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],l=-1;++l<i;)l!=o&&(s[o]=ur(s[o]||a,e[l],t,n));return ai(mr(s,1),t,n)}function di(e,t,n){for(var r=-1,o=e.length,s=t.length,a={};++r<o;){var l=r<s?t[r]:i;n(a,e[r],l)}return a}function pi(e){return Hs(e)?e:[]}function mi(e){return"function"==typeof e?e:nl}function gi(e,t){return $s(e)?e:yo(e,t)?[e]:Lo(va(e))}var vi=Kr;function yi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ei(e,t,n)}var wi=st||function(e){return ht.clearTimeout(e)};function bi(e,t){if(t)return e.slice();var n=e.length,r=$e?$e(n):new e.constructor(n);return e.copy(r),r}function Ei(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function _i(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ki(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,s=aa(e),a=t!==i,l=null===t,u=t==t,c=aa(t);if(!l&&!c&&!s&&e>t||s&&a&&u&&!l&&!c||r&&a&&u||!n&&u||!o)return 1;if(!r&&!s&&!c&&e<t||c&&n&&o&&!r&&!s||l&&n&&o||!a&&o||!u)return-1}return 0}function Ti(e,t,n,i){for(var o=-1,s=e.length,a=n.length,l=-1,u=t.length,c=gn(s-a,0),h=r(u+c),f=!i;++l<u;)h[l]=t[l];for(;++o<a;)(f||o<s)&&(h[n[o]]=e[o]);for(;c--;)h[l++]=e[o++];return h}function Si(e,t,n,i){for(var o=-1,s=e.length,a=-1,l=n.length,u=-1,c=t.length,h=gn(s-l,0),f=r(h+c),d=!i;++o<h;)f[o]=e[o];for(var p=o;++u<c;)f[p+u]=t[u];for(;++a<l;)(d||o<s)&&(f[p+n[a]]=e[o++]);return f}function Ii(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Ci(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var l=t[s],u=r?r(n[l],e[l],l,n,e):i;u===i&&(u=e[l]),o?rr(n,l,u):Zn(n,l,u)}return n}function Oi(e,t){return function(n,r){var i=$s(n)?Tt:tr,o=t?t():{};return i(n,e,oo(r,2),o)}}function Ni(e){return Kr((function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&vo(n[0],n[1],a)&&(s=o<3?i:s,o=1),t=Te(t);++r<o;){var l=n[r];l&&e(t,l,r,s)}return t}))}function xi(e,t){return function(n,r){if(null==n)return n;if(!qs(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Te(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ai(e){return function(t,n,r){for(var i=-1,o=Te(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}function Pi(e){return function(t){var n=rn(t=va(t))?hn(t):i,r=n?n[0]:t.charAt(0),o=n?yi(n,1).join(""):t.slice(1);return r[e]()+o}}function Ri(e){return function(t){return Rt(Ya(Va(t).replace(Ye,"")),e,"")}}function Di(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Fn(e.prototype),r=e.apply(n,t);return Zs(r)?r:n}}function Li(e){return function(t,n,r){var o=Te(t);if(!qs(t)){var s=oo(n,3);t=xa(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[s?t[a]:a]:i}}function Mi(e){return Zi((function(t){var n=t.length,r=n,s=Bn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Ce(o);if(s&&!l&&"wrapper"==ro(a))var l=new Bn([],!0)}for(r=l?r:n;++r<n;){var u=ro(a=t[r]),c="wrapper"==u?no(a):i;l=c&&wo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[ro(c[0])].apply(l,c[3]):1==a.length&&wo(a)?l[u]():l.thru(a)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&$s(r))return l.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function ji(e,t,n,o,s,a,l,c,h,f){var d=t&u,p=1&t,m=2&t,g=24&t,v=512&t,y=m?i:Di(e);return function u(){for(var w=arguments.length,b=r(w),E=w;E--;)b[E]=arguments[E];if(g)var _=io(u),k=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,_);if(o&&(b=Ti(b,o,s,g)),a&&(b=Si(b,a,l,g)),w-=k,g&&w<f){var T=an(b,_);return Wi(e,t,ji,u.placeholder,n,b,T,c,h,f-w)}var S=p?n:this,I=m?S[e]:e;return w=b.length,c?b=function(e,t){for(var n=e.length,r=vn(t.length,n),o=Ii(e);r--;){var s=t[r];e[r]=go(s,n)?o[s]:i}return e}(b,c):v&&w>1&&b.reverse(),d&&h<w&&(b.length=h),this&&this!==ht&&this instanceof u&&(I=y||Di(I)),I.apply(S,b)}}function Ui(e,t){return function(n,r){return function(e,t,n,r){return yr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Fi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=oi(n),r=oi(r)),o=e(n,r)}return o}}function zi(e){return Zi((function(t){return t=At(t,Qt(oo())),Kr((function(n){var r=this;return e(t,(function(e){return kt(e,r,n)}))}))}))}function Bi(e,t){var n=(t=t===i?" ":si(t)).length;if(n<2)return n?Hr(t,e):t;var r=Hr(t,ft(e/cn(t)));return rn(t)?yi(hn(r),0,e).join(""):r.slice(0,e)}function Vi(e){return function(t,n,o){return o&&"number"!=typeof o&&vo(t,n,o)&&(n=o=i),t=fa(t),n===i?(n=t,t=0):n=fa(n),function(e,t,n,i){for(var o=-1,s=gn(ft((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,o=o===i?t<n?1:-1:fa(o),e)}}function $i(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ma(t),n=ma(n)),e(t,n)}}function Wi(e,t,n,r,o,s,a,u,c,h){var f=8&t;t|=f?l:64,4&(t&=~(f?64:l))||(t&=-4);var d=[e,t,o,f?s:i,f?a:i,f?i:s,f?i:a,u,c,h],p=n.apply(i,d);return wo(e)&&Co(p,d),p.placeholder=r,xo(p,e,t)}function qi(e){var t=ke[e];return function(e,n){if(e=ma(e),(n=null==n?0:vn(da(n),292))&&Mt(e)){var r=(va(e)+"e").split("e");return+((r=(va(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Hi=Sn&&1/ln(new Sn([,-0]))[1]==c?function(e){return new Sn(e)}:al;function Ki(e){return function(t){var n=ho(t);return n==_?on(t):n==C?un(t):function(e,t){return At(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Gi(e,t,n,s,c,h,f,d){var p=2&t;if(!p&&"function"!=typeof e)throw new Ce(o);var m=s?s.length:0;if(m||(t&=-97,s=c=i),f=f===i?f:gn(da(f),0),d=d===i?d:da(d),m-=c?c.length:0,64&t){var g=s,v=c;s=c=i}var y=p?i:no(e),w=[e,t,n,s,c,g,v,h,f,d];if(y&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==u&&8==n||r==u&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?Ti(c,l,t[4]):l,e[4]=c?an(e[3],a):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Si(c,l,t[6]):l,e[6]=c?an(e[5],a):t[6]),(l=t[7])&&(e[7]=l),r&u&&(e[8]=null==e[8]?t[8]:vn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(w,y),e=w[0],t=w[1],n=w[2],s=w[3],c=w[4],!(d=w[9]=w[9]===i?p?0:e.length:gn(w[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)b=8==t||16==t?function(e,t,n){var o=Di(e);return function s(){for(var a=arguments.length,l=r(a),u=a,c=io(s);u--;)l[u]=arguments[u];var h=a<3&&l[0]!==c&&l[a-1]!==c?[]:an(l,c);return(a-=h.length)<n?Wi(e,t,ji,s.placeholder,i,l,h,i,i,n-a):kt(this&&this!==ht&&this instanceof s?o:e,this,l)}}(e,t,d):t!=l&&33!=t||c.length?ji.apply(i,w):function(e,t,n,i){var o=1&t,s=Di(e);return function t(){for(var a=-1,l=arguments.length,u=-1,c=i.length,h=r(c+l),f=this&&this!==ht&&this instanceof t?s:e;++u<c;)h[u]=i[u];for(;l--;)h[u++]=arguments[++a];return kt(f,o?n:this,h)}}(e,t,n,s);else var b=function(e,t,n){var r=1&t,i=Di(e);return function t(){return(this&&this!==ht&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return xo((y?Xr:Co)(b,w),e,t)}function Qi(e,t,n,r){return e===i||Fs(e,xe[n])&&!Re.call(r,n)?t:e}function Yi(e,t,n,r,o,s){return Zs(e)&&Zs(t)&&(s.set(t,e),Fr(e,t,i,Yi,s),s.delete(t)),e}function Xi(e){return ra(e)?i:e}function Ji(e,t,n,r,o,s){var a=1&n,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var c=s.get(e),h=s.get(t);if(c&&h)return c==t&&h==e;var f=-1,d=!0,p=2&n?new Hn:i;for(s.set(e,t),s.set(t,e);++f<l;){var m=e[f],g=t[f];if(r)var v=a?r(g,m,f,t,e,s):r(m,g,f,e,t,s);if(v!==i){if(v)continue;d=!1;break}if(p){if(!Lt(t,(function(e,t){if(!Xt(p,t)&&(m===e||o(m,e,n,r,s)))return p.push(t)}))){d=!1;break}}else if(m!==g&&!o(m,g,n,r,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function Zi(e){return No(To(e,i,Wo),e+"")}function eo(e){return _r(e,xa,uo)}function to(e){return _r(e,Aa,co)}var no=On?function(e){return On.get(e)}:al;function ro(e){for(var t=e.name+"",n=Nn[t],r=Re.call(Nn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function io(e){return(Re.call(Un,"placeholder")?Un:e).placeholder}function oo(){var e=Un.iteratee||rl;return e=e===rl?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function so(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ao(e){for(var t=xa(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,_o(i)]}return t}function lo(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Pr(n)?n:i}var uo=mt?function(e){return null==e?[]:(e=Te(e),Ot(mt(e),(function(t){return He.call(e,t)})))}:pl,co=mt?function(e){for(var t=[];e;)Pt(t,uo(e)),e=We(e);return t}:pl,ho=kr;function fo(e,t,n){for(var r=-1,i=(t=gi(t,e)).length,o=!1;++r<i;){var s=Mo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Js(i)&&go(s,i)&&($s(e)||Vs(e))}function po(e){return"function"!=typeof e.constructor||Eo(e)?{}:Fn(We(e))}function mo(e){return $s(e)||Vs(e)||!!(Ge&&e&&e[Ge])}function go(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&ve.test(e))&&e>-1&&e%1==0&&e<t}function vo(e,t,n){if(!Zs(n))return!1;var r=typeof t;return!!("number"==r?qs(n)&&go(t,n.length):"string"==r&&t in n)&&Fs(n[t],e)}function yo(e,t){if($s(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!aa(e))||Z.test(e)||!J.test(e)||null!=t&&e in Te(t)}function wo(e){var t=ro(e),n=Un[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=no(n);return!!r&&e===r[0]}(_n&&ho(new _n(new ArrayBuffer(1)))!=P||kn&&ho(new kn)!=_||Tn&&ho(Tn.resolve())!=S||Sn&&ho(new Sn)!=C||In&&ho(new In)!=x)&&(ho=function(e){var t=kr(e),n=t==T?e.constructor:i,r=n?jo(n):"";if(r)switch(r){case xn:return P;case An:return _;case Pn:return S;case Rn:return C;case Dn:return x}return t});var bo=Ae?Ys:ml;function Eo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||xe)}function _o(e){return e==e&&!Zs(e)}function ko(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in Te(n))}}function To(e,t,n){return t=gn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=gn(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var l=r(t+1);++o<t;)l[o]=i[o];return l[t]=n(a),kt(e,this,l)}}function So(e,t){return t.length<2?e:Er(e,ei(t,0,-1))}function Io(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Co=Ao(Xr),Oo=ct||function(e,t){return ht.setTimeout(e,t)},No=Ao(Jr);function xo(e,t,n){var r=t+"";return No(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return St(p,(function(n){var r="_."+n[0];t&n[1]&&!Nt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ae):[]}(r),n)))}function Ao(e){var t=0,n=0;return function(){var r=yn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Po(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var s=qr(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Ro,Do,Lo=(Ro=Rs((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,i){t.push(r?i.replace(ce,"$1"):n||e)})),t}),(function(e){return 500===Do.size&&Do.clear(),e})),Do=Ro.cache,Ro);function Mo(e){if("string"==typeof e||aa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function jo(e){if(null!=e){try{return Pe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Uo(e){if(e instanceof Vn)return e.clone();var t=new Bn(e.__wrapped__,e.__chain__);return t.__actions__=Ii(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Fo=Kr((function(e,t){return Hs(e)?ur(e,mr(t,1,Hs,!0)):[]})),zo=Kr((function(e,t){var n=Qo(t);return Hs(n)&&(n=i),Hs(e)?ur(e,mr(t,1,Hs,!0),oo(n,2)):[]})),Bo=Kr((function(e,t){var n=Qo(t);return Hs(n)&&(n=i),Hs(e)?ur(e,mr(t,1,Hs,!0),i,n):[]}));function Vo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:da(n);return i<0&&(i=gn(r+i,0)),Ut(e,oo(t,3),i)}function $o(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=da(n),o=n<0?gn(r+o,0):vn(o,r-1)),Ut(e,oo(t,3),o,!0)}function Wo(e){return null!=e&&e.length?mr(e,1):[]}function qo(e){return e&&e.length?e[0]:i}var Ho=Kr((function(e){var t=At(e,pi);return t.length&&t[0]===e[0]?Cr(t):[]})),Ko=Kr((function(e){var t=Qo(e),n=At(e,pi);return t===Qo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Cr(n,oo(t,2)):[]})),Go=Kr((function(e){var t=Qo(e),n=At(e,pi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Cr(n,i,t):[]}));function Qo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Yo=Kr(Xo);function Xo(e,t){return e&&e.length&&t&&t.length?$r(e,t):e}var Jo=Zi((function(e,t){var n=null==e?0:e.length,r=ir(e,t);return Wr(e,At(t,(function(e){return go(e,n)?+e:e})).sort(ki)),r}));function Zo(e){return null==e?e:En.call(e)}var es=Kr((function(e){return ai(mr(e,1,Hs,!0))})),ts=Kr((function(e){var t=Qo(e);return Hs(t)&&(t=i),ai(mr(e,1,Hs,!0),oo(t,2))})),ns=Kr((function(e){var t=Qo(e);return t="function"==typeof t?t:i,ai(mr(e,1,Hs,!0),i,t)}));function rs(e){if(!e||!e.length)return[];var t=0;return e=Ot(e,(function(e){if(Hs(e))return t=gn(e.length,t),!0})),Kt(t,(function(t){return At(e,$t(t))}))}function is(e,t){if(!e||!e.length)return[];var n=rs(e);return null==t?n:At(n,(function(e){return kt(t,i,e)}))}var os=Kr((function(e,t){return Hs(e)?ur(e,t):[]})),ss=Kr((function(e){return fi(Ot(e,Hs))})),as=Kr((function(e){var t=Qo(e);return Hs(t)&&(t=i),fi(Ot(e,Hs),oo(t,2))})),ls=Kr((function(e){var t=Qo(e);return t="function"==typeof t?t:i,fi(Ot(e,Hs),i,t)})),us=Kr(rs),cs=Kr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,is(e,n)}));function hs(e){var t=Un(e);return t.__chain__=!0,t}function fs(e,t){return t(e)}var ds=Zi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return ir(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&go(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:fs,args:[o],thisArg:i}),new Bn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),ps=Oi((function(e,t,n){Re.call(e,n)?++e[n]:rr(e,n,1)})),ms=Li(Vo),gs=Li($o);function vs(e,t){return($s(e)?St:cr)(e,oo(t,3))}function ys(e,t){return($s(e)?It:hr)(e,oo(t,3))}var ws=Oi((function(e,t,n){Re.call(e,n)?e[n].push(t):rr(e,n,[t])})),bs=Kr((function(e,t,n){var i=-1,o="function"==typeof t,s=qs(e)?r(e.length):[];return cr(e,(function(e){s[++i]=o?kt(t,e,n):Or(e,t,n)})),s})),Es=Oi((function(e,t,n){rr(e,n,t)}));function _s(e,t){return($s(e)?At:Mr)(e,oo(t,3))}var ks=Oi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Ts=Kr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&vo(e,t[0],t[1])?t=[]:n>2&&vo(t[0],t[1],t[2])&&(t=[t[0]]),Br(e,mr(t,1),[])})),Ss=ut||function(){return ht.Date.now()};function Is(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Gi(e,u,i,i,i,i,t)}function Cs(e,t){var n;if("function"!=typeof t)throw new Ce(o);return e=da(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Os=Kr((function(e,t,n){var r=1;if(n.length){var i=an(n,io(Os));r|=l}return Gi(e,r,t,n,i)})),Ns=Kr((function(e,t,n){var r=3;if(n.length){var i=an(n,io(Ns));r|=l}return Gi(t,r,e,n,i)}));function xs(e,t,n){var r,s,a,l,u,c,h=0,f=!1,d=!1,p=!0;if("function"!=typeof e)throw new Ce(o);function m(t){var n=r,o=s;return r=s=i,h=t,l=e.apply(o,n)}function g(e){var n=e-c;return c===i||n>=t||n<0||d&&e-h>=a}function v(){var e=Ss();if(g(e))return y(e);u=Oo(v,function(e){var n=t-(e-c);return d?vn(n,a-(e-h)):n}(e))}function y(e){return u=i,p&&r?m(e):(r=s=i,l)}function w(){var e=Ss(),n=g(e);if(r=arguments,s=this,c=e,n){if(u===i)return function(e){return h=e,u=Oo(v,t),f?m(e):l}(c);if(d)return wi(u),u=Oo(v,t),m(c)}return u===i&&(u=Oo(v,t)),l}return t=ma(t)||0,Zs(n)&&(f=!!n.leading,a=(d="maxWait"in n)?gn(ma(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),w.cancel=function(){u!==i&&wi(u),h=0,r=c=s=u=i},w.flush=function(){return u===i?l:y(Ss())},w}var As=Kr((function(e,t){return lr(e,1,t)})),Ps=Kr((function(e,t,n){return lr(e,ma(t)||0,n)}));function Rs(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ce(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Rs.Cache||qn),n}function Ds(e){if("function"!=typeof e)throw new Ce(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Rs.Cache=qn;var Ls=vi((function(e,t){var n=(t=1==t.length&&$s(t[0])?At(t[0],Qt(oo())):At(mr(t,1),Qt(oo()))).length;return Kr((function(r){for(var i=-1,o=vn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return kt(e,this,r)}))})),Ms=Kr((function(e,t){var n=an(t,io(Ms));return Gi(e,l,i,t,n)})),js=Kr((function(e,t){var n=an(t,io(js));return Gi(e,64,i,t,n)})),Us=Zi((function(e,t){return Gi(e,256,i,i,i,t)}));function Fs(e,t){return e===t||e!=e&&t!=t}var zs=$i(Tr),Bs=$i((function(e,t){return e>=t})),Vs=Nr(function(){return arguments}())?Nr:function(e){return ea(e)&&Re.call(e,"callee")&&!He.call(e,"callee")},$s=r.isArray,Ws=vt?Qt(vt):function(e){return ea(e)&&kr(e)==A};function qs(e){return null!=e&&Js(e.length)&&!Ys(e)}function Hs(e){return ea(e)&&qs(e)}var Ks=gt||ml,Gs=yt?Qt(yt):function(e){return ea(e)&&kr(e)==y};function Qs(e){if(!ea(e))return!1;var t=kr(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ra(e)}function Ys(e){if(!Zs(e))return!1;var t=kr(e);return t==b||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Xs(e){return"number"==typeof e&&e==da(e)}function Js(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function Zs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ea(e){return null!=e&&"object"==typeof e}var ta=wt?Qt(wt):function(e){return ea(e)&&ho(e)==_};function na(e){return"number"==typeof e||ea(e)&&kr(e)==k}function ra(e){if(!ea(e)||kr(e)!=T)return!1;var t=We(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Pe.call(n)==je}var ia=bt?Qt(bt):function(e){return ea(e)&&kr(e)==I},oa=Et?Qt(Et):function(e){return ea(e)&&ho(e)==C};function sa(e){return"string"==typeof e||!$s(e)&&ea(e)&&kr(e)==O}function aa(e){return"symbol"==typeof e||ea(e)&&kr(e)==N}var la=_t?Qt(_t):function(e){return ea(e)&&Js(e.length)&&!!it[kr(e)]},ua=$i(Lr),ca=$i((function(e,t){return e<=t}));function ha(e){if(!e)return[];if(qs(e))return sa(e)?hn(e):Ii(e);if(Qe&&e[Qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qe]());var t=ho(e);return(t==_?on:t==C?ln:Fa)(e)}function fa(e){return e?(e=ma(e))===c||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function da(e){var t=fa(e),n=t%1;return t==t?n?t-n:t:0}function pa(e){return e?or(da(e),0,d):0}function ma(e){if("number"==typeof e)return e;if(aa(e))return f;if(Zs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Zs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Gt(e);var n=pe.test(e);return n||ge.test(e)?lt(e.slice(2),n?2:8):de.test(e)?f:+e}function ga(e){return Ci(e,Aa(e))}function va(e){return null==e?"":si(e)}var ya=Ni((function(e,t){if(Eo(t)||qs(t))Ci(t,xa(t),e);else for(var n in t)Re.call(t,n)&&Zn(e,n,t[n])})),wa=Ni((function(e,t){Ci(t,Aa(t),e)})),ba=Ni((function(e,t,n,r){Ci(t,Aa(t),e,r)})),Ea=Ni((function(e,t,n,r){Ci(t,xa(t),e,r)})),_a=Zi(ir),ka=Kr((function(e,t){e=Te(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&vo(t[0],t[1],o)&&(r=1);++n<r;)for(var s=t[n],a=Aa(s),l=-1,u=a.length;++l<u;){var c=a[l],h=e[c];(h===i||Fs(h,xe[c])&&!Re.call(e,c))&&(e[c]=s[c])}return e})),Ta=Kr((function(e){return e.push(i,Yi),kt(Ra,i,e)}));function Sa(e,t,n){var r=null==e?i:Er(e,t);return r===i?n:r}function Ia(e,t){return null!=e&&fo(e,t,Ir)}var Ca=Ui((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),e[t]=n}),Za(nl)),Oa=Ui((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]}),oo),Na=Kr(Or);function xa(e){return qs(e)?Gn(e):Dr(e)}function Aa(e){return qs(e)?Gn(e,!0):function(e){if(!Zs(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=Eo(e),n=[];for(var r in e)("constructor"!=r||!t&&Re.call(e,r))&&n.push(r);return n}(e)}var Pa=Ni((function(e,t,n){Fr(e,t,n)})),Ra=Ni((function(e,t,n,r){Fr(e,t,n,r)})),Da=Zi((function(e,t){var n={};if(null==e)return n;var r=!1;t=At(t,(function(t){return t=gi(t,e),r||(r=t.length>1),t})),Ci(e,to(e),n),r&&(n=sr(n,7,Xi));for(var i=t.length;i--;)li(n,t[i]);return n})),La=Zi((function(e,t){return null==e?{}:function(e,t){return Vr(e,t,(function(t,n){return Ia(e,n)}))}(e,t)}));function Ma(e,t){if(null==e)return{};var n=At(to(e),(function(e){return[e]}));return t=oo(t),Vr(e,n,(function(e,n){return t(e,n[0])}))}var ja=Ki(xa),Ua=Ki(Aa);function Fa(e){return null==e?[]:Yt(e,xa(e))}var za=Ri((function(e,t,n){return t=t.toLowerCase(),e+(n?Ba(t):t)}));function Ba(e){return Qa(va(e).toLowerCase())}function Va(e){return(e=va(e))&&e.replace(ye,en).replace(Xe,"")}var $a=Ri((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Wa=Ri((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),qa=Pi("toLowerCase"),Ha=Ri((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Ka=Ri((function(e,t,n){return e+(n?" ":"")+Qa(t)})),Ga=Ri((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Qa=Pi("toUpperCase");function Ya(e,t,n){return e=va(e),(t=n?i:t)===i?function(e){return tt.test(e)}(e)?function(e){return e.match(Ze)||[]}(e):function(e){return e.match(le)||[]}(e):e.match(t)||[]}var Xa=Kr((function(e,t){try{return kt(e,i,t)}catch(e){return Qs(e)?e:new Ee(e)}})),Ja=Zi((function(e,t){return St(t,(function(t){t=Mo(t),rr(e,t,Os(e[t],e))})),e}));function Za(e){return function(){return e}}var el=Mi(),tl=Mi(!0);function nl(e){return e}function rl(e){return Rr("function"==typeof e?e:sr(e,1))}var il=Kr((function(e,t){return function(n){return Or(n,e,t)}})),ol=Kr((function(e,t){return function(n){return Or(e,n,t)}}));function sl(e,t,n){var r=xa(t),i=br(t,r);null!=n||Zs(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=br(t,xa(t)));var o=!(Zs(n)&&"chain"in n&&!n.chain),s=Ys(e);return St(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Ii(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Pt([this.value()],arguments))})})),e}function al(){}var ll=zi(At),ul=zi(Ct),cl=zi(Lt);function hl(e){return yo(e)?$t(Mo(e)):function(e){return function(t){return Er(t,e)}}(e)}var fl=Vi(),dl=Vi(!0);function pl(){return[]}function ml(){return!1}var gl,vl=Fi((function(e,t){return e+t}),0),yl=qi("ceil"),wl=Fi((function(e,t){return e/t}),1),bl=qi("floor"),El=Fi((function(e,t){return e*t}),1),_l=qi("round"),kl=Fi((function(e,t){return e-t}),0);return Un.after=function(e,t){if("function"!=typeof t)throw new Ce(o);return e=da(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=Is,Un.assign=ya,Un.assignIn=wa,Un.assignInWith=ba,Un.assignWith=Ea,Un.at=_a,Un.before=Cs,Un.bind=Os,Un.bindAll=Ja,Un.bindKey=Ns,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return $s(e)?e:[e]},Un.chain=hs,Un.chunk=function(e,t,n){t=(n?vo(e,t,n):t===i)?1:gn(da(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,l=r(ft(o/t));s<o;)l[a++]=ei(e,s,s+=t);return l},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Pt($s(n)?Ii(n):[n],mr(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=oo();return e=t?At(e,(function(e){if("function"!=typeof e[1])throw new Ce(o);return[n(e[0]),e[1]]})):[],Kr((function(n){for(var r=-1;++r<t;){var i=e[r];if(kt(i[0],this,n))return kt(i[1],this,n)}}))},Un.conforms=function(e){return function(e){var t=xa(e);return function(n){return ar(n,e,t)}}(sr(e,1))},Un.constant=Za,Un.countBy=ps,Un.create=function(e,t){var n=Fn(e);return null==t?n:nr(n,t)},Un.curry=function e(t,n,r){var o=Gi(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Un.curryRight=function e(t,n,r){var o=Gi(t,16,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Un.debounce=xs,Un.defaults=ka,Un.defaultsDeep=Ta,Un.defer=As,Un.delay=Ps,Un.difference=Fo,Un.differenceBy=zo,Un.differenceWith=Bo,Un.drop=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=n||t===i?1:da(t))<0?0:t,r):[]},Un.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,0,(t=r-(t=n||t===i?1:da(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?ci(e,oo(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?ci(e,oo(t,3),!0):[]},Un.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&vo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=da(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:da(r))<0&&(r+=o),r=n>r?0:pa(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Un.filter=function(e,t){return($s(e)?Ot:pr)(e,oo(t,3))},Un.flatMap=function(e,t){return mr(_s(e,t),1)},Un.flatMapDeep=function(e,t){return mr(_s(e,t),c)},Un.flatMapDepth=function(e,t,n){return n=n===i?1:da(n),mr(_s(e,t),n)},Un.flatten=Wo,Un.flattenDeep=function(e){return null!=e&&e.length?mr(e,c):[]},Un.flattenDepth=function(e,t){return null!=e&&e.length?mr(e,t=t===i?1:da(t)):[]},Un.flip=function(e){return Gi(e,512)},Un.flow=el,Un.flowRight=tl,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Un.functions=function(e){return null==e?[]:br(e,xa(e))},Un.functionsIn=function(e){return null==e?[]:br(e,Aa(e))},Un.groupBy=ws,Un.initial=function(e){return null!=e&&e.length?ei(e,0,-1):[]},Un.intersection=Ho,Un.intersectionBy=Ko,Un.intersectionWith=Go,Un.invert=Ca,Un.invertBy=Oa,Un.invokeMap=bs,Un.iteratee=rl,Un.keyBy=Es,Un.keys=xa,Un.keysIn=Aa,Un.map=_s,Un.mapKeys=function(e,t){var n={};return t=oo(t,3),yr(e,(function(e,r,i){rr(n,t(e,r,i),e)})),n},Un.mapValues=function(e,t){var n={};return t=oo(t,3),yr(e,(function(e,r,i){rr(n,r,t(e,r,i))})),n},Un.matches=function(e){return jr(sr(e,1))},Un.matchesProperty=function(e,t){return Ur(e,sr(t,1))},Un.memoize=Rs,Un.merge=Pa,Un.mergeWith=Ra,Un.method=il,Un.methodOf=ol,Un.mixin=sl,Un.negate=Ds,Un.nthArg=function(e){return e=da(e),Kr((function(t){return zr(t,e)}))},Un.omit=Da,Un.omitBy=function(e,t){return Ma(e,Ds(oo(t)))},Un.once=function(e){return Cs(2,e)},Un.orderBy=function(e,t,n,r){return null==e?[]:($s(t)||(t=null==t?[]:[t]),$s(n=r?i:n)||(n=null==n?[]:[n]),Br(e,t,n))},Un.over=ll,Un.overArgs=Ls,Un.overEvery=ul,Un.overSome=cl,Un.partial=Ms,Un.partialRight=js,Un.partition=ks,Un.pick=La,Un.pickBy=Ma,Un.property=hl,Un.propertyOf=function(e){return function(t){return null==e?i:Er(e,t)}},Un.pull=Yo,Un.pullAll=Xo,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,oo(n,2)):e},Un.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,i,n):e},Un.pullAt=Jo,Un.range=fl,Un.rangeRight=dl,Un.rearg=Us,Un.reject=function(e,t){return($s(e)?Ot:pr)(e,Ds(oo(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=oo(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Wr(e,i),n},Un.rest=function(e,t){if("function"!=typeof e)throw new Ce(o);return Kr(e,t=t===i?t:da(t))},Un.reverse=Zo,Un.sampleSize=function(e,t,n){return t=(n?vo(e,t,n):t===i)?1:da(t),($s(e)?Yn:Qr)(e,t)},Un.set=function(e,t,n){return null==e?e:Yr(e,t,n)},Un.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Yr(e,t,n,r)},Un.shuffle=function(e){return($s(e)?Xn:Zr)(e)},Un.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&vo(e,t,n)?(t=0,n=r):(t=null==t?0:da(t),n=n===i?r:da(n)),ei(e,t,n)):[]},Un.sortBy=Ts,Un.sortedUniq=function(e){return e&&e.length?ii(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?ii(e,oo(t,2)):[]},Un.split=function(e,t,n){return n&&"number"!=typeof n&&vo(e,t,n)&&(t=n=i),(n=n===i?d:n>>>0)?(e=va(e))&&("string"==typeof t||null!=t&&!ia(t))&&!(t=si(t))&&rn(e)?yi(hn(e),0,n):e.split(t,n):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new Ce(o);return t=null==t?0:gn(da(t),0),Kr((function(n){var r=n[t],i=yi(n,0,t);return r&&Pt(i,r),kt(e,this,i)}))},Un.tail=function(e){var t=null==e?0:e.length;return t?ei(e,1,t):[]},Un.take=function(e,t,n){return e&&e.length?ei(e,0,(t=n||t===i?1:da(t))<0?0:t):[]},Un.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=r-(t=n||t===i?1:da(t)))<0?0:t,r):[]},Un.takeRightWhile=function(e,t){return e&&e.length?ci(e,oo(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?ci(e,oo(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ce(o);return Zs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),xs(e,t,{leading:r,maxWait:t,trailing:i})},Un.thru=fs,Un.toArray=ha,Un.toPairs=ja,Un.toPairsIn=Ua,Un.toPath=function(e){return $s(e)?At(e,Mo):aa(e)?[e]:Ii(Lo(va(e)))},Un.toPlainObject=ga,Un.transform=function(e,t,n){var r=$s(e),i=r||Ks(e)||la(e);if(t=oo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Zs(e)&&Ys(o)?Fn(We(e)):{}}return(i?St:yr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Un.unary=function(e){return Is(e,1)},Un.union=es,Un.unionBy=ts,Un.unionWith=ns,Un.uniq=function(e){return e&&e.length?ai(e):[]},Un.uniqBy=function(e,t){return e&&e.length?ai(e,oo(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ai(e,i,t):[]},Un.unset=function(e,t){return null==e||li(e,t)},Un.unzip=rs,Un.unzipWith=is,Un.update=function(e,t,n){return null==e?e:ui(e,t,mi(n))},Un.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ui(e,t,mi(n),r)},Un.values=Fa,Un.valuesIn=function(e){return null==e?[]:Yt(e,Aa(e))},Un.without=os,Un.words=Ya,Un.wrap=function(e,t){return Ms(mi(t),e)},Un.xor=ss,Un.xorBy=as,Un.xorWith=ls,Un.zip=us,Un.zipObject=function(e,t){return di(e||[],t||[],Zn)},Un.zipObjectDeep=function(e,t){return di(e||[],t||[],Yr)},Un.zipWith=cs,Un.entries=ja,Un.entriesIn=Ua,Un.extend=wa,Un.extendWith=ba,sl(Un,Un),Un.add=vl,Un.attempt=Xa,Un.camelCase=za,Un.capitalize=Ba,Un.ceil=yl,Un.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ma(n))==n?n:0),t!==i&&(t=(t=ma(t))==t?t:0),or(ma(e),t,n)},Un.clone=function(e){return sr(e,4)},Un.cloneDeep=function(e){return sr(e,5)},Un.cloneDeepWith=function(e,t){return sr(e,5,t="function"==typeof t?t:i)},Un.cloneWith=function(e,t){return sr(e,4,t="function"==typeof t?t:i)},Un.conformsTo=function(e,t){return null==t||ar(e,t,xa(t))},Un.deburr=Va,Un.defaultTo=function(e,t){return null==e||e!=e?t:e},Un.divide=wl,Un.endsWith=function(e,t,n){e=va(e),t=si(t);var r=e.length,o=n=n===i?r:or(da(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Un.eq=Fs,Un.escape=function(e){return(e=va(e))&&G.test(e)?e.replace(H,tn):e},Un.escapeRegExp=function(e){return(e=va(e))&&ne.test(e)?e.replace(te,"\\$&"):e},Un.every=function(e,t,n){var r=$s(e)?Ct:fr;return n&&vo(e,t,n)&&(t=i),r(e,oo(t,3))},Un.find=ms,Un.findIndex=Vo,Un.findKey=function(e,t){return jt(e,oo(t,3),yr)},Un.findLast=gs,Un.findLastIndex=$o,Un.findLastKey=function(e,t){return jt(e,oo(t,3),wr)},Un.floor=bl,Un.forEach=vs,Un.forEachRight=ys,Un.forIn=function(e,t){return null==e?e:gr(e,oo(t,3),Aa)},Un.forInRight=function(e,t){return null==e?e:vr(e,oo(t,3),Aa)},Un.forOwn=function(e,t){return e&&yr(e,oo(t,3))},Un.forOwnRight=function(e,t){return e&&wr(e,oo(t,3))},Un.get=Sa,Un.gt=zs,Un.gte=Bs,Un.has=function(e,t){return null!=e&&fo(e,t,Sr)},Un.hasIn=Ia,Un.head=qo,Un.identity=nl,Un.includes=function(e,t,n,r){e=qs(e)?e:Fa(e),n=n&&!r?da(n):0;var i=e.length;return n<0&&(n=gn(i+n,0)),sa(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ft(e,t,n)>-1},Un.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:da(n);return i<0&&(i=gn(r+i,0)),Ft(e,t,i)},Un.inRange=function(e,t,n){return t=fa(t),n===i?(n=t,t=0):n=fa(n),function(e,t,n){return e>=vn(t,n)&&e<gn(t,n)}(e=ma(e),t,n)},Un.invoke=Na,Un.isArguments=Vs,Un.isArray=$s,Un.isArrayBuffer=Ws,Un.isArrayLike=qs,Un.isArrayLikeObject=Hs,Un.isBoolean=function(e){return!0===e||!1===e||ea(e)&&kr(e)==v},Un.isBuffer=Ks,Un.isDate=Gs,Un.isElement=function(e){return ea(e)&&1===e.nodeType&&!ra(e)},Un.isEmpty=function(e){if(null==e)return!0;if(qs(e)&&($s(e)||"string"==typeof e||"function"==typeof e.splice||Ks(e)||la(e)||Vs(e)))return!e.length;var t=ho(e);if(t==_||t==C)return!e.size;if(Eo(e))return!Dr(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return xr(e,t)},Un.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?xr(e,t,i,n):!!r},Un.isError=Qs,Un.isFinite=function(e){return"number"==typeof e&&Mt(e)},Un.isFunction=Ys,Un.isInteger=Xs,Un.isLength=Js,Un.isMap=ta,Un.isMatch=function(e,t){return e===t||Ar(e,t,ao(t))},Un.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Ar(e,t,ao(t),n)},Un.isNaN=function(e){return na(e)&&e!=+e},Un.isNative=function(e){if(bo(e))throw new Ee("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Pr(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=na,Un.isObject=Zs,Un.isObjectLike=ea,Un.isPlainObject=ra,Un.isRegExp=ia,Un.isSafeInteger=function(e){return Xs(e)&&e>=-9007199254740991&&e<=h},Un.isSet=oa,Un.isString=sa,Un.isSymbol=aa,Un.isTypedArray=la,Un.isUndefined=function(e){return e===i},Un.isWeakMap=function(e){return ea(e)&&ho(e)==x},Un.isWeakSet=function(e){return ea(e)&&"[object WeakSet]"==kr(e)},Un.join=function(e,t){return null==e?"":Wt.call(e,t)},Un.kebabCase=$a,Un.last=Qo,Un.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=da(n))<0?gn(r+o,0):vn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Ut(e,Bt,o,!0)},Un.lowerCase=Wa,Un.lowerFirst=qa,Un.lt=ua,Un.lte=ca,Un.max=function(e){return e&&e.length?dr(e,nl,Tr):i},Un.maxBy=function(e,t){return e&&e.length?dr(e,oo(t,2),Tr):i},Un.mean=function(e){return Vt(e,nl)},Un.meanBy=function(e,t){return Vt(e,oo(t,2))},Un.min=function(e){return e&&e.length?dr(e,nl,Lr):i},Un.minBy=function(e,t){return e&&e.length?dr(e,oo(t,2),Lr):i},Un.stubArray=pl,Un.stubFalse=ml,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=El,Un.nth=function(e,t){return e&&e.length?zr(e,da(t)):i},Un.noConflict=function(){return ht._===this&&(ht._=Ue),this},Un.noop=al,Un.now=Ss,Un.pad=function(e,t,n){e=va(e);var r=(t=da(t))?cn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Bi(dt(i),n)+e+Bi(ft(i),n)},Un.padEnd=function(e,t,n){e=va(e);var r=(t=da(t))?cn(e):0;return t&&r<t?e+Bi(t-r,n):e},Un.padStart=function(e,t,n){e=va(e);var r=(t=da(t))?cn(e):0;return t&&r<t?Bi(t-r,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(va(e).replace(re,""),t||0)},Un.random=function(e,t,n){if(n&&"boolean"!=typeof n&&vo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=fa(e),t===i?(t=e,e=0):t=fa(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=bn();return vn(e+o*(t-e+at("1e-"+((o+"").length-1))),t)}return qr(e,t)},Un.reduce=function(e,t,n){var r=$s(e)?Rt:qt,i=arguments.length<3;return r(e,oo(t,4),n,i,cr)},Un.reduceRight=function(e,t,n){var r=$s(e)?Dt:qt,i=arguments.length<3;return r(e,oo(t,4),n,i,hr)},Un.repeat=function(e,t,n){return t=(n?vo(e,t,n):t===i)?1:da(t),Hr(va(e),t)},Un.replace=function(){var e=arguments,t=va(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,n){var r=-1,o=(t=gi(t,e)).length;for(o||(o=1,e=i);++r<o;){var s=null==e?i:e[Mo(t[r])];s===i&&(r=o,s=n),e=Ys(s)?s.call(e):s}return e},Un.round=_l,Un.runInContext=e,Un.sample=function(e){return($s(e)?Qn:Gr)(e)},Un.size=function(e){if(null==e)return 0;if(qs(e))return sa(e)?cn(e):e.length;var t=ho(e);return t==_||t==C?e.size:Dr(e).length},Un.snakeCase=Ha,Un.some=function(e,t,n){var r=$s(e)?Lt:ti;return n&&vo(e,t,n)&&(t=i),r(e,oo(t,3))},Un.sortedIndex=function(e,t){return ni(e,t)},Un.sortedIndexBy=function(e,t,n){return ri(e,t,oo(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ni(e,t);if(r<n&&Fs(e[r],t))return r}return-1},Un.sortedLastIndex=function(e,t){return ni(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return ri(e,t,oo(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ni(e,t,!0)-1;if(Fs(e[n],t))return n}return-1},Un.startCase=Ka,Un.startsWith=function(e,t,n){return e=va(e),n=null==n?0:or(da(n),0,e.length),t=si(t),e.slice(n,n+t.length)==t},Un.subtract=kl,Un.sum=function(e){return e&&e.length?Ht(e,nl):0},Un.sumBy=function(e,t){return e&&e.length?Ht(e,oo(t,2)):0},Un.template=function(e,t,n){var r=Un.templateSettings;n&&vo(e,t,n)&&(t=i),e=va(e),t=ba({},t,r,Qi);var o,s,a=ba({},t.imports,r.imports,Qi),l=xa(a),u=Yt(a,l),c=0,h=t.interpolate||we,f="__p += '",d=Se((t.escape||we).source+"|"+h.source+"|"+(h===X?he:we).source+"|"+(t.evaluate||we).source+"|$","g"),p="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(d,(function(t,n,r,i,a,l){return r||(r=i),f+=e.slice(c,l).replace(be,nn),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),f+="';\n";var m=Re.call(t,"variable")&&t.variable;if(m){if(ue.test(m))throw new Ee("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(s?f.replace(V,""):f).replace($,"$1").replace(W,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Xa((function(){return _e(l,p+"return "+f).apply(i,u)}));if(g.source=f,Qs(g))throw g;return g},Un.times=function(e,t){if((e=da(e))<1||e>h)return[];var n=d,r=vn(e,d);t=oo(t),e-=d;for(var i=Kt(r,t);++n<e;)t(n);return i},Un.toFinite=fa,Un.toInteger=da,Un.toLength=pa,Un.toLower=function(e){return va(e).toLowerCase()},Un.toNumber=ma,Un.toSafeInteger=function(e){return e?or(da(e),-9007199254740991,h):0===e?e:0},Un.toString=va,Un.toUpper=function(e){return va(e).toUpperCase()},Un.trim=function(e,t,n){if((e=va(e))&&(n||t===i))return Gt(e);if(!e||!(t=si(t)))return e;var r=hn(e),o=hn(t);return yi(r,Jt(r,o),Zt(r,o)+1).join("")},Un.trimEnd=function(e,t,n){if((e=va(e))&&(n||t===i))return e.slice(0,fn(e)+1);if(!e||!(t=si(t)))return e;var r=hn(e);return yi(r,0,Zt(r,hn(t))+1).join("")},Un.trimStart=function(e,t,n){if((e=va(e))&&(n||t===i))return e.replace(re,"");if(!e||!(t=si(t)))return e;var r=hn(e);return yi(r,Jt(r,hn(t))).join("")},Un.truncate=function(e,t){var n=30,r="...";if(Zs(t)){var o="separator"in t?t.separator:o;n="length"in t?da(t.length):n,r="omission"in t?si(t.omission):r}var s=(e=va(e)).length;if(rn(e)){var a=hn(e);s=a.length}if(n>=s)return e;var l=n-cn(r);if(l<1)return r;var u=a?yi(a,0,l).join(""):e.slice(0,l);if(o===i)return u+r;if(a&&(l+=u.length-l),ia(o)){if(e.slice(l).search(o)){var c,h=u;for(o.global||(o=Se(o.source,va(fe.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var f=c.index;u=u.slice(0,f===i?l:f)}}else if(e.indexOf(si(o),l)!=l){var d=u.lastIndexOf(o);d>-1&&(u=u.slice(0,d))}return u+r},Un.unescape=function(e){return(e=va(e))&&K.test(e)?e.replace(q,dn):e},Un.uniqueId=function(e){var t=++De;return va(e)+t},Un.upperCase=Ga,Un.upperFirst=Qa,Un.each=vs,Un.eachRight=ys,Un.first=qo,sl(Un,(gl={},yr(Un,(function(e,t){Re.call(Un.prototype,t)||(gl[t]=e)})),gl),{chain:!1}),Un.VERSION="4.17.21",St(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Un[e].placeholder=Un})),St(["drop","take"],(function(e,t){Vn.prototype[e]=function(n){n=n===i?1:gn(da(n),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=vn(n,r.__takeCount__):r.__views__.push({size:vn(n,d),type:e+(r.__dir__<0?"Right":"")}),r},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),St(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:oo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),St(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),St(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(nl)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Kr((function(e,t){return"function"==typeof e?new Vn(this):this.map((function(n){return Or(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(Ds(oo(e)))},Vn.prototype.slice=function(e,t){e=da(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=da(t))<0?n.dropRight(-t):n.take(t-e)),n)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(d)},yr(Vn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Un[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&(Un.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,l=t instanceof Vn,u=a[0],c=l||$s(t),h=function(e){var t=o.apply(Un,Pt([e],a));return r&&f?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var f=this.__chain__,d=!!this.__actions__.length,p=s&&!f,m=l&&!d;if(!s&&c){t=m?t:new Vn(this);var g=e.apply(t,a);return g.__actions__.push({func:fs,args:[h],thisArg:i}),new Bn(g,f)}return p&&m?e.apply(this,a):(g=this.thru(h),p?r?g.value()[0]:g.value():g)})})),St(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Oe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply($s(i)?i:[],e)}return this[n]((function(n){return t.apply($s(n)?n:[],e)}))}})),yr(Vn.prototype,(function(e,t){var n=Un[t];if(n){var r=n.name+"";Re.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:t,func:n})}})),Nn[ji(i,2).name]=[{name:"wrapper",func:i}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Ii(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ii(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ii(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=$s(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=vn(t,e+s);break;case"takeRight":e=gn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,l=a-s,u=r?a:s-1,c=this.__iteratees__,h=c.length,f=0,d=vn(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return hi(e,this.__actions__);var p=[];e:for(;l--&&f<d;){for(var m=-1,g=e[u+=t];++m<h;){var v=c[m],y=v.iteratee,w=v.type,b=y(g);if(2==w)g=b;else if(!b){if(1==w)continue e;break e}}p[f++]=g}return p},Un.prototype.at=ds,Un.prototype.chain=function(){return hs(this)},Un.prototype.commit=function(){return new Bn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===i&&(this.__values__=ha(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,n=this;n instanceof zn;){var r=Uo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:fs,args:[Zo],thisArg:i}),new Bn(t,this.__chain__)}return this.thru(Zo)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Qe&&(Un.prototype[Qe]=function(){return this}),Un}();ht._=pn,(r=function(){return pn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var o,s,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in o=Object(arguments[l]))n.call(o,u)&&(a[u]=o[u]);if(t){s=t(o);for(var c=0;c<s.length;c++)r.call(o,s[c])&&(a[s[c]]=o[s[c]])}}return a}},703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},448:(e,t,n)=>{"use strict";var r=n(294),i=n(418),o=n(840);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var a=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(p,e)&&(f.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,w);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,w);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,w);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,k=60106,T=60107,S=60108,I=60114,C=60109,O=60110,N=60112,x=60113,A=60120,P=60115,R=60116,D=60121,L=60128,M=60129,j=60130,U=60131;if("function"==typeof Symbol&&Symbol.for){var F=Symbol.for;_=F("react.element"),k=F("react.portal"),T=F("react.fragment"),S=F("react.strict_mode"),I=F("react.profiler"),C=F("react.provider"),O=F("react.context"),N=F("react.forward_ref"),x=F("react.suspense"),A=F("react.suspense_list"),P=F("react.memo"),R=F("react.lazy"),D=F("react.block"),F("react.scope"),L=F("react.opaque.id"),M=F("react.debug_trace_mode"),j=F("react.offscreen"),U=F("react.legacy_hidden")}var z,B="function"==typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=B&&e[B]||e["@@iterator"])?e:null}function $(e){if(void 0===z)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var W=!1;function q(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a])return"\n"+i[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$(e):""}function H(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return q(e.type,!1);case 11:return q(e.type.render,!1);case 22:return q(e.type._render,!1);case 1:return q(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case T:return"Fragment";case k:return"Portal";case I:return"Profiler";case S:return"StrictMode";case x:return"Suspense";case A:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return K(e.type);case D:return K(e._render);case R:t=e._payload,e=e._init;try{return K(e(t))}catch(e){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function se(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ue(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if(e.namespaceURI!==he.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(s(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ce=null,Oe=null;function Ne(e){if(e=ni(e)){if("function"!=typeof Ie)throw Error(s(280));var t=e.stateNode;t&&(t=ii(t),Ie(e.stateNode,e.type,t))}}function xe(e){Ce?Oe?Oe.push(e):Oe=[e]:Ce=e}function Ae(){if(Ce){var e=Ce,t=Oe;if(Oe=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Pe(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Pe,Me=!1,je=!1;function Ue(){null===Ce&&null===Oe||(De(),Ae())}function Fe(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var ze=!1;if(h)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){ze=!1}function Ve(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var $e=!1,We=null,qe=!1,He=null,Ke={onError:function(e){$e=!0,We=e}};function Ge(e,t,n,r,i,o,s,a,l){$e=!1,We=null,Ve.apply(Ke,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Xe(e){if(Qe(e)!==e)throw Error(s(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xe(i),e;if(o===r)return Xe(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],st=null,at=null,lt=null,ut=new Map,ct=new Map,ht=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=dt(t,n,r,i,o),null!==t&&null!==(t=ni(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ti(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){vt(e)&&n.delete(t)}function wt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&vt(st)&&(st=null),null!==at&&vt(at)&&(at=null),null!==lt&&vt(lt)&&(lt=null),ut.forEach(yt),ct.forEach(yt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wt)))}function Et(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&bt(st,e),null!==at&&bt(at,e),null!==lt&&bt(lt,e),ut.forEach(t),ct.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},Tt={},St={};function It(e){if(Tt[e])return Tt[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Tt[e]=n[t];return e}h&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var Ct=It("animationend"),Ot=It("animationiteration"),Nt=It("animationstart"),xt=It("transitionend"),At=new Map,Pt=new Map,Rt=["abort","abort",Ct,"animationEnd",Ot,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",xt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),At.set(r,i),u(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!=(o=134217727&n)){var l=o&~s;0!==l?(r=Mt(l),i=Lt):0!=(a&=o)&&(r=Mt(a),i=Lt)}else 0!=(o=n&~s)?(r=Mt(o),i=Lt):0!==a&&(r=Mt(a),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-$t(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&s)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-$t(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ft(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Ft(10,t):e;case 10:return 0===(e=zt(192&~t))?Ft(8,t):e;case 8:return 0===(e=zt(3584&~t))&&0===(e=zt(4186112&~t))&&(e=512),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-$t(t)]=n}var $t=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/qt|0)|0},Wt=Math.log,qt=Math.LN2,Ht=o.unstable_UserBlockingPriority,Kt=o.unstable_runWithPriority,Gt=!0;function Qt(e,t,n,r){Me||De();var i=Xt,o=Me;Me=!0;try{Re(i,e,t,n,r)}finally{(Me=o)||Ue()}}function Yt(e,t,n,r){Kt(Ht,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Gt)if((i=0==(4&t))&&0<ot.length&&-1<ft.indexOf(e))e=dt(null,e,t,n,r),ot.push(e);else{var o=Jt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=dt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return at=mt(at,e,t,n,r,i),!0;case"mouseover":return lt=mt(lt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ut.set(o,mt(ut.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Dr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Se(r);if(null!==(i=ti(i))){var o=Qe(i);if(null===o)i=null;else{var s=o.tag;if(13===s){if(null!==(i=Ye(o)))return i;i=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function an(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,un,cn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=an(hn),dn=i({},hn,{view:0,detail:0}),pn=an(dn),mn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(ln=e.screenX-cn.screenX,un=e.screenY-cn.screenY):un=ln=0,cn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:un}}),gn=an(mn),vn=an(i({},mn,{dataTransfer:0})),yn=an(i({},dn,{relatedTarget:0})),wn=an(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=an(bn),_n=an(i({},hn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return In}var On=i({},dn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=an(On),xn=an(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=an(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Rn),Ln=[9,13,27,32],Mn=h&&"CompositionEvent"in window,jn=null;h&&"documentMode"in document&&(jn=document.documentMode);var Un=h&&"TextEvent"in window&&!jn,Fn=h&&(!Mn||jn&&8<jn&&11>=jn),zn=String.fromCharCode(32),Bn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1,qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){xe(r),0<(t=Mr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Qn=null;function Yn(e){Or(e,0)}function Xn(e){if(X(ri(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(h){var er;if(h){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"==typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Gn&&(Gn.detachEvent("onpropertychange",ir),Qn=Gn=null)}function ir(e){if("value"===e.propertyName&&Xn(Qn)){var t=[];if(Kn(t,Qn,e,Se(e)),e=Yn,Me)e(t);else{Me=!0;try{Pe(e,t)}finally{Me=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(rr(),Qn=n,(Gn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Qn)}function ar(e,t){if("click"===e)return Xn(t)}function lr(e,t){if("input"===e||"change"===e)return Xn(t)}var ur="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},cr=Object.prototype.hasOwnProperty;function hr(e,t){if(ur(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cr.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=h&&"documentMode"in document&&11>=document.documentMode,yr=null,wr=null,br=null,Er=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==yr||yr!==J(r)||(r="selectionStart"in(r=yr)&&gr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=Mr(wr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Rt,2);for(var kr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<kr.length;Tr++)Pt.set(kr[Tr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,u){if(Ge.apply(this,arguments),$e){if(!$e)throw Error(s(198));var c=We;$e=!1,We=null,qe||(qe=!0,He=c)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Cr(i,a,u),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Cr(i,a,u),o=l}}}if(qe)throw e=He,qe=!1,He=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var xr="_reactListening"+Math.random().toString(36).slice(2);function Ar(e){e[xr]||(e[xr]=!0,a.forEach((function(t){Ir.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,o=r}var s=oi(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(i|=4),Rr(o,e,i,t),s.add(a))}function Rr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=Yt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=ti(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(je)return e();je=!0;try{return Le(e,t,n)}finally{je=!1,Ue()}}((function(){var r=o,i=Se(n),s=[];e:{var a=At.get(e);if(void 0!==a){var l=fn,u=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":u="focus",l=yn;break;case"focusout":u="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Ct:case Ot:case Nt:l=wn;break;case xt:l=Pn;break;case"scroll":l=pn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var c=0!=(4&t),h=!c&&"scroll"===e,f=c?null!==a?a+"Capture":null:a;c=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&null!=(m=Fe(p,f))&&c.push(Lr(p,m,d))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),s.push({event:a,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!ti(u)&&!u[Zr])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ti(u):null)&&(u!==(h=Qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=gn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=xn,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==l?a:ri(l),d=null==u?a:ri(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=d,m=null,ti(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=d,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(f=u,p=0,d=c=l;d;d=jr(d))p++;for(d=0,m=f;m;m=jr(m))d++;for(;0<p-d;)c=jr(c),p--;for(;0<d-p;)f=jr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=jr(c),f=jr(f)}c=null}else c=null;null!==l&&Ur(s,a,l,c,!1),null!==u&&null!==h&&Ur(s,h,u,c,!0)}if("select"===(l=(a=r?ri(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Jn;else if(Hn(a))if(Zn)g=lr;else{g=sr;var v=or}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ar);switch(g&&(g=g(e,r))?Kn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ie(a,"number",a.value)),v=r?ri(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(yr=v,wr=r,br=null);break;case"focusout":br=wr=yr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,_r(s,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(s,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Wn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Wn&&(y=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Wn=!0)),0<(v=Mr(r,w)).length&&(w=new _n(w,e,null,n,i),s.push({event:w,listeners:v}),(y||null!==(y=$n(n)))&&(w.data=y))),(y=Un?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Mn&&Vn(e,t)?(e=nn(),tn=en=Zt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Mr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y)}Or(s,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Fe(e,n))&&r.unshift(Lr(e,o,i)),null!=(o=Fe(e,t))&&r.push(Lr(e,o,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Fe(n,o))&&s.unshift(Lr(n,l,a)):i||null!=(l=Fe(n,o))&&s.push(Lr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function Fr(){}var zr=null,Br=null;function Vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function $r(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"==typeof setTimeout?setTimeout:void 0,qr="function"==typeof clearTimeout?clearTimeout:void 0;function Hr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qr=0,Yr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Yr,Jr="__reactProps$"+Yr,Zr="__reactContainer$"+Yr,ei="__reactEvents$"+Yr;function ti(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[Xr])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Xr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ii(e){return e[Jr]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var si=[],ai=-1;function li(e){return{current:e}}function ui(e){0>ai||(e.current=si[ai],si[ai]=null,ai--)}function ci(e,t){ai++,si[ai]=e.current,e.current=t}var hi={},fi=li(hi),di=li(!1),pi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!=e.childContextTypes}function vi(){ui(di),ui(fi)}function yi(e,t,n){if(fi.current!==hi)throw Error(s(168));ci(fi,t),ci(di,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,K(t)||"Unknown",o));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,pi=fi.current,ci(fi,e),ci(di,di.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=wi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ui(di),ui(fi),ci(fi,e)):ui(di),ci(di,n)}var _i=null,ki=null,Ti=o.unstable_runWithPriority,Si=o.unstable_scheduleCallback,Ii=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,Oi=o.unstable_requestPaint,Ni=o.unstable_now,xi=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Ri=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Mi={},ji=void 0!==Oi?Oi:function(){},Ui=null,Fi=null,zi=!1,Bi=Ni(),Vi=1e4>Bi?Ni:function(){return Ni()-Bi};function $i(){switch(xi()){case Ai:return 99;case Pi:return 98;case Ri:return 97;case Di:return 96;case Li:return 95;default:throw Error(s(332))}}function Wi(e){switch(e){case 99:return Ai;case 98:return Pi;case 97:return Ri;case 96:return Di;case 95:return Li;default:throw Error(s(332))}}function qi(e,t){return e=Wi(e),Ti(e,t)}function Hi(e,t,n){return e=Wi(e),Si(e,t,n)}function Ki(){if(null!==Fi){var e=Fi;Fi=null,Ii(e)}Gi()}function Gi(){if(!zi&&null!==Ui){zi=!0;var e=0;try{var t=Ui;qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(t){throw null!==Ui&&(Ui=Ui.slice(e+1)),Si(Ai,Ki),t}finally{zi=!1}}}var Qi=E.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=li(null),Ji=null,Zi=null,eo=null;function to(){eo=Zi=Ji=null}function no(e){var t=Xi.current;ui(Xi),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function io(e,t){Ji=e,eo=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ms=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Ji)throw Error(s(308));Zi=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var so=!1;function ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function co(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fo(e,t,n,r){var o=e.updateQueue;so=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===a?s=c:a.next=c,a=u;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==a&&(null===f?h.firstBaseUpdate=c:f.next=c,h.lastBaseUpdate=u)}}if(null!==s){for(f=o.baseState,a=0,h=c=u=null;;){l=s.lane;var d=s.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(l=t,d=n,m.tag){case 1:if("function"==typeof(p=m.payload)){f=p.call(d,f,l);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(l="function"==typeof(p=m.payload)?p.call(d,f,l):p))break e;f=i({},f,l);break e;case 2:so=!0}}null!==s.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[s]:l.push(s))}else d={eventTime:d,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===h?(c=h=d,u=f):h=h.next=d,a|=l;if(null===(s=s.next)){if(null===(l=o.shared.pending))break;s=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===h&&(u=f),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=h,Fa|=a,e.lanes=a,e.memoizedState=f}}function po(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(s(191,i));i.call(r)}}}var mo=(new r.Component).refs;function go(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cl(),i=hl(e),o=uo(r,i);o.payload=t,null!=n&&(o.callback=n),co(e,o),fl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cl(),i=hl(e),o=uo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),co(e,o),fl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cl(),r=hl(e),i=uo(n,r);i.tag=2,null!=t&&(i.callback=t),co(e,i),fl(e,r,n)}};function yo(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&hr(n,r)&&hr(i,o))}function wo(e,t,n){var r=!1,i=hi,o=t.contextType;return"object"==typeof o&&null!==o?o=oo(o):(i=gi(t)?pi:fi.current,o=(r=null!=(r=t.contextTypes))?mi(e,i):hi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function Eo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,ao(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=oo(o):(o=gi(t)?pi:fi.current,i.context=mi(e,o)),fo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&vo.enqueueReplaceState(i,i.state,null),fo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var _o=Array.isArray;function ko(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function To(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function So(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Wl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Gl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ko(e,t,n),r.return=e,r):((r=ql(n.type,n.key,n.props,null,e.mode,r)).ref=ko(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ql(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Hl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Gl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case _:return(n=ql(t.type,t.key,t.props,null,e.mode,n)).ref=ko(e,null,t),n.return=e,n;case k:return(t=Ql(t,e.mode,n)).return=e,t}if(_o(t)||V(t))return(t=Hl(t,e.mode,n,null)).return=e,t;To(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===T?h(e,t,n.props.children,r,i):u(e,t,n,r):null;case k:return n.key===i?c(e,t,n,r):null}if(_o(n)||V(n))return null!==i?null:h(e,t,n,r,null);To(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===T?h(t,e,r.props.children,i,r.key):u(t,e,r,i);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_o(r)||V(r))return h(t,e=e.get(n)||null,r,i,null);To(t,r)}return null}function m(i,s,a,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=d(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===a.length)return n(i,h),u;if(null===h){for(;m<a.length;m++)null!==(h=f(i,a[m],l))&&(s=o(h,s,m),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),u}function g(i,a,l,u){var c=V(l);if("function"!=typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=d(i,m,y.value,u);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===h?c=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=f(i,y.value,u))&&(a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,o,l){var u="object"==typeof o&&null!==o&&o.type===T&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case _:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(o.type===T){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}}else if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=ko(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===T?((r=Hl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=ql(o.type,o.key,o.props,null,e.mode,l)).ref=ko(e,r,o),l.return=e,e=l)}return a(e);case k:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ql(o,e.mode,l)).return=e,e=r}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Gl(o,e.mode,l)).return=e,e=r),a(e);if(_o(o))return m(e,r,o,l);if(V(o))return g(e,r,o,l);if(c&&To(e,o),void 0===o&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,K(e.type)||"Component"))}return n(e,r)}}var Io=So(!0),Co=So(!1),Oo={},No=li(Oo),xo=li(Oo),Ao=li(Oo);function Po(e){if(e===Oo)throw Error(s(174));return e}function Ro(e,t){switch(ci(Ao,t),ci(xo,e),ci(No,Oo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(No),ci(No,t)}function Do(){ui(No),ui(xo),ui(Ao)}function Lo(e){Po(Ao.current);var t=Po(No.current),n=de(t,e.type);t!==n&&(ci(xo,e),ci(No,n))}function Mo(e){xo.current===e&&(ui(No),ui(xo))}var jo=li(0);function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fo=null,zo=null,Bo=!1;function Vo(e,t){var n=Vl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function $o(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wo(e){if(Bo){var t=zo;if(t){var n=t;if(!$o(e,t)){if(!(t=Kr(n.nextSibling))||!$o(e,t))return e.flags=-1025&e.flags|2,Bo=!1,void(Fo=e);Vo(Fo,n)}Fo=e,zo=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,Bo=!1,Fo=e}}function qo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fo=e}function Ho(e){if(e!==Fo)return!1;if(!Bo)return qo(e),Bo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!$r(t,e.memoizedProps))for(t=zo;t;)Vo(e,t),t=Kr(t.nextSibling);if(qo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){zo=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}zo=null}}else zo=Fo?Kr(e.stateNode.nextSibling):null;return!0}function Ko(){zo=Fo=null,Bo=!1}var Go=[];function Qo(){for(var e=0;e<Go.length;e++)Go[e]._workInProgressVersionPrimary=null;Go.length=0}var Yo=E.ReactCurrentDispatcher,Xo=E.ReactCurrentBatchConfig,Jo=0,Zo=null,es=null,ts=null,ns=!1,rs=!1;function is(){throw Error(s(321))}function os(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function ss(e,t,n,r,i,o){if(Jo=o,Zo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=null===e||null===e.memoizedState?Ps:Rs,e=n(r,i),rs){o=0;do{if(rs=!1,!(25>o))throw Error(s(301));o+=1,ts=es=null,t.updateQueue=null,Yo.current=Ds,e=n(r,i)}while(rs)}if(Yo.current=As,t=null!==es&&null!==es.next,Jo=0,ts=es=Zo=null,ns=!1,t)throw Error(s(300));return e}function as(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ts?Zo.memoizedState=ts=e:ts=ts.next=e,ts}function ls(){if(null===es){var e=Zo.alternate;e=null!==e?e.memoizedState:null}else e=es.next;var t=null===ts?Zo.memoizedState:ts.next;if(null!==t)ts=t,es=e;else{if(null===e)throw Error(s(310));e={memoizedState:(es=e).memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},null===ts?Zo.memoizedState=ts=e:ts=ts.next=e}return ts}function us(e,t){return"function"==typeof t?t(e):t}function cs(e){var t=ls(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=es,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=o=null,u=i;do{var c=u.lane;if((Jo&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=h,o=r):l=l.next=h,Zo.lanes|=c,Fa|=c}u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=a,ur(r,t.memoizedState)||(Ms=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function hs(e){var t=ls(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ur(o,t.memoizedState)||(Ms=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function fs(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Jo&e)===e)&&(t._workInProgressVersionPrimary=r,Go.push(t))),e)return n(t._source);throw Go.push(t),Error(s(350))}function ds(e,t,n,r){var i=Aa;if(null===i)throw Error(s(349));var o=t._getVersion,a=o(t._source),l=Yo.current,u=l.useState((function(){return fs(i,t,n)})),c=u[1],h=u[0];u=ts;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,m=f.source;f=f.subscribe;var g=Zo;return e.memoizedState={refs:d,source:t,subscribe:r},l.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var e=o(t._source);if(!ur(a,e)){e=n(t._source),ur(h,e)||(c(e),e=hl(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var l=31-$t(s),u=1<<l;r[l]|=e,s&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=hl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ur(p,n)&&ur(m,t)&&ur(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:us,lastRenderedState:h}).dispatch=c=xs.bind(null,Zo,e),u.queue=e,u.baseQueue=null,h=fs(i,t,n),u.memoizedState=u.baseState=h),h}function ps(e,t,n){return ds(ls(),e,t,n)}function ms(e){var t=as();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:us,lastRenderedState:e}).dispatch=xs.bind(null,Zo,e),[t.memoizedState,e]}function gs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Zo.updateQueue)?(t={lastEffect:null},Zo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function vs(e){return e={current:e},as().memoizedState=e}function ys(){return ls().memoizedState}function ws(e,t,n,r){var i=as();Zo.flags|=e,i.memoizedState=gs(1|t,n,void 0,void 0===r?null:r)}function bs(e,t,n,r){var i=ls();r=void 0===r?null:r;var o=void 0;if(null!==es){var s=es.memoizedState;if(o=s.destroy,null!==r&&os(r,s.deps))return void gs(t,n,o,r)}Zo.flags|=e,i.memoizedState=gs(1|t,n,o,r)}function Es(e,t){return ws(516,4,e,t)}function _s(e,t){return bs(516,4,e,t)}function ks(e,t){return bs(4,2,e,t)}function Ts(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ss(e,t,n){return n=null!=n?n.concat([e]):null,bs(4,2,Ts.bind(null,t,e),n)}function Is(){}function Cs(e,t){var n=ls();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&os(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Os(e,t){var n=ls();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&os(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ns(e,t){var n=$i();qi(98>n?98:n,(function(){e(!0)})),qi(97<n?97:n,(function(){var n=Xo.transition;Xo.transition=1;try{e(!1),t()}finally{Xo.transition=n}}))}function xs(e,t,n){var r=cl(),i=hl(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===Zo||null!==s&&s===Zo)rs=ns=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=s(a,n);if(o.eagerReducer=s,o.eagerState=l,ur(l,a))return}catch(e){}fl(e,i,r)}}var As={readContext:oo,useCallback:is,useContext:is,useEffect:is,useImperativeHandle:is,useLayoutEffect:is,useMemo:is,useReducer:is,useRef:is,useState:is,useDebugValue:is,useDeferredValue:is,useTransition:is,useMutableSource:is,useOpaqueIdentifier:is,unstable_isNewReconciler:!1},Ps={readContext:oo,useCallback:function(e,t){return as().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:Es,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ws(4,2,Ts.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ws(4,2,e,t)},useMemo:function(e,t){var n=as();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=as();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=xs.bind(null,Zo,e),[r.memoizedState,e]},useRef:vs,useState:ms,useDebugValue:Is,useDeferredValue:function(e){var t=ms(e),n=t[0],r=t[1];return Es((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=ms(!1),t=e[0];return vs(e=Ns.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=as();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ds(r,e,t,n)},useOpaqueIdentifier:function(){if(Bo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Qr++).toString(36))),Error(s(355))})),n=ms(t)[1];return 0==(2&Zo.mode)&&(Zo.flags|=516,gs(5,(function(){n("r:"+(Qr++).toString(36))}),void 0,null)),t}return ms(t="r:"+(Qr++).toString(36)),t},unstable_isNewReconciler:!1},Rs={readContext:oo,useCallback:Cs,useContext:oo,useEffect:_s,useImperativeHandle:Ss,useLayoutEffect:ks,useMemo:Os,useReducer:cs,useRef:ys,useState:function(){return cs(us)},useDebugValue:Is,useDeferredValue:function(e){var t=cs(us),n=t[0],r=t[1];return _s((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=cs(us)[0];return[ys().current,e]},useMutableSource:ps,useOpaqueIdentifier:function(){return cs(us)[0]},unstable_isNewReconciler:!1},Ds={readContext:oo,useCallback:Cs,useContext:oo,useEffect:_s,useImperativeHandle:Ss,useLayoutEffect:ks,useMemo:Os,useReducer:hs,useRef:ys,useState:function(){return hs(us)},useDebugValue:Is,useDeferredValue:function(e){var t=hs(us),n=t[0],r=t[1];return _s((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=hs(us)[0];return[ys().current,e]},useMutableSource:ps,useOpaqueIdentifier:function(){return hs(us)[0]},unstable_isNewReconciler:!1},Ls=E.ReactCurrentOwner,Ms=!1;function js(e,t,n,r){t.child=null===e?Co(t,null,n,r):Io(t,e.child,n,r)}function Us(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=ss(e,t,n,r,o,i),null===e||Ms?(t.flags|=1,js(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ra(e,t,i))}function Fs(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!=typeof s||$l(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ql(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,zs(e,t,s,r,i,o))}return s=e.child,0==(i&o)&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?ra(e,t,o):(t.flags|=1,(e=Wl(s,r)).ref=t.ref,e.return=t,t.child=e)}function zs(e,t,n,r,i,o){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Ms=!1,0==(o&i))return t.lanes=e.lanes,ra(e,t,o);0!=(16384&e.flags)&&(Ms=!0)}return $s(e,t,n,r,o)}function Bs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},bl(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bl(0,e),null;t.memoizedState={baseLanes:0},bl(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,bl(0,r);return js(e,t,i,n),t.child}function Vs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function $s(e,t,n,r,i){var o=gi(n)?pi:fi.current;return o=mi(t,o),io(t,i),n=ss(e,t,n,r,o,i),null===e||Ms?(t.flags|=1,js(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ra(e,t,i))}function Ws(e,t,n,r,i){if(gi(n)){var o=!0;bi(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),wo(t,n,r),Eo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;u="object"==typeof u&&null!==u?oo(u):mi(t,u=gi(n)?pi:fi.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||l!==u)&&bo(t,s,r,u),so=!1;var f=t.memoizedState;s.state=f,fo(t,r,s,i),l=t.memoizedState,a!==r||f!==l||di.current||so?("function"==typeof c&&(go(t,n,c,r),l=t.memoizedState),(a=so||yo(t,n,a,r,f,l,u))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4)):("function"==typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):("function"==typeof s.componentDidMount&&(t.flags|=4),r=!1)}else{s=t.stateNode,lo(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Yi(t.type,a),s.props=u,h=t.pendingProps,f=s.context,l="object"==typeof(l=n.contextType)&&null!==l?oo(l):mi(t,l=gi(n)?pi:fi.current);var d=n.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==h||f!==l)&&bo(t,s,r,l),so=!1,f=t.memoizedState,s.state=f,fo(t,r,s,i);var p=t.memoizedState;a!==h||f!==p||di.current||so?("function"==typeof d&&(go(t,n,d,r),p=t.memoizedState),(u=so||yo(t,n,u,r,f,p,l))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return qs(e,t,n,r,o,i)}function qs(e,t,n,r,i,o){Vs(e,t);var s=0!=(64&t.flags);if(!r&&!s)return i&&Ei(t,n,!1),ra(e,t,o);r=t.stateNode,Ls.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Io(t,e.child,null,o),t.child=Io(t,null,a,o)):js(e,t,a,o),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Hs(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Ro(e,t.containerInfo)}var Ks,Gs,Qs,Ys,Xs={dehydrated:null,retryLane:0};function Js(e,t,n){var r,i=t.pendingProps,o=jo.current,s=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ci(jo,1&o),null===e?(void 0!==i.fallback&&Wo(t),e=i.children,o=i.fallback,s?(e=Zs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xs,e):"number"==typeof i.unstable_expectedLoadTime?(e=Zs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xs,t.lanes=33554432,e):((n=Kl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,s?(i=function(e,t,n,r,i){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return 0==(2&o)&&t.child!==s?((n=t.child).childLanes=0,n.pendingProps=a,null!==(s=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wl(s,a),null!==e?r=Wl(e,r):(r=Hl(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Xs,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=Wl(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Zs(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Kl(t,i,0,null),n=Hl(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function ea(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function ta(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function na(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(js(e,t,r.children,n),0!=(2&(r=jo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ea(e,n);else if(19===e.tag)ea(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(jo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ta(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ta(t,!0,n,null,o,t.lastEffect);break;case"together":ta(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ra(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fa|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Wl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ia(e,t){if(!Bo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function oa(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&vi(),null;case 3:return Do(),ui(di),ui(fi),Qo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ho(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Gs(t),null;case 5:Mo(t);var o=Po(Ao.current);if(n=t.type,null!==e&&null!=t.stateNode)Qs(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Po(No.current),Ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Xr]=t,r[Jr]=a,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Nr(Sr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,a),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Nr("invalid",r);break;case"textarea":le(r,a),Nr("invalid",r)}for(var u in ke(n,a),e=null,a)a.hasOwnProperty(u)&&(o=a[u],"children"===u?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,a,!0);break;case"textarea":Y(r),ce(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Fr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,e===he.html&&(e=fe(n)),e===he.html?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Xr]=t,e[Jr]=r,Ks(e,t,!1,!1),t.stateNode=e,u=Te(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),o=r;break;case"iframe":case"object":case"embed":Nr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Sr.length;o++)Nr(Sr[o],e);o=r;break;case"source":Nr("error",e),o=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),o=r;break;case"details":Nr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Nr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":le(e,r),o=ae(e,r),Nr("invalid",e);break;default:o=r}ke(n,o);var c=o;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?Ee(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===a?"string"==typeof h?("textarea"!==n||""!==h)&&ve(e,h):"number"==typeof h&&ve(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Nr("scroll",e):null!=h&&b(e,a,h,u))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?se(e,!!r.multiple,a,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Fr)}Vr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ys(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(s(166));n=Po(Ao.current),Po(No.current),Ho(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return ui(jo),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ho(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&jo.current)?0===Ma&&(Ma=3):(0!==Ma&&3!==Ma||(Ma=4),null===Aa||0==(134217727&Fa)&&0==(134217727&za)||gl(Aa,Ra))),(r||n)&&(t.flags|=4),null);case 4:return Do(),Gs(t),null===e&&Ar(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(ui(jo),null===(r=t.memoizedState))return null;if(a=0!=(64&t.flags),null===(u=r.rendering))if(a)ia(r,!1);else{if(0!==Ma||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Uo(e))){for(t.flags|=64,ia(r,!1),null!==(a=u.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ci(jo,1&jo.current|2),t.child}e=e.sibling}null!==r.tail&&Vi()>Wa&&(t.flags|=64,a=!0,ia(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Uo(u))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ia(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Bo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>Wa&&1073741824!==n&&(t.flags|=64,a=!0,ia(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,t=jo.current,ci(jo,a?1&t|2:1&t),n):null;case 23:case 24:return El(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function sa(e){switch(e.tag){case 1:gi(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),ui(di),ui(fi),Qo(),0!=(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return ui(jo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ui(jo),null;case 4:return Do(),null;case 10:return no(e),null;case 23:case 24:return El(),null;default:return null}}function aa(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function la(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ks=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Gs=function(){},Qs=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Po(No.current);var s,a=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),a=[];break;case"option":o=oe(e,o),r=oe(e,r),a=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":o=ae(e,o),r=ae(e,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Fr)}for(h in ke(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var u=o[h];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var c=r[h];if(u=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(null!=c||null!=u))if("style"===h)if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(h,c)):"children"===h?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Nr("scroll",e),a||u===c||(a=[])):"object"==typeof c&&null!==c&&c.$$typeof===L?c.toString():(a=a||[]).push(h,c))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},Ys=function(e,t,n,r){n!==r&&(t.flags|=4)};var ua="function"==typeof WeakMap?WeakMap:Map;function ca(e,t,n){(n=uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ga||(Ga=!0,Qa=r),la(0,t)},n}function ha(e,t,n){(n=uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return la(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ya?Ya=new Set([this]):Ya.add(this),la(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var fa="function"==typeof WeakSet?WeakSet:Set;function da(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ul(e,t)}else t.current=null}function pa(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(s(163))}function ma(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Ll(n,e),Dl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&po(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}po(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Vr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(s(163))}function ga(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function va(e,t){if(ki&&"function"==typeof ki.onCommitFiberUnmount)try{ki.onCommitFiberUnmount(_i,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Ll(t,n);else{r=t;try{i()}catch(e){Ul(r,e)}}n=n.next}while(n!==e)}break;case 1:if(da(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ul(t,e)}break;case 5:da(t);break;case 4:ka(e,t)}}function ya(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wa(e){return 5===e.tag||3===e.tag||4===e.tag}function ba(e){e:{for(var t=e.return;null!==t;){if(wa(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wa(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ea(e,n,t):_a(e,n,t)}function Ea(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Fr));else if(4!==r&&null!==(e=e.child))for(Ea(e,t,n),e=e.sibling;null!==e;)Ea(e,t,n),e=e.sibling}function _a(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_a(e,t,n),e=e.sibling;null!==e;)_a(e,t,n),e=e.sibling}function ka(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,l=i,u=l;;)if(va(a,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(va(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ta(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<o.length;i+=2){var a=o[i],l=o[i+1];"style"===a?Ee(n,l):"dangerouslySetInnerHTML"===a?ge(n,l):"children"===a?ve(n,l):b(n,a,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?se(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?se(n,!!r.multiple,r.defaultValue,!0):se(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&($a=Vi(),ga(t.child,!0)),void Sa(t);case 19:return void Sa(t);case 23:case 24:return void ga(t,null!==t.memoizedState)}throw Error(s(163))}function Sa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new fa),t.forEach((function(t){var r=zl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ia(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Ca=Math.ceil,Oa=E.ReactCurrentDispatcher,Na=E.ReactCurrentOwner,xa=0,Aa=null,Pa=null,Ra=0,Da=0,La=li(0),Ma=0,ja=null,Ua=0,Fa=0,za=0,Ba=0,Va=null,$a=0,Wa=1/0;function qa(){Wa=Vi()+500}var Ha,Ka=null,Ga=!1,Qa=null,Ya=null,Xa=!1,Ja=null,Za=90,el=[],tl=[],nl=null,rl=0,il=null,ol=-1,sl=0,al=0,ll=null,ul=!1;function cl(){return 0!=(48&xa)?Vi():-1!==ol?ol:ol=Vi()}function hl(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===$i()?1:2;if(0===sl&&(sl=Ua),0!==Qi.transition){0!==al&&(al=null!==Va?Va.pendingLanes:0),e=sl;var t=4186112&~al;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=$i(),e=Ft(0!=(4&xa)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),sl)}function fl(e,t,n){if(50<rl)throw rl=0,il=null,Error(s(185));if(null===(e=dl(e,t)))return null;Vt(e,t,n),e===Aa&&(za|=t,4===Ma&&gl(e,Ra));var r=$i();1===t?0!=(8&xa)&&0==(48&xa)?vl(e):(pl(e,n),0===xa&&(qa(),Ki())):(0==(4&xa)||98!==r&&99!==r||(null===nl?nl=new Set([e]):nl.add(e)),pl(e,n)),Va=e}function dl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function pl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-$t(a),u=1<<l,c=o[l];if(-1===c){if(0==(u&r)||0!=(u&i)){c=t,Mt(u);var h=Lt;o[l]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);a&=~u}if(r=jt(e,e===Aa?Ra:0),t=Lt,0===r)null!==n&&(n!==Mi&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ii(n)}15===t?(n=vl.bind(null,e),null===Ui?(Ui=[n],Fi=Si(Ai,Gi)):Ui.push(n),n=Mi):14===t?n=Hi(99,vl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),n=Hi(n,ml.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ml(e){if(ol=-1,al=sl=0,0!=(48&xa))throw Error(s(327));var t=e.callbackNode;if(Rl()&&e.callbackNode!==t)return null;var n=jt(e,e===Aa?Ra:0);if(0===n)return null;var r=n,i=xa;xa|=16;var o=Tl();for(Aa===e&&Ra===r||(qa(),_l(e,r));;)try{Cl();break}catch(t){kl(e,t)}if(to(),Oa.current=o,xa=i,null!==Pa?r=0:(Aa=null,Ra=0,r=Ma),0!=(Ua&za))_l(e,0);else if(0!==r){if(2===r&&(xa|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Ut(e))&&(r=Sl(e,n))),1===r)throw t=ja,_l(e,0),gl(e,n),pl(e,Vi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:case 5:xl(e);break;case 3:if(gl(e,n),(62914560&n)===n&&10<(r=$a+500-Vi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){cl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(xl.bind(null,e),r);break}xl(e);break;case 4:if(gl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-$t(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ca(n/1960))-n)){e.timeoutHandle=Wr(xl.bind(null,e),n);break}xl(e);break;default:throw Error(s(329))}}return pl(e,Vi()),e.callbackNode===t?ml.bind(null,e):null}function gl(e,t){for(t&=~Ba,t&=~za,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function vl(e){if(0!=(48&xa))throw Error(s(327));if(Rl(),e===Aa&&0!=(e.expiredLanes&Ra)){var t=Ra,n=Sl(e,t);0!=(Ua&za)&&(n=Sl(e,t=jt(e,t)))}else n=Sl(e,t=jt(e,0));if(0!==e.tag&&2===n&&(xa|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Ut(e))&&(n=Sl(e,t))),1===n)throw n=ja,_l(e,0),gl(e,t),pl(e,Vi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,xl(e),pl(e,Vi()),null}function yl(e,t){var n=xa;xa|=1;try{return e(t)}finally{0===(xa=n)&&(qa(),Ki())}}function wl(e,t){var n=xa;xa&=-2,xa|=8;try{return e(t)}finally{0===(xa=n)&&(qa(),Ki())}}function bl(e,t){ci(La,Da),Da|=t,Ua|=t}function El(){Da=La.current,ui(La)}function _l(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,qr(n)),null!==Pa)for(n=Pa.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&vi();break;case 3:Do(),ui(di),ui(fi),Qo();break;case 5:Mo(r);break;case 4:Do();break;case 13:case 19:ui(jo);break;case 10:no(r);break;case 23:case 24:El()}n=n.return}Aa=e,Pa=Wl(e.current,null),Ra=Da=Ua=t,Ma=0,ja=null,Ba=za=Fa=0}function kl(e,t){for(;;){var n=Pa;try{if(to(),Yo.current=As,ns){for(var r=Zo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ns=!1}if(Jo=0,ts=es=Zo=null,rs=!1,Na.current=null,null===n||null===n.return){Ma=1,ja=t,Pa=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Ra,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!=(1&jo.current),f=s;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var m=f.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(d){var g=f.updateQueue;if(null===g){var v=new Set;v.add(u),f.updateQueue=v}else g.add(u);if(0==(2&f.mode)){if(f.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=uo(-1,1);y.tag=2,co(a,y)}a.lanes|=1;break e}l=void 0,a=t;var w=o.pingCache;if(null===w?(w=o.pingCache=new ua,l=new Set,w.set(u,l)):void 0===(l=w.get(u))&&(l=new Set,w.set(u,l)),!l.has(a)){l.add(a);var b=Fl.bind(null,o,u,a);u.then(b,b)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);l=Error((K(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ma&&(Ma=2),l=aa(l,a),f=s;do{switch(f.tag){case 3:o=l,f.flags|=4096,t&=-t,f.lanes|=t,ho(f,ca(0,o,t));break e;case 1:o=l;var E=f.type,_=f.stateNode;if(0==(64&f.flags)&&("function"==typeof E.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===Ya||!Ya.has(_)))){f.flags|=4096,t&=-t,f.lanes|=t,ho(f,ha(f,o,t));break e}}f=f.return}while(null!==f)}Nl(n)}catch(e){t=e,Pa===n&&null!==n&&(Pa=n=n.return);continue}break}}function Tl(){var e=Oa.current;return Oa.current=As,null===e?As:e}function Sl(e,t){var n=xa;xa|=16;var r=Tl();for(Aa===e&&Ra===t||_l(e,t);;)try{Il();break}catch(t){kl(e,t)}if(to(),xa=n,Oa.current=r,null!==Pa)throw Error(s(261));return Aa=null,Ra=0,Ma}function Il(){for(;null!==Pa;)Ol(Pa)}function Cl(){for(;null!==Pa&&!Ci();)Ol(Pa)}function Ol(e){var t=Ha(e.alternate,e,Da);e.memoizedProps=e.pendingProps,null===t?Nl(e):Pa=t,Na.current=null}function Nl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=oa(n,t,Da)))return void(Pa=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Da)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=sa(t)))return n.flags&=2047,void(Pa=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Pa=t);Pa=t=e}while(null!==t);0===Ma&&(Ma=5)}function xl(e){var t=$i();return qi(99,Al.bind(null,e,t)),null}function Al(e,t){do{Rl()}while(null!==Ja);if(0!=(48&xa))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<o;){var u=31-$t(o),c=1<<u;i[u]=0,a[u]=-1,l[u]=-1,o&=~c}if(null!==nl&&0==(24&r)&&nl.has(e)&&nl.delete(e),e===Aa&&(Pa=Aa=null,Ra=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=xa,xa|=32,Na.current=null,zr=Gt,gr(a=mr())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(e){l=null;break e}var h=0,f=-1,d=-1,p=0,m=0,g=a,v=null;t:for(;;){for(var y;g!==l||0!==o&&3!==g.nodeType||(f=h+o),g!==u||0!==c&&3!==g.nodeType||(d=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===a)break t;if(v===l&&++p===o&&(f=h),v===u&&++m===c&&(d=h),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}l=-1===f||-1===d?null:{start:f,end:d}}else l=null;l=l||{start:0,end:0}}else l=null;Br={focusedElem:a,selectionRange:l},Gt=!1,ll=null,ul=!1,Ka=r;do{try{Pl()}catch(e){if(null===Ka)throw Error(s(330));Ul(Ka,e),Ka=Ka.nextEffect}}while(null!==Ka);ll=null,Ka=r;do{try{for(a=e;null!==Ka;){var w=Ka.flags;if(16&w&&ve(Ka.stateNode,""),128&w){var b=Ka.alternate;if(null!==b){var E=b.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&w){case 2:ba(Ka),Ka.flags&=-3;break;case 6:ba(Ka),Ka.flags&=-3,Ta(Ka.alternate,Ka);break;case 1024:Ka.flags&=-1025;break;case 1028:Ka.flags&=-1025,Ta(Ka.alternate,Ka);break;case 4:Ta(Ka.alternate,Ka);break;case 8:ka(a,l=Ka);var _=l.alternate;ya(l),null!==_&&ya(_)}Ka=Ka.nextEffect}}catch(e){if(null===Ka)throw Error(s(330));Ul(Ka,e),Ka=Ka.nextEffect}}while(null!==Ka);if(E=Br,b=mr(),w=E.focusedElem,a=E.selectionRange,b!==w&&w&&w.ownerDocument&&pr(w.ownerDocument.documentElement,w)){null!==a&&gr(w)&&(b=a.start,void 0===(E=a.end)&&(E=b),"selectionStart"in w?(w.selectionStart=b,w.selectionEnd=Math.min(E,w.value.length)):(E=(b=w.ownerDocument||document)&&b.defaultView||window).getSelection&&(E=E.getSelection(),l=w.textContent.length,_=Math.min(a.start,l),a=void 0===a.end?_:Math.min(a.end,l),!E.extend&&_>a&&(l=a,a=_,_=l),l=dr(w,_),o=dr(w,a),l&&o&&(1!==E.rangeCount||E.anchorNode!==l.node||E.anchorOffset!==l.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&((b=b.createRange()).setStart(l.node,l.offset),E.removeAllRanges(),_>a?(E.addRange(b),E.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),E.addRange(b))))),b=[];for(E=w;E=E.parentNode;)1===E.nodeType&&b.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<b.length;w++)(E=b[w]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Gt=!!zr,Br=zr=null,e.current=n,Ka=r;do{try{for(w=e;null!==Ka;){var k=Ka.flags;if(36&k&&ma(w,Ka.alternate,Ka),128&k){b=void 0;var T=Ka.ref;if(null!==T){var S=Ka.stateNode;Ka.tag,b=S,"function"==typeof T?T(b):T.current=b}}Ka=Ka.nextEffect}}catch(e){if(null===Ka)throw Error(s(330));Ul(Ka,e),Ka=Ka.nextEffect}}while(null!==Ka);Ka=null,ji(),xa=i}else e.current=n;if(Xa)Xa=!1,Ja=e,Za=t;else for(Ka=r;null!==Ka;)t=Ka.nextEffect,Ka.nextEffect=null,8&Ka.flags&&((k=Ka).sibling=null,k.stateNode=null),Ka=t;if(0===(r=e.pendingLanes)&&(Ya=null),1===r?e===il?rl++:(rl=0,il=e):rl=0,n=n.stateNode,ki&&"function"==typeof ki.onCommitFiberRoot)try{ki.onCommitFiberRoot(_i,n,void 0,64==(64&n.current.flags))}catch(e){}if(pl(e,Vi()),Ga)throw Ga=!1,e=Qa,Qa=null,e;return 0!=(8&xa)||Ki(),null}function Pl(){for(;null!==Ka;){var e=Ka.alternate;ul||null===ll||(0!=(8&Ka.flags)?Ze(Ka,ll)&&(ul=!0):13===Ka.tag&&Ia(e,Ka)&&Ze(Ka,ll)&&(ul=!0));var t=Ka.flags;0!=(256&t)&&pa(e,Ka),0==(512&t)||Xa||(Xa=!0,Hi(97,(function(){return Rl(),null}))),Ka=Ka.nextEffect}}function Rl(){if(90!==Za){var e=97<Za?97:Za;return Za=90,qi(e,Ml)}return!1}function Dl(e,t){el.push(t,e),Xa||(Xa=!0,Hi(97,(function(){return Rl(),null})))}function Ll(e,t){tl.push(t,e),Xa||(Xa=!0,Hi(97,(function(){return Rl(),null})))}function Ml(){if(null===Ja)return!1;var e=Ja;if(Ja=null,0!=(48&xa))throw Error(s(331));var t=xa;xa|=32;var n=tl;tl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===o)throw Error(s(330));Ul(o,e)}}for(n=el,el=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===o)throw Error(s(330));Ul(o,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return xa=t,Ki(),!0}function jl(e,t,n){co(e,t=ca(0,t=aa(n,t),1)),t=cl(),null!==(e=dl(e,1))&&(Vt(e,1,t),pl(e,t))}function Ul(e,t){if(3===e.tag)jl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){jl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ya||!Ya.has(r))){var i=ha(n,e=aa(t,e),1);if(co(n,i),i=cl(),null!==(n=dl(n,1)))Vt(n,1,i),pl(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ya||!Ya.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Fl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cl(),e.pingedLanes|=e.suspendedLanes&n,Aa===e&&(Ra&n)===n&&(4===Ma||3===Ma&&(62914560&Ra)===Ra&&500>Vi()-$a?_l(e,0):Ba|=n),pl(e,t)}function zl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===$i()?1:2:(0===sl&&(sl=Ua),0===(t=zt(62914560&~sl))&&(t=4194304))),n=cl(),null!==(e=dl(e,t))&&(Vt(e,t,n),pl(e,n))}function Bl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vl(e,t,n,r){return new Bl(e,t,n,r)}function $l(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wl(e,t){var n=e.alternate;return null===n?((n=Vl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ql(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)$l(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case T:return Hl(n.children,i,o,t);case M:a=8,i|=16;break;case S:a=8,i|=1;break;case I:return(e=Vl(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=o,e;case x:return(e=Vl(13,n,t,i)).type=x,e.elementType=x,e.lanes=o,e;case A:return(e=Vl(19,n,t,i)).elementType=A,e.lanes=o,e;case j:return Kl(n,i,o,t);case U:return(e=Vl(24,n,t,i)).elementType=U,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case O:a=9;break e;case N:a=11;break e;case P:a=14;break e;case R:a=16,r=null;break e;case D:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Vl(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Hl(e,t,n,r){return(e=Vl(7,e,r,t)).lanes=n,e}function Kl(e,t,n,r){return(e=Vl(23,e,r,t)).elementType=j,e.lanes=n,e}function Gl(e,t,n){return(e=Vl(6,e,null,t)).lanes=n,e}function Ql(e,t,n){return(t=Vl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Xl(e,t,n,r){var i=t.current,o=cl(),a=hl(i);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var u=n.type;if(gi(u)){n=wi(n,u,l);break e}}n=l}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=uo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),co(i,t),fl(i,a,o),a}function Jl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eu(e,t){Zl(e,t),(e=e.alternate)&&Zl(e,t)}function tu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Yl(e,t,null!=n&&!0===n.hydrate),t=Vl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ao(t),e[Zr]=n.current,Ar(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ru(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=Jl(s);a.call(e)}}Xl(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tu(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Jl(s);l.call(e)}}wl((function(){Xl(t,s,e,i)}))}return Jl(s)}function iu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ha=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||di.current)Ms=!0;else{if(0==(n&r)){switch(Ms=!1,t.tag){case 3:Hs(t),Ko();break;case 5:Lo(t);break;case 1:gi(t.type)&&bi(t);break;case 4:Ro(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ci(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Js(e,t,n):(ci(jo,1&jo.current),null!==(t=ra(e,t,n))?t.sibling:null);ci(jo,1&jo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return na(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ci(jo,jo.current),r)break;return null;case 23:case 24:return t.lanes=0,Bs(e,t,n)}return ra(e,t,n)}Ms=0!=(16384&e.flags)}else Ms=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,fi.current),io(t,n),i=ss(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ao(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&go(t,r,a,e),i.updater=vo,t.stateNode=i,i._reactInternals=t,Eo(t,r,e,n),t=qs(null,t,r,!0,o,n)}else t.tag=0,js(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return $l(e)?1:0;if(null!=e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=$s(null,t,i,e,n);break e;case 1:t=Ws(null,t,i,e,n);break e;case 11:t=Us(null,t,i,e,n);break e;case 14:t=Fs(null,t,i,Yi(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,$s(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ws(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Hs(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,lo(e,t),fo(t,r,null,n),(r=t.memoizedState.element)===i)Ko(),t=ra(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(zo=Kr(t.stateNode.containerInfo.firstChild),Fo=t,o=Bo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Go.push(o);for(n=Co(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else js(e,t,r,n),Ko();t=t.child}return t;case 5:return Lo(t),null===e&&Wo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,$r(r,i)?a=null:null!==o&&$r(r,o)&&(t.flags|=16),Vs(e,t),js(e,t,a,n),t.child;case 6:return null===e&&Wo(t),null;case 13:return Js(e,t,n);case 4:return Ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Io(t,null,r,n):js(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Us(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return js(e,t,t.pendingProps,n),t.child;case 8:case 12:return js(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var l=t.type._context;if(ci(Xi,l._currentValue),l._currentValue=o,null!==a)if(l=a.value,0==(o=ur(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(a.children===i.children&&!di.current){t=ra(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===l.tag&&((c=uo(-1,n&-n)).tag=2,co(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),ro(l.return,n),u.lanes|=n;break}c=c.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}js(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.flags|=1,js(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),Fs(e,t,i,o=Yi(i.type,o),r,n);case 15:return zs(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,bi(t)):e=!1,io(t,n),wo(t,r,i),Eo(t,r,i,n),qs(null,t,r,!0,e,n);case 19:return na(e,t,n);case 23:case 24:return Bs(e,t,n)}throw Error(s(156,t.tag))},tu.prototype.render=function(e){Xl(e,this._internalRoot,null,null)},tu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Xl(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(fl(e,4,cl()),eu(e,4))},tt=function(e){13===e.tag&&(fl(e,67108864,cl()),eu(e,67108864))},nt=function(e){if(13===e.tag){var t=cl(),n=hl(e);fl(e,n,t),eu(e,n)}},rt=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(s(90));X(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&se(e,!!n.multiple,t,!1)}},Pe=yl,Re=function(e,t,n,r,i){var o=xa;xa|=4;try{return qi(98,e.bind(null,t,n,r,i))}finally{0===(xa=o)&&(qa(),Ki())}},De=function(){0==(49&xa)&&(function(){if(null!==nl){var e=nl;nl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,pl(e,Vi())}))}Ki()}(),Rl())},Le=function(e,t){var n=xa;xa|=2;try{return e(t)}finally{0===(xa=n)&&(qa(),Ki())}};var ou={Events:[ni,ri,ii,xe,Ae,Rl,{current:!1}]},su={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},au={bundleType:su.bundleType,version:su.version,rendererPackageName:su.rendererPackageName,rendererConfig:su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:su.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{_i=lu.inject(au),ki=lu}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ou,t.createPortal=iu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=xa;if(0!=(48&n))return e(t);xa|=1;try{if(e)return qi(99,e.bind(null,t))}finally{xa=n,Ki()}},t.hydrate=function(e,t,n){if(!nu(t))throw Error(s(200));return ru(null,e,t,!0,n)},t.render=function(e,t,n){if(!nu(t))throw Error(s(200));return ru(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nu(e))throw Error(s(40));return!!e._reactRootContainer&&(wl((function(){ru(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=yl,t.unstable_createPortal=function(e,t){return iu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ru(e,t,n,!1,r)},t.version="17.0.2"},935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},408:(e,t,n)=>{"use strict";var r=n(418),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),s=h("react.provider"),a=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),u=h("react.memo"),c=h("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var w=y.prototype=new v;w.constructor=y,r(w,g.prototype),w.isPureReactComponent=!0;var b={current:null},E=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,r)&&!_.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:s,ref:a,props:o,_owner:b.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return s=s(l=e),e=""===r?"."+I(l,0):r,Array.isArray(s)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),C(s,t,n,"",(function(e){return e}))):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(S,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+I(a=e[u],u);l+=C(a,t,n,c,s)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=C(a=a.value,t,n,c=r+I(a,u++),s);else if("object"===a)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function O(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var x={current:null};function A(){var e=x.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(d(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null==e)throw Error(d(267,e));var o=r({},e.props),s=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=b.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)E.call(t,c)&&!_.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];o.children=u}return{$$typeof:i,type:e.type,key:s,ref:a,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},294:(e,t,n)=>{"use strict";e.exports=n(408)},53:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,h=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(h,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,y=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,E=b.port2;b.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();w=e+y;try{g(!0,e)?E.postMessage(null):(m=!1,g=null)}catch(e){throw E.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,E.postMessage(null))},r=function(e,n){v=f((function(){e(t.unstable_now())}),n)},i=function(){d(v),v=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,l=e[a];if(void 0!==s&&0>S(s,n))void 0!==l&&0>S(l,s)?(e[r]=l,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==l&&0>S(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],C=[],O=1,N=null,x=3,A=!1,P=!1,R=!1;function D(e){for(var t=k(C);null!==t;){if(null===t.callback)T(C);else{if(!(t.startTime<=e))break;T(C),t.sortIndex=t.expirationTime,_(I,t)}t=k(C)}}function L(e){if(R=!1,D(e),!P)if(null!==k(I))P=!0,n(M);else{var t=k(C);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,R&&(R=!1,i()),A=!0;var o=x;try{for(D(n),N=k(I);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=N.callback;if("function"==typeof s){N.callback=null,x=N.priorityLevel;var a=s(N.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?N.callback=a:N===k(I)&&T(I),D(n)}else T(I);N=k(I)}if(null!==N)var l=!0;else{var u=k(C);null!==u&&r(L,u.startTime-n),l=!1}return l}finally{N=null,x=o,A=!1}}var j=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||A||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return k(I)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var n=x;x=t;try{return e()}finally{x=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=x;x=e;try{return t()}finally{x=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?a+s:a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:O++,callback:o,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>a?(e.sortIndex=s,_(C,e),null===k(I)&&e===k(C)&&(R?i():R=!0,r(L,s-a))):(e.sortIndex=l,_(I,e),P||A||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=x;return function(){var n=x;x=t;try{return e.apply(this,arguments)}finally{x=n}}}},840:(e,t,n)=>{"use strict";e.exports=n(53)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{"use strict";var e=n(294),t=n(935),r=n(486),i=n.n(r),o=n(697),s=n.n(o);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var l=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",a({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),e.createElement("polyline",{points:"17 11 12 6 7 11"}),e.createElement("polyline",{points:"17 18 12 13 7 18"}))}));l.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},l.displayName="ChevronsUp";const u=l;function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h{resume(){this.startTime=Date.now(),clearTimeout(this.id),this.id=setTimeout(this.callback,this.remainingTime)}pause(){clearTimeout(this.id),this.remainingTime-=Date.now()-this.startTime}end(){clearTimeout(this.id),this.callback()}constructor(e,t,n=!0){c(this,"id",void 0),c(this,"startTime",void 0),c(this,"remainingTime",void 0),c(this,"callback",void 0),c(this,"duration",void 0),this.callback=e,this.duration=t,this.remainingTime=t,n&&this.resume()}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d({children:t,type:n,life:r,remove:i,callback:o,color:s,fixedTime:a=!1}){const l=()=>{c(!0),setTimeout(i,500)},[u,c]=e.useState(!1),f=e.useMemo((()=>new h(l,1e3*r,!1)),[]),d=e.useRef(),p=()=>{f.pause(),d.current.style.animationPlayState="paused"},g=()=>{f.resume(),d.current.style.animationPlayState="running"};return e.useEffect((()=>{const e=()=>!a&&g(),t=()=>!a&&p();return window.addEventListener("focus",e),window.addEventListener("blur",t),(a||document.hasFocus())&&g(),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",t)}})),e.createElement("div",{className:m("Toast",[u,"Closing"],n),onMouseEnter:a?null:p,onMouseLeave:a?null:g,onClick:o?e=>{o(e),f.end()}:()=>{f.end()},style:{cursor:o?"pointer":null,backgroundColor:s}},t,e.createElement("div",{className:"ProgressBarContainer"},e.createElement("div",{ref:d,className:"ProgressBar",style:{animationDuration:r+"s"}})))}class p extends e.Component{componentDidMount(){p.instance=this}static showToast(t,n="",r=5,i={}){const{callback:o=null,color:s=null,fixedTime:a=!1}=i,l=e.createElement(d,{key:v(),children:t,type:n,life:r,color:s,fixedTime:a,remove:()=>{this.instance.setState({toasts:this.instance.state.toasts.filter((e=>e!==l))})},callback:o});return this.instance.setState({toasts:[...this.instance.state.toasts,l]}),l}get horizontalStyle(){return"Center"}get verticalStyle(){return"Bottom"}render(){return e.createElement("div",{ref:p.ref,className:m("ToastsContainer",this.horizontalStyle,this.verticalStyle)},e.createElement("div",{className:m("ClearButton",[!!this.state.toasts?.length,"Visible"]),onClick:()=>this.setState({toasts:[]})},e.createElement("u",null,"Close all")),this.state.toasts)}constructor(...e){super(...e),f(this,"state",{toasts:[]})}}function m(){let e="";for(let t=0;t<arguments.length;t++)typeof arguments[t]===(Array.isArray(arguments[t])&&"boolean"==typeof arguments[t][0]&&"object")?!0===arguments[t][0]?e+=arguments[t][1]:arguments[t][2]&&(e+=arguments[t][2]):e+=arguments[t],e+=" ";return e.trim()}function g(e){return fetch(`https://api.allorigins.win/raw?url=${encodeURIComponent(e)}`).then((e=>e.blob())).then((t=>{const n=Object.assign(document.createElement("a"),{style:{display:"none"},href:URL.createObjectURL(t),download:e.split("/")[e.split("/").length-1]});document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(n.href),n.remove()})).catch((e=>(console.error(e),p.showToast("Failed to save image!","Failure"))))}function v(){return Math.random().toString(36).substr(7)}f(p,"instance",void 0),f(p,"ref",e.createRef());const y={UPDATE_ROUTE:"UPDATE_ROUTE",UPDATE_PAGE:"UPDATE_PAGE",UPDATE_QUERY:"UPDATE_QUERY",UPDATE_USER:"UPDATE_USER",UPDATE_LOCAL_USER:"UPDATE_LOCAL_USER",UPDATE_SETTINGS:"UPDATE_SETTINGS"},w=new class{subscribe(e,t){return this._callbacks[e]||(this._callbacks[e]=new Set),this._callbacks[e].add(t),this.unsubscribe.bind(this,e,t)}unsubscribe(e,t){this._callbacks[e]&&this._callbacks[e].delete(t)}dispatch(e){const t=e.type;if(this._callbacks[t])for(const n of this._callbacks[t])try{n(e)}catch(e){console.error(e)}}get useForceUpdater(){return(t,n=null,r=[],o={})=>{let[,s]=e.useReducer((e=>e+1),0);"number"==typeof o.debounce&&(s=i().debounce(s,o.debounce)),e.useEffect((()=>this.subscribe(t,(e=>{"function"==typeof n?n(e)&&s():s()}))),r)}}constructor(){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"_callbacks",{})}};function b(t,n,r={}){const{target:i=document,dependencies:o=[],init:s=!1}=r;e.useEffect((()=>(i.addEventListener(t,n),s&&n(),()=>i.removeEventListener(t,n))),o)}function E(){return E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(this,arguments)}var k=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",E({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polyline",{points:"15 18 9 12 15 6"}))}));k.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},k.displayName="ChevronLeft";const T=k;function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}var I=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",S({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"}))}));I.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},I.displayName="Minimize";const C=I;function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O.apply(this,arguments)}var N=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",O({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}))}));N.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},N.displayName="Maximize";const x=N;function A(){return A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}var P=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",A({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),e.createElement("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}))}));P.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},P.displayName="Clipboard";const R=P;function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}var L=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",D({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),e.createElement("polyline",{points:"15 3 21 3 21 9"}),e.createElement("line",{x1:"10",y1:"14",x2:"21",y2:"3"}))}));L.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},L.displayName="ExternalLink";const M=L;function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}var U=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",j({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polyline",{points:"9 18 15 12 9 6"}))}));U.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},U.displayName="ChevronRight";const F=U;function z(){return z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}var B=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",z({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"6"}),e.createElement("line",{x1:"12",y1:"18",x2:"12",y2:"22"}),e.createElement("line",{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}),e.createElement("line",{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}),e.createElement("line",{x1:"2",y1:"12",x2:"6",y2:"12"}),e.createElement("line",{x1:"18",y1:"12",x2:"22",y2:"12"}),e.createElement("line",{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}),e.createElement("line",{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"}))}));B.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},B.displayName="Loader";const V=B;class ${emitChange(){for(const e of this._listeners)e()}addListener(e){return this._listeners.add(e)}removeListener(e){return this._listeners.delete(e)}get useState(){return(t=(e=>e),n=[])=>{const[r,i]=e.useState(t(this));return e.useEffect((()=>{const e=()=>i(t(this));return this.addListener(e),()=>{this.removeListener(e)}}),[r,...n]),r}}constructor(e,t){if(function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"_listeners",new Set),this._dispatcher=e,"object"==typeof t)for(const n in t)e.subscribe(n,(e=>{!1!==t[n]?.(e)&&this.emitChange()}));this._actionHandlers=t}}const W=new class extends ${get query(){return Object.fromEntries(new URLSearchParams(window.location.search))}get(e,t=null){return this.query[e]??t}set(e,t,n={}){const r=new URLSearchParams(window.location.search);null===t?r.delete(e):r.set(e,t),w.dispatch({type:y.UPDATE_QUERY,query:"?"+r.toString(),options:n})}}(w,{[y.UPDATE_QUERY]:({query:e,options:t})=>{const{pushHistory:n=!0}=t;w.dispatch({type:y.UPDATE_ROUTE,replace:!n,path:e})},[y.UPDATE_PAGE]:()=>{}}),q=W;class H extends e.Component{componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}showErrorInfo(){const{error:t,errorInfo:n}=this.state;var r;r=e.createElement("div",{className:"ErrorInfoModal PrimaryBg",onClick:()=>{ee.pop().catch(console.error.bind(console,"Failed to pop modal!"))}},e.createElement("h1",null,t.message),n.componentStack.split("\n").slice(0,10).map(((t,n)=>e.createElement("h2",{key:n},t)))),ee.push(r)}renderError(){const{moreInfo:t}=this.state;return e.createElement("div",{className:"ErrorBoundaryHandler"},e.createElement("h1",null,"There was an error with this component!"),e.createElement("h2",null,"This is due to a plugin error or application error."),e.createElement("div",{className:"ErrorBoundaryFooter"},e.createElement("div",{className:"ErrorBoundaryButton TertiaryBg",onClick:()=>this.showErrorInfo()},"More Info"),e.createElement("div",{className:"ErrorBoundaryButton BackgroundDanger",onClick:()=>this.setState({error:null})},"Retry")))}render(){return this.state.error?this.renderError():this.props.children}constructor(e){super(e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"state",{error:null,errorInfo:null,moreInfo:!1})}}function K(){return e.createElement("div",{className:"InlineLoadingContainer"},e.createElement("div",{className:"Dot A"}),e.createElement("div",{className:"Dot B"}),e.createElement("div",{className:"Dot C"}))}function G({children:t,...n}){return e.createElement("a",{className:"LinkWrapper",onClick:function(e){w.dispatch({type:y.UPDATE_ROUTE,path:n.href}),e.preventDefault(),n.onClick?.(e)},...n},t)}function Q({children:t,direction:n="up",className:r="",color:i,style:o,onClick:s}){const[a,l]=e.useState(!1),u=e.useRef();return e.useEffect((()=>(u.current.parentElement.classList.add("HasTooltip"),()=>{u.current&&u.current.parentElement.classList.remove("HasTooltip")})),[t,n]),e.createElement("div",{ref:u,className:m("TooltipContainer",n.toLowerCase(),[a,"Visible"],r),style:o,onClick:s},e.createElement("div",{className:"Tooltip",style:{backgroundColor:i}},t),e.createElement("div",{className:"TooltipArrow",style:{backgroundColor:i}}))}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}async function X(t){try{await window.navigator.clipboard.writeText(t),p.showToast(e.createElement("span",null,e.createElement("b",null,t.length>=100?t.substr(0,100)+"...":t)," copied to clipboard"),"Success")}catch(n){!async function(t={}){const{async:n=!1}=t;await new Promise((n=>{ee.push(e.createElement(te,{resolve:n,...t}))}));!n&&ee.pop()}({title:"Failed To Copy",description:"Your browser does not support copying to clipboard, you can manually copy here.",value:t})}}function J({image:t,setLoaded:n,setFailed:r,className:i,onClick:o,isPreview:s=!1}){const a=e.useRef(),[l,u]=e.useState(!1),c={onLoad:()=>(n?.(!0),r?.(!1),u(!0)),onError:()=>(n?.(!0),r?.(!0),u(!0)),onClick:o};var h;return h=()=>{a.current&&a.current.pause()},e.useEffect((()=>h),[]),t?/\.webm$/.test(t.full)&&!s?e.createElement("video",{ref:a,src:t.full,controls:!i,loop:!0,muted:!0,autoPlay:!s,className:i,...c}):e.createElement(e.Fragment,null,e.createElement("img",{src:t.preview,alt:"Preview failed to load",style:{display:l&&!i?"none":null},className:i}),!i&&!s&&e.createElement("img",{src:t.full,alt:"Image failed to load",className:i,style:{display:l?null:"none"},...c}),!s&&!l&&e.createElement("div",{className:"LoadingIndicator FlexCenter"},e.createElement(V,{className:"Spinner"}))):null}function Z({url:t,getSources:n,buttons:r}){const i="function"==typeof n?n().filter((e=>e)):[t],o=(e.useRef(),e.useRef()),[s,a]=e.useState(i.findIndex((e=>e.full===t))),l=q.useState((()=>q.get("modalState"))),[u,c]=e.useState(!1);e.useEffect((()=>{"open"!==l&&(u?ee.pop():(c(!0),q.set("modalState","open")))}),[l]),e.useEffect((()=>()=>{setTimeout((()=>{"open"===q.get("modalState")&&(window.history.back(),w.dispatch({type:y.UPDATE_PAGE}))}),0)}),[]),e.useEffect((()=>{o&&o.current.style.setProperty("--translation","0")}),[o,s]);const h=e=>i[s+e]?(E(!1),k(!1),function(e){document.querySelector(`[src="${i[e].preview}"]`)?.scrollIntoView(),a(e)}(s+e)):p.showToast("No more images in this direction!","Failure"),[f,d]=e.useState(!0),[g,E]=e.useState(!1),[_,k]=e.useState(!1);b("keydown",(({key:e})=>{switch(e){case"Escape":return ee.pop();case"ArrowLeft":case"a":return h(-1);case"ArrowRight":case"d":return h(1);case"ArrowUp":case"w":return window.currentModalEvents?.vote(1);case"ArrowDown":case"s":return window.currentModalEvents?.vote(-1);case"f":return window.currentModalEvents?.favorite()}}),{dependencies:[s]});const S={onTouchStart:e=>{const t=e.touches[0].clientX;e.touches[0].clientY;let n=0;const r=e=>{n=e.touches[0].clientX-t,Math.abs(n)<50||(n<0?n+=50:n-=50,n/=window.innerWidth,n*=100,o.current.style.setProperty("--translation",n))};let i;document.addEventListener("touchmove",r),document.addEventListener("touchend",i=()=>{setTimeout((()=>{const e=parseFloat(o.current.style.getPropertyValue("--translation"));o.current.style.setProperty("--translation",e>5?"100":e<-5?"-100":"0"),document.removeEventListener("touchmove",r),document.removeEventListener("touchend",i),setTimeout((()=>{if(!o.current)return;const e=parseFloat(o.current.style.getPropertyValue("--translation"));e>=75?h(-1):e<=-75&&h(1)}),200)}),100)})}};return e.createElement("div",{ref:o,className:"ImageModal",onClick:e=>e.target===e.currentTarget&&ee.pop(),...S},e.createElement("div",{className:m("ImageContainer",[f,"Expanded"])},e.createElement(J,{key:v(),image:i[s-1],setLoaded:E,setFailed:k,className:"Previous",onClick:()=>h(-1),isPreview:!0}),e.createElement(J,{key:v(),image:i[s],setLoaded:E,setFailed:k}),e.createElement(J,{key:v(),image:i[s+1],setLoaded:E,setFailed:k,className:"Next",onClick:()=>h(1),isPreview:!0})),e.createElement("div",{className:"Footer"},e.createElement("div",{className:m("Button Arrow Left",[!i.length||!s,"Disabled"]),onClick:()=>h(-1)},e.createElement(T,null),e.createElement(Q,null,"Previous Image")),e.createElement("div",{className:"Divider"}),r?.(s)??e.createElement(e.Fragment,null,e.createElement("div",{className:"Button",onClick:()=>d(!f)},f?e.createElement(C,null):e.createElement(x,null),e.createElement(Q,null,f?"Compress":"Expand")),e.createElement("div",{className:"Button"},e.createElement(R,null),e.createElement(Q,null,"Copy URL")),e.createElement(G,{className:"Button",style:{display:"block",color:"white"},href:i[s].full},e.createElement(M,null),e.createElement(Q,null,"Open In New Tab"))),e.createElement("div",{className:"Divider"}),e.createElement("div",{className:m("Button Arrow Right",[!i.length||s+1>=i.length,"Disabled"]),onClick:()=>h(1)},e.createElement(F,null),e.createElement(Q,null,"Next Image"))))}class ee extends e.Component{static push(e){this.instance.setState({stack:[...this.instance.state.stack,e]})}static async pop(){const{stack:e,closing:t}=this.instance.state,n=e[e.length-1];e.length&&n&&(this.instance.setState({closing:[...t,n]}),await new Promise((e=>setTimeout(e,150))),this.instance.setState({stack:this.instance.state.stack.filter((e=>e!==n)),closing:this.instance.state.closing.filter((e=>e!==n))}))}componentDidMount(){ee.instance=this}componentDidUpdate(e,t,n){document.documentElement.style.overflowY=this.state.stack.length?"hidden":null,document.documentElement.style.marginRight=this.state.stack.length?"5px":null}handleBackdropClick(e){if(e.target!==e.currentTarget)return;const{stack:t}=this.state;if(t[t.length-1]&&"function"==typeof t[t.length-1].props?.onBackdropClick)return t[t.length-1].props.onBackdropClick();ee.pop().catch(console.error.bind(console,"Failed to pop modal!"))}render(){const{stack:t,closing:n}=this.state;return e.createElement("div",{className:"ModalStack"+(t.length>n.length?" Active":"")},t.map(((r,i)=>e.createElement(H,null,e.createElement("div",{className:"ModalContainer"+(~n.indexOf(r)||i<t.length-1?" Closing":""),key:i,onMouseDown:this.handleBackdropClick.bind(this),style:{zIndex:10*i}},r)))))}constructor(...e){super(...e),Y(this,"state",{stack:[],closing:[]})}}function te(t){const{title:n="",description:r="",yesText:i="Confirm",noText:o="Cancel",yesColor:s="",noColor:a="",value:l="",onChange:u=null,rich:c=!1,resolve:h,id:f}=t,[d,p]=e.useState(!1),[m,g]=e.useState(!1);return e.createElement("div",{className:"StringModal PrimaryBg"},e.createElement("div",{className:"Title",dangerouslySetInnerHTML:{__html:n}}),e.createElement("div",{className:"Description",dangerouslySetInnerHTML:{__html:r}}),e.createElement("input",{id:f,className:"Field TertiaryBg",defaultValue:l,onChange:u}),e.createElement("div",{className:"Footer"},e.createElement("div",{className:"Button TertiaryBg",onClick:()=>(h(null),p(!0)),style:{backgroundColor:a}},d?e.createElement(K,null):o),e.createElement("div",{className:"Button TertiaryBg",onClick:()=>(h(document.getElementById(f).value),g(!0)),style:{backgroundColor:s}},m?e.createElement(K,null):i)))}Y(ee,"instance",void 0);const ne=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],o=t+1<e.length,s=o?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,u=i>>2,c=(3&i)<<4|s>>4;let h=(15&s)<<2|l>>6,f=63&l;a||(f=64,o||(h=64)),r.push(n[u],n[c],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ne(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==s||null==a)throw new ie;const l=i<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oe=function(e){return function(e){const t=ne(e);return re.encodeByteArray(t,!0)}(e).replace(/\./g,"")},se=function(e){try{return re.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},ae=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&se(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},le=e=>{var t,n;return null===(n=null===(t=ae())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},ue=e=>{const t=le(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ce=()=>{var e;return null===(e=ae())||void 0===e?void 0:e.config},he=e=>{var t;return null===(t=ae())||void 0===t?void 0:t[`_${e}`]};class fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function de(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[oe(JSON.stringify({alg:"none",type:"JWT"})),oe(JSON.stringify(o)),""].join(".")}function pe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function me(){try{return"object"==typeof indexedDB}catch(e){return!1}}function ge(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}class ve extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ye.prototype.create)}}class ye{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(we,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new ve(r,s,n)}}const we=/\{\$([^}]+)}/g;function be(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Ee(n)&&Ee(o)){if(!be(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function Ee(e){return null!==e&&"object"==typeof e}function _e(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ke(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Te(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Se{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ie),void 0===r.error&&(r.error=Ie),void 0===r.complete&&(r.complete=Ie);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Ie(){}function Ce(e){return e&&e._delegate?e._delegate:e}class Oe{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ne="[DEFAULT]";class xe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new fe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ne})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=Ne){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=Ne){return this.instances.has(e)}getOptions(e=Ne){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===Ne?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e=Ne){return this.component?this.component.multipleInstances?e:Ne:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Pe=[];var Re,De;(De=Re||(Re={}))[De.DEBUG=0]="DEBUG",De[De.VERBOSE=1]="VERBOSE",De[De.INFO=2]="INFO",De[De.WARN=3]="WARN",De[De.ERROR=4]="ERROR",De[De.SILENT=5]="SILENT";const Le={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},Me=Re.INFO,je={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},Ue=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=je[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Fe{constructor(e){this.name=e,this._logLevel=Me,this._logHandler=Ue,this._userLogHandler=null,Pe.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Le[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const ze=(e,t)=>t.some((t=>e instanceof t));let Be,Ve;const $e=new WeakMap,We=new WeakMap,qe=new WeakMap,He=new WeakMap,Ke=new WeakMap;let Ge={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return We.get(e);if("objectStoreNames"===t)return e.objectStoreNames||qe.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ye(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Qe(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ve||(Ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Xe(this),e),Ye($e.get(this))}:function(...e){return Ye(t.apply(Xe(this),e))}:function(e,...n){const r=t.call(Xe(this),e,...n);return qe.set(r,e.sort?e.sort():[e]),Ye(r)}:(e instanceof IDBTransaction&&function(e){if(We.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));We.set(e,t)}(e),ze(e,Be||(Be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ge):e);var t}function Ye(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Ye(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&$e.set(t,e)})).catch((()=>{})),Ke.set(t,e),t}(e);if(He.has(e))return He.get(e);const t=Qe(e);return t!==e&&(He.set(e,t),Ke.set(t,e)),t}const Xe=e=>Ke.get(e),Je=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],et=new Map;function tt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(et.get(t))return et.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ze.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Je.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return et.set(t,o),o}var nt;nt=Ge,Ge={...nt,get:(e,t,n)=>tt(e,t)||nt.get(e,t,n),has:(e,t)=>!!tt(e,t)||nt.has(e,t)};class rt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const it="@firebase/app",ot="0.9.13",st=new Fe("@firebase/app"),at="[DEFAULT]",lt={[it]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ut=new Map,ct=new Map;function ht(e,t){try{e.container.addComponent(t)}catch(n){st.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ft(e){const t=e.name;if(ct.has(t))return st.debug(`There were multiple attempts to register component ${t}.`),!1;ct.set(t,e);for(const t of ut.values())ht(t,e);return!0}function dt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const pt=new ye("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class mt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Oe("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pt.create("app-deleted",{appName:this._name})}}const gt="9.23.0";function vt(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:at,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw pt.create("bad-app-name",{appName:String(i)});if(n||(n=ce()),!n)throw pt.create("no-options");const o=ut.get(i);if(o){if(be(n,o.options)&&be(r,o.config))return o;throw pt.create("duplicate-app",{appName:i})}const s=new Ae(i);for(const e of ct.values())s.addComponent(e);const a=new mt(n,r,s);return ut.set(i,a),a}function yt(e=at){const t=ut.get(e);if(!t&&e===at&&ce())return vt();if(!t)throw pt.create("no-app",{appName:e});return t}function wt(e,t,n){var r;let i=null!==(r=lt[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void st.warn(e.join(" "))}ft(new Oe(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const bt="firebase-heartbeat-database",Et=1,_t="firebase-heartbeat-store";let kt=null;function Tt(){return kt||(kt=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Ye(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Ye(s.result),e.oldVersion,e.newVersion,Ye(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(bt,Et,{upgrade:(e,t)=>{0===t&&e.createObjectStore(_t)}}).catch((e=>{throw pt.create("idb-open",{originalErrorMessage:e.message})}))),kt}async function St(e,t){try{const n=(await Tt()).transaction(_t,"readwrite"),r=n.objectStore(_t);await r.put(t,It(e)),await n.done}catch(e){if(e instanceof ve)st.warn(e.message);else{const t=pt.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});st.warn(t.message)}}}function It(e){return`${e.name}!${e.options.appId}`}class Ct{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Nt(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Ot();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Ot(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),xt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=oe(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Ot(){return(new Date).toISOString().substring(0,10)}class Nt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!me()&&ge().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Tt();return await t.transaction(_t).objectStore(_t).get(It(e))}catch(e){if(e instanceof ve)st.warn(e.message);else{const t=pt.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});st.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return St(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return St(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function xt(e){return oe(JSON.stringify({version:2,heartbeats:e})).length}function At(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}ft(new Oe("platform-logger",(e=>new rt(e)),"PRIVATE")),ft(new Oe("heartbeat",(e=>new Ct(e)),"PRIVATE")),wt(it,ot,""),wt(it,ot,"esm2017"),wt("fire-js",""),Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;const Pt=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Rt=new ye("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Dt=new Fe("@firebase/auth");function Lt(e,...t){Dt.logLevel<=Re.ERROR&&Dt.error(`Auth (${gt}): ${e}`,...t)}function Mt(e,...t){throw Ut(e,...t)}function jt(e,...t){return Ut(e,...t)}function Ut(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Rt.create(e,...t)}function Ft(e,t,...n){if(!e)throw Ut(t,...n)}function zt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Lt(t),new Error(t)}function Bt(e,t){e||zt(t)}function Vt(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function $t(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Wt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===$t()||"https:"===$t()||function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class qt{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bt(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pe())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return Wt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ht(e,t){Bt(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Kt{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void zt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void zt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void zt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Gt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Qt=new qt(3e4,6e4);function Yt(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Xt(e,t,n,r,i={}){return Jt(e,i,(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=_e(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Kt.fetch()(en(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Jt(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Gt),t);try{const t=new tn(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw nn(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw nn(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw nn(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw nn(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw function(e,t,n){const r=Object.assign(Object.assign({},Pt()),{[t]:n});return new ye("auth","Firebase",r).create(t,{appName:e.name})}(e,a,s);Mt(e,a)}}catch(t){if(t instanceof ve)throw t;Mt(e,"network-request-failed",{message:String(t)})}}async function Zt(e,t,n,r,i={}){const o=await Xt(e,t,n,r,i);return"mfaPendingCredential"in o&&Mt(e,"multi-factor-auth-required",{_serverResponse:o}),o}function en(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Ht(e.config,i):`${e.config.apiScheme}://${i}`}class tn{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(jt(this.auth,"network-request-failed"))),Qt.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function nn(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=jt(e,t,r);return i.customData._tokenResponse=n,i}function rn(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function on(e){return 1e3*Number(e)}function sn(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Lt("JWT malformed, contained fewer than 3 sections"),null;try{const e=se(n);return e?JSON.parse(e):(Lt("Failed to decode base64 JWT payload"),null)}catch(e){return Lt("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}async function an(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof ve&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class ln{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class un{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rn(this.lastLoginAt),this.creationTime=rn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cn(e){var t;const n=e.auth,r=await e.getIdToken(),i=await an(e,async function(e,t){return Xt(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Ft(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=At(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],a=(l=e.providerData,u=s,[...l.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&o.passwordHash||(null==a?void 0:a.length)),f=!!c&&h,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new un(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(e,d)}class hn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ft(e.idToken,"internal-error"),Ft(void 0!==e.idToken,"internal-error"),Ft(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=sn(e);return Ft(t,"internal-error"),Ft(void 0!==t.exp,"internal-error"),Ft(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Ft(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Jt(e,{},(async()=>{const n=_e({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=en(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Kt.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new hn;return n&&(Ft("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Ft("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Ft("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hn,this.toJSON())}_performRefresh(){return zt("not implemented")}}function fn(e,t){Ft("string"==typeof e||void 0===e,"internal-error",{appName:t})}class dn{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=At(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ln(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new un(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await an(this,this.stsTokenManager.getToken(this.auth,e));return Ft(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Ce(e),r=await n.getIdToken(t),i=sn(r);Ft(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:rn(on(i.auth_time)),issuedAtTime:rn(on(i.iat)),expirationTime:rn(on(i.exp)),signInProvider:s||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Ce(e);await cn(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ft(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new dn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await cn(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await an(this,async function(e,t){return Xt(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,d=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:E,stsTokenManager:_}=t;Ft(y&&_,e,"internal-error");const k=hn.fromJSON(this.name,_);Ft("string"==typeof y,e,"internal-error"),fn(c,e.name),fn(h,e.name),Ft("boolean"==typeof w,e,"internal-error"),Ft("boolean"==typeof b,e,"internal-error"),fn(f,e.name),fn(d,e.name),fn(p,e.name),fn(m,e.name),fn(g,e.name),fn(v,e.name);const T=new dn({uid:y,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:d,phoneNumber:f,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return E&&Array.isArray(E)&&(T.providerData=E.map((e=>Object.assign({},e)))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t,n=!1){const r=new hn;r.updateFromServerResponse(t);const i=new dn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await cn(i),i}}const pn=new Map;function mn(e){Bt(e instanceof Function,"Expected a class definition");let t=pn.get(e);return t?(Bt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,pn.set(e,t),t)}class gn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}gn.type="NONE";const vn=gn;function yn(e,t,n){return`firebase:${e}:${t}:${n}`}class wn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=yn(this.userKey,r.apiKey,i),this.fullPersistenceKey=yn("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?dn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new wn(mn(vn),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||mn(vn);const o=yn(n,e.config.apiKey,e.name);let s=null;for(const n of t)try{const t=await n._get(o);if(t){const r=dn._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(e){}}))),new wn(i,e,n)):new wn(i,e,n)}}function bn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Tn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(En(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(In(t))return"Blackberry";if(Cn(t))return"Webos";if(_n(t))return"Safari";if((t.includes("chrome/")||kn(t))&&!t.includes("edge/"))return"Chrome";if(Sn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function En(e=pe()){return/firefox\//i.test(e)}function _n(e=pe()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function kn(e=pe()){return/crios\//i.test(e)}function Tn(e=pe()){return/iemobile/i.test(e)}function Sn(e=pe()){return/android/i.test(e)}function In(e=pe()){return/blackberry/i.test(e)}function Cn(e=pe()){return/webos/i.test(e)}function On(e=pe()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Nn(e=pe()){return On(e)||Sn(e)||Cn(e)||In(e)||/windows phone/i.test(e)||Tn(e)}function xn(e,t=[]){let n;switch(e){case"Browser":n=bn(pe());break;case"Worker":n=`${bn(pe())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${gt}/${r}`}async function An(e,t){return Xt(e,"GET","/v2/recaptchaConfig",Yt(e,t))}function Pn(e){return void 0!==e&&void 0!==e.enterprise}class Rn{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function Dn(e){return new Promise(((t,n)=>{const r=document.createElement("script");var i,o;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=jt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(o=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==o?o:document).appendChild(r)}))}function Ln(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Mn{constructor(e){this.type="recaptcha-enterprise",this.auth=zn(e)}async verify(e="verify",t=!1){function n(t,n,r){const i=window.grecaptcha;Pn(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{An(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Rn(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Pn(window.grecaptcha))n(i,e,r);else{if("undefined"==typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Dn("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function jn(e,t,n,r=!1){const i=new Mn(e);let o;try{o=await i.verify(n)}catch(e){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}class Un{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(e){r(e)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}class Fn{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bn(this),this.idTokenSubscription=new Bn(this),this.beforeStateQueue=new Un(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mn(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await wn.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null==s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(e)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await cn(e)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Ce(e):null;return t&&Ft(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ft(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(mn(e))}))}async initializeRecaptchaConfig(){const e=await An(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Rn(e);null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled&&new Mn(this).verify()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ye("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mn(e)||this._popupRedirectResolver;Ft(t,this,"argument-error"),this.redirectPersistenceManager=await wn.create(this,[mn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ft(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){Dt.logLevel<=Re.WARN&&Dt.warn(`Auth (${gt}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function zn(e){return Ce(e)}class Bn{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Se(e,void 0);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Vn(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function $n(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Wn{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zt("not implemented")}_getIdTokenResponse(e){return zt("not implemented")}_linkToIdToken(e,t){return zt("not implemented")}_getReauthenticationResolver(e){return zt("not implemented")}}async function qn(e,t){return Zt(e,"POST","/v1/accounts:signInWithPassword",Yt(e,t))}class Hn extends Wn{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Hn(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Hn(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await jn(e,n,"signInWithPassword");return qn(e,t)}return qn(e,n).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await jn(e,n,"signInWithPassword");return qn(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return Zt(e,"POST","/v1/accounts:signInWithEmailLink",Yt(e,t))}(e,{email:this._email,oobCode:this._password});default:Mt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return async function(e,t){return Xt(e,"POST","/v1/accounts:update",t)}(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Zt(e,"POST","/v1/accounts:signInWithEmailLink",Yt(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Mt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Kn(e,t){return Zt(e,"POST","/v1/accounts:signInWithIdp",Yt(e,t))}class Gn extends Wn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Gn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=At(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Gn(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Kn(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Kn(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Kn(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_e(t)}return e}}const Qn={USER_NOT_FOUND:"user-not-found"};class Yn extends Wn{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Yn({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Yn({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Zt(e,"POST","/v1/accounts:signInWithPhoneNumber",Yt(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Zt(e,"POST","/v1/accounts:signInWithPhoneNumber",Yt(e,t));if(n.temporaryProof)throw nn(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Zt(e,"POST","/v1/accounts:signInWithPhoneNumber",Yt(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Qn)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Yn({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Xn{constructor(e){var t,n,r,i,o,s;const a=ke(Te(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Ft(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=ke(Te(e)).link,n=t?ke(Te(t)).deep_link_id:null,r=ke(Te(e)).deep_link_id;return(r?ke(Te(r)).link:null)||r||n||t||e}(e);try{return new Xn(t)}catch(e){return null}}}class Jn{constructor(){this.providerId=Jn.PROVIDER_ID}static credential(e,t){return Hn._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Xn.parseLink(t);return Ft(n,"argument-error"),Hn._fromEmailAndCode(e,n.code,n.tenantId)}}Jn.PROVIDER_ID="password",Jn.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Jn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Zn{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class er extends Zn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tr extends er{constructor(){super("facebook.com")}static credential(e){return Gn._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch(e){return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com",tr.PROVIDER_ID="facebook.com";class nr extends er{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Gn._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return nr.credential(t,n)}catch(e){return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com",nr.PROVIDER_ID="google.com";class rr extends er{constructor(){super("github.com")}static credential(e){return Gn._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return rr.credential(e.oauthAccessToken)}catch(e){return null}}}rr.GITHUB_SIGN_IN_METHOD="github.com",rr.PROVIDER_ID="github.com";class ir extends er{constructor(){super("twitter.com")}static credential(e,t){return Gn._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return ir.credential(t,n)}catch(e){return null}}}async function or(e,t){return Zt(e,"POST","/v1/accounts:signUp",Yt(e,t))}ir.TWITTER_SIGN_IN_METHOD="twitter.com",ir.PROVIDER_ID="twitter.com";class sr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await dn._fromIdTokenResponse(e,n,r),o=ar(n);return new sr({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ar(n);return new sr({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ar(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class lr extends ve{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,lr.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new lr(e,t,n,r)}}function ur(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw lr._fromErrorAndOperation(e,n,t,r);throw n}))}async function cr(e,t,n=!1){const r="signIn",i=await ur(e,r,t),o=await sr._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}new WeakMap;const hr="__sak";class fr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hr,"1"),this.storage.removeItem(hr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class dr extends fr{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=pe();return _n(e)||On(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Nn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);!function(){const e=pe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||10!==document.documentMode||i===e.newValue||e.newValue===e.oldValue?r():setTimeout(r,10)}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dr.type="LOCAL";const pr=dr;class mr extends fr{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mr.type="SESSION";const gr=mr;class vr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new vr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function yr(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}vr.receivers=[];class wr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=yr("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function br(){return window}function Er(){return void 0!==br().WorkerGlobalScope&&"function"==typeof br().importScripts}const _r="firebaseLocalStorageDb",kr="firebaseLocalStorage",Tr="fbase_key";class Sr{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ir(e,t){return e.transaction([kr],t?"readwrite":"readonly").objectStore(kr)}function Cr(){const e=indexedDB.open(_r,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(kr,{keyPath:Tr})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(kr)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(_r);return new Sr(e).toPromise()}(),t(await Cr()))}))}))}async function Or(e,t,n){const r=Ir(e,!0).put({[Tr]:t,value:n});return new Sr(r).toPromise()}function Nr(e,t){const n=Ir(e,!0).delete(t);return new Sr(n).toPromise()}class xr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Cr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Er()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vr._getInstance(Er()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new wr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}var t}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cr();return await Or(e,hr,"1"),await Nr(e,hr),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Or(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Ir(e,!1).get(t),r=await new Sr(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Nr(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ir(e,!1).getAll();return new Sr(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}xr.type="LOCAL";const Ar=xr;Ln("rcb"),new qt(3e4,6e4);class Pr{constructor(e){this.providerId=Pr.PROVIDER_ID,this.auth=zn(e)}verifyPhoneNumber(e,t){return async function(e,t,n){var r;const i=await n.verify();try{let o;if(Ft("string"==typeof i,e,"argument-error"),Ft("recaptcha"===n.type,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Ft("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Xt(e,"POST","/v2/accounts/mfaEnrollment:start",Yt(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Ft("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Ft(n,e,"missing-multi-factor-info");const s=await function(e,t){return Xt(e,"POST","/v2/accounts/mfaSignIn:start",Yt(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Xt(e,"POST","/v1/accounts:sendVerificationCode",Yt(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}(this.auth,e,Ce(t))}static credential(e,t){return Yn._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Pr.credentialFromTaggedObject(t)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Yn._fromTokenResponse(t,n):null}}Pr.PROVIDER_ID="phone",Pr.PHONE_SIGN_IN_METHOD="phone";class Rr extends Wn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Kn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Kn(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Dr(e){return cr(e.auth,new Rr(e),e.bypassAuthState)}function Lr(e){const{auth:t,user:n}=e;return Ft(n,t,"internal-error"),async function(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await an(e,ur(r,i,t,e),n);Ft(o.idToken,r,"internal-error");const s=sn(o.idToken);Ft(s,r,"internal-error");const{sub:a}=s;return Ft(e.uid===a,r,"user-mismatch"),sr._forOperation(e,i,o)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&Mt(r,"user-mismatch"),e}}(n,new Rr(e),e.bypassAuthState)}async function Mr(e){const{auth:t,user:n}=e;return Ft(n,t,"internal-error"),async function(e,t,n=!1){const r=await an(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return sr._forOperation(e,"link",r)}(n,new Rr(e),e.bypassAuthState)}class jr{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dr;case"linkViaPopup":case"linkViaRedirect":return Mr;case"reauthViaPopup":case"reauthViaRedirect":return Lr;default:Mt(this.auth,"internal-error")}}resolve(e){Bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ur=new qt(2e3,1e4);class Fr extends jr{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Fr.currentPopupAction&&Fr.currentPopupAction.cancel(),Fr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ft(e,this.auth,"internal-error"),e}async onExecution(){Bt(1===this.filter.length,"Popup operations only handle one event");const e=yr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(jt(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(jt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(jt(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ur.get())};e()}}Fr.currentPopupAction=null;const zr="pendingRedirect",Br=new Map;class Vr extends jr{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Br.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return yn(zr,e.config.apiKey,e.name)}(t),r=function(e){return mn(e._redirectPersistence)}(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Br.set(this.auth._key(),e)}return this.bypassAuthState||Br.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function $r(e,t){Br.set(e._key(),t)}async function Wr(e,t,n=!1){const r=zn(e),i=function(e,t){return t?mn(t):(Ft(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),o=new Vr(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class qr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Kr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(jt(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hr(e))}saveEventToCache(e){this.cachedEventUids.add(Hr(e)),this.lastProcessedEventTime=Date.now()}}function Hr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Kr({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const Gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qr=/^https?/;function Yr(e){const t=Vt(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Qr.test(n))return!1;if(Gr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Xr=new qt(3e4,6e4);function Jr(){const e=br().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let Zr=null;function ei(e){return Zr=Zr||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){Jr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Jr(),n(jt(e,"network-request-failed"))},timeout:Xr.get()})}if(null===(i=null===(r=br().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=br().gapi)||void 0===o?void 0:o.load)){const t=Ln("iframefcb");return br()[t]=()=>{gapi.load?s():n(jt(e,"network-request-failed"))},Dn(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw Zr=null,e}))}(e),Zr}const ti=new qt(5e3,15e3),ni={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ri=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ii(e){const t=e.config;Ft(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ht(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:gt},i=ri.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${_e(r).slice(1)}`}const oi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class si{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const ai=encodeURIComponent("fac");async function li(e,t,n,r,i,o){Ft(e.config.authDomain,e,"auth-domain-config-required"),Ft(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:gt,eventId:i};if(t instanceof Zn){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof er){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];const l=await e._getAppCheckToken(),u=l?`#${ai}=${encodeURIComponent(l)}`:"";return`${function({config:e}){return e.emulator?Ht(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${_e(a).slice(1)}${u}`}const ui="webStorageSupport",ci=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gr,this._completeRedirectFn=Wr,this._overrideRedirectResult=$r}async _openPopup(e,t,n,r){var i;return Bt(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},oi),{width:r.toString(),height:i.toString(),top:o,left:s}),u=pe().toLowerCase();n&&(a=kn(u)?"_blank":n),En(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=pe()){var t;return On(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new si(null);const h=window.open(t||"",a,c);Ft(h,e,"popup-blocked");try{h.focus()}catch(e){}return new si(h)}(e,await li(e,t,n,Vt(),r),yr())}async _openRedirect(e,t,n,r){return await this._originValidation(e),i=await li(e,t,n,Vt(),r),br().location.href=i,new Promise((()=>{}));var i}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Bt(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await ei(e),n=br().gapi;return Ft(n,e,"internal-error"),t.open({where:document.body,url:ii(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ni,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=jt(e,"network-request-failed"),o=br().setTimeout((()=>{r(i)}),ti.get());function s(){br().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new qr(e);return t.register("authEvent",(t=>(Ft(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ui,{type:ui},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[ui];void 0!==i&&t(!!i),Mt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return Xt(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(Yr(e))return}catch(e){}Mt(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Nn()||_n()||On()}};var hi="@firebase/auth",fi="0.23.2";class di{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const pi=he("authIdTokenMaxAge")||300;let mi=null;function gi(e=yt()){const t=dt(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=dt(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(be(n.getOptions(),null!=t?t:{}))return e;Mt(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ci,persistence:[Ar,pr,gr]}),r=he("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>pi)return;const r=null==t?void 0:t.token;mi!==r&&(mi=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Ce(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(t,n,r,i){Ce(t).onIdTokenChanged((t=>e(t)),void 0,void 0)}(n)}var i;const o=le("auth");return o&&function(e,t,n){const r=zn(e);Ft(r._canInitEmulator,r,"emulator-config-failed"),Ft(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),o=Vn(t),{host:s,port:a}=function(e){const t=Vn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:$n(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:$n(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${o}`),n}var vi;function yi(){return yi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yi.apply(this,arguments)}vi="Browser",ft(new Oe("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;Ft(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:o,authDomain:s,clientPlatform:vi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xn(vi)},l=new Fn(n,r,i,a);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mn);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),ft(new Oe("auth-internal",(e=>{return t=zn(e.getProvider("auth").getImmediate()),new di(t);var t}),"PRIVATE").setInstantiationMode("EXPLICIT")),wt(hi,fi,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(vi)),wt(hi,fi,"esm2017");var wi=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",yi({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))}));wi.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},wi.displayName="X";const bi=wi;function Ei(){return Ei=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ei.apply(this,arguments)}var _i=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Ei({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),e.createElement("polyline",{points:"10 17 15 12 10 7"}),e.createElement("line",{x1:"15",y1:"12",x2:"3",y2:"12"}))}));_i.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},_i.displayName="LogIn";const ki=_i;function Ti(){return Ti=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ti.apply(this,arguments)}var Si=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Ti({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),e.createElement("polyline",{points:"17 11 19 13 23 9"}))}));Si.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Si.displayName="UserCheck";const Ii=Si;function Ci(){return Ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ci.apply(this,arguments)}var Oi=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Ci({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),e.createElement("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),e.createElement("line",{x1:"23",y1:"11",x2:"17",y2:"11"}))}));Oi.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Oi.displayName="UserPlus";const Ni=Oi;function xi(){return xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xi.apply(this,arguments)}var Ai=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",xi({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"}))}));Ai.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Ai.displayName="Key";const Pi=Ai;wt("firebase","9.23.0","app");var Ri,Di="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Li={},Mi=Mi||{},ji=Di||self;function Ui(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Fi(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var zi="closure_uid_"+(1e9*Math.random()>>>0),Bi=0;function Vi(e,t,n){return e.call.apply(e.bind,arguments)}function $i(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Wi(e,t,n){return(Wi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Vi:$i).apply(null,arguments)}function qi(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Hi(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Ki(){this.s=this.s,this.o=this.o}Ki.prototype.s=!1,Ki.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,zi)&&e[zi]||(e[zi]=++Bi))},Ki.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Gi=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Qi(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Yi(e,t){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(Ui(n)){const t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function Xi(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Xi.prototype.h=function(){this.defaultPrevented=!0};var Ji=function(){if(!ji.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ji.addEventListener("test",(()=>{}),t),ji.removeEventListener("test",(()=>{}),t)}catch(e){}return e}();function Zi(e){return/^[\s\xa0]*$/.test(e)}function eo(){var e=ji.navigator;return e&&(e=e.userAgent)?e:""}function to(e){return-1!=eo().indexOf(e)}function no(e){return no[" "](e),e}no[" "]=function(){};var ro,io,oo,so=to("Opera"),ao=to("Trident")||to("MSIE"),lo=to("Edge"),uo=lo||ao,co=to("Gecko")&&!(-1!=eo().toLowerCase().indexOf("webkit")&&!to("Edge"))&&!(to("Trident")||to("MSIE"))&&!to("Edge"),ho=-1!=eo().toLowerCase().indexOf("webkit")&&!to("Edge");function fo(){var e=ji.document;return e?e.documentMode:void 0}e:{var po="",mo=(io=eo(),co?/rv:([^\);]+)(\)|;)/.exec(io):lo?/Edge\/([\d\.]+)/.exec(io):ao?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(io):ho?/WebKit\/(\S+)/.exec(io):so?/(?:Version)[ \/]?(\S+)/.exec(io):void 0);if(mo&&(po=mo?mo[1]:""),ao){var go=fo();if(null!=go&&go>parseFloat(po)){ro=String(go);break e}}ro=po}ji.document&&ao?oo=fo()||parseInt(ro,10)||void 0:oo=void 0;var vo=oo;function yo(e,t){if(Xi.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(co){e:{try{no(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:wo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&yo.$.h.call(this)}}Hi(yo,Xi);var wo={2:"touch",3:"pen",4:"mouse"};yo.prototype.h=function(){yo.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var bo="closure_listenable_"+(1e6*Math.random()|0),Eo=0;function _o(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Eo,this.fa=this.ia=!1}function ko(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function To(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function So(e){const t={};for(const n in e)t[n]=e[n];return t}const Io="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Co(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<Io.length;t++)n=Io[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Oo(e){this.src=e,this.g={},this.h=0}function No(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Gi(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ko(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function xo(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Oo.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=xo(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new _o(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var Ao="closure_lm_"+(1e6*Math.random()|0),Po={};function Ro(e,t,n,r,i){if(r&&r.once)return Lo(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Ro(e,t[o],n,r,i);return null}return n=Vo(n),e&&e[bo]?e.O(t,n,Fi(r)?!!r.capture:!!r,i):Do(e,t,n,!1,r,i)}function Do(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Fi(i)?!!i.capture:!!i,a=zo(e);if(a||(e[Ao]=a=new Oo(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){const e=Fo;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ji||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Uo(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Lo(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Lo(e,t[o],n,r,i);return null}return n=Vo(n),e&&e[bo]?e.P(t,n,Fi(r)?!!r.capture:!!r,i):Do(e,t,n,!0,r,i)}function Mo(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Mo(e,t[o],n,r,i);else r=Fi(r)?!!r.capture:!!r,n=Vo(n),e&&e[bo]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=xo(o=e.g[t],n,r,i))&&(ko(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=zo(e))&&(t=e.g[t.toString()],e=-1,t&&(e=xo(t,n,r,i)),(n=-1<e?t[e]:null)&&jo(n))}function jo(e){if("number"!=typeof e&&e&&!e.fa){var t=e.src;if(t&&t[bo])No(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Uo(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=zo(t))?(No(n,e),0==n.h&&(n.src=null,t[Ao]=null)):ko(e)}}}function Uo(e){return e in Po?Po[e]:Po[e]="on"+e}function Fo(e,t){if(e.fa)e=!0;else{t=new yo(t,this);var n=e.listener,r=e.la||e.src;e.ia&&jo(e),e=n.call(r,t)}return e}function zo(e){return(e=e[Ao])instanceof Oo?e:null}var Bo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vo(e){return"function"==typeof e?e:(e[Bo]||(e[Bo]=function(t){return e.handleEvent(t)}),e[Bo])}function $o(){Ki.call(this),this.i=new Oo(this),this.S=this,this.J=null}function Wo(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"==typeof t)t=new Xi(t,e);else if(t instanceof Xi)t.target=t.target||e;else{var i=t;Co(t=new Xi(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=qo(s,r,!0,t)&&i}if(i=qo(s=t.g=e,r,!0,t)&&i,i=qo(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=qo(s=t.g=n[o],r,!1,t)&&i}function qo(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&No(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Hi($o,Ki),$o.prototype[bo]=!0,$o.prototype.removeEventListener=function(e,t,n,r){Mo(this,e,t,n,r)},$o.prototype.N=function(){if($o.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ko(n[r]);delete t.g[e],t.h--}}this.J=null},$o.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$o.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ho=ji.JSON.stringify;function Ko(){var e=es;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Go=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Qo),(e=>e.reset()));class Qo{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Yo(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Xo(e){ji.setTimeout((()=>{throw e}),0)}let Jo,Zo=!1,es=new class{constructor(){this.h=this.g=null}add(e,t){const n=Go.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},ts=()=>{const e=ji.Promise.resolve(void 0);Jo=()=>{e.then(ns)}};var ns=()=>{for(var e;e=Ko();){try{e.h.call(e.g)}catch(e){Xo(e)}var t=Go;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Zo=!1};function rs(e,t){$o.call(this),this.h=e||1,this.g=t||ji,this.j=Wi(this.qb,this),this.l=Date.now()}function is(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function os(e,t,n){if("function"==typeof e)n&&(e=Wi(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Wi(e.handleEvent,e)}return 2147483647<Number(t)?-1:ji.setTimeout(e,t||0)}function ss(e){e.g=os((()=>{e.g=null,e.i&&(e.i=!1,ss(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Hi(rs,$o),(Ri=rs.prototype).ga=!1,Ri.T=null,Ri.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wo(this,"tick"),this.ga&&(is(this),this.start()))}},Ri.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ri.N=function(){rs.$.N.call(this),is(this),delete this.g};class as extends Ki{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ss(this)}N(){super.N(),this.g&&(ji.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(e){Ki.call(this),this.h=e,this.g={}}Hi(ls,Ki);var us=[];function cs(e,t,n,r){Array.isArray(n)||(n&&(us[0]=n.toString()),n=us);for(var i=0;i<n.length;i++){var o=Ro(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function hs(e){To(e.g,(function(e,t){this.g.hasOwnProperty(t)&&jo(e)}),e),e.g={}}function fs(){this.g=!0}function ds(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ho(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}ls.prototype.N=function(){ls.$.N.call(this),hs(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fs.prototype.Ea=function(){this.g=!1},fs.prototype.info=function(){};var ps={},ms=null;function gs(){return ms=ms||new $o}function vs(e){Xi.call(this,ps.Ta,e)}function ys(e){const t=gs();Wo(t,new vs(t))}function ws(e,t){Xi.call(this,ps.STAT_EVENT,e),this.stat=t}function bs(e){const t=gs();Wo(t,new ws(t,e))}function Es(e,t){Xi.call(this,ps.Ua,e),this.size=t}function _s(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return ji.setTimeout((function(){e()}),t)}ps.Ta="serverreachability",Hi(vs,Xi),ps.STAT_EVENT="statevent",Hi(ws,Xi),ps.Ua="timingevent",Hi(Es,Xi);var ks={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ts={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ss(){}function Is(e){return e.h||(e.h=e.i())}function Cs(){}Ss.prototype.h=null;var Os,Ns={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function xs(){Xi.call(this,"d")}function As(){Xi.call(this,"c")}function Ps(){}function Rs(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ls(this),this.P=Ls,e=uo?125:void 0,this.V=new rs(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ds}function Ds(){this.i=null,this.g="",this.h=!1}Hi(xs,Xi),Hi(As,Xi),Hi(Ps,Ss),Ps.prototype.g=function(){return new XMLHttpRequest},Ps.prototype.i=function(){return{}},Os=new Ps;var Ls=45e3,Ms={},js={};function Us(e,t,n){e.L=1,e.v=ra(Js(t)),e.s=n,e.S=!0,Fs(e,null)}function Fs(e,t){e.G=Date.now(),$s(e),e.A=Js(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),ga(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Ds,e.g=ml(e.l,n?t:null,!e.s),0<e.O&&(e.M=new as(Wi(e.Pa,e,e.g),e.O)),cs(e.U,e.g,"readystatechange",e.nb),t=e.I?So(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ys(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&"type"==h[1]?s+(c+"=")+u+"&":s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function zs(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.l.Ha}function Bs(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Vs(e,n),r==js){4==t&&(e.o=4,bs(14),i=!1),ds(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ms){e.o=4,bs(15),ds(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ds(e.j,e.m,r,null),Gs(e,r)}zs(e)&&r!=js&&r!=Ms&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,bs(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),al(t),t.M=!0,bs(11))):(ds(e.j,e.m,n,"[Invalid Chunked Response]"),Ks(e),Hs(e))}function Vs(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?js:(n=Number(t.substring(n,r)),isNaN(n)?Ms:(r+=1)+n>t.length?js:(t=t.slice(r,r+n),e.C=r+n,t))}function $s(e){e.Y=Date.now()+e.P,Ws(e,e.P)}function Ws(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_s(Wi(e.lb,e),t)}function qs(e){e.B&&(ji.clearTimeout(e.B),e.B=null)}function Hs(e){0==e.l.H||e.J||cl(e.l,e)}function Ks(e){qs(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,is(e.V),hs(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Gs(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||_a(n.i,e)))if(!e.K&&_a(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;ul(n),Za(n)}sl(n),bs(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=_s(Wi(n.ib,n),6e3));if(1>=Ea(n.i)&&n.oa){try{n.oa()}catch(e){}n.oa=void 0}}else fl(n,11)}else if((e.K||n.g==e)&&ul(n),!Zi(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"==typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(ka(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,na(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=pl(r,r.J?r.pa:null,r.Y),s.K){Ta(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(qs(a),$s(a)),r.g=s}else ol(r);0<n.j.length&&tl(n)}else"stop"!=u[0]&&"close"!=u[0]||fl(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?fl(n,7):Ja(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}ys()}catch(e){}}function Qs(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ui(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(Ui(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(Ui(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(Ri=Rs.prototype).setTimeout=function(e){this.P=e},Ri.nb=function(e){e=e.target;const t=this.M;t&&3==Ha(e)?t.l():this.Pa(e)},Ri.Pa=function(e){try{if(e==this.g)e:{const c=Ha(this.g);var t=this.g.Ia();if(this.g.da(),!(3>c)&&(3!=c||uo||this.g&&(this.h.h||this.g.ja()||Ka(this.g)))){this.J||4!=c||7==t||ys(),qs(this);var n=this.g.da();this.ca=n;t:if(zs(this)){var r=Ka(this.g);e="";var i=r.length,o=4==Ha(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ks(this),Hs(this);var s="";break t}this.h.i=new ji.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zi(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,bs(12),Ks(this),Hs(this);break e}ds(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gs(this,n)}this.S?(Bs(this,c,s),uo&&this.i&&3==c&&(cs(this.U,this.V,"tick",this.mb),this.V.start())):(ds(this.j,this.m,s,null),Gs(this,s)),4==c&&Ks(this),this.i&&!this.J&&(4==c?cl(this.l,this):(this.i=!1,$s(this)))}else(function(e){const t={};e=(e.g&&2<=Ha(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Zi(e[r]))continue;var n=Yo(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,bs(12)):(this.o=0,bs(13)),Ks(this),Hs(this)}}}catch(e){}},Ri.mb=function(){if(this.g){var e=Ha(this.g),t=this.g.ja();this.C<t.length&&(qs(this),Bs(this,e,t),this.i&&4!=e&&$s(this))}},Ri.cancel=function(){this.J=!0,Ks(this)},Ri.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(ys(),bs(17)),Ks(this),this.o=2,Hs(this)):Ws(this,this.Y-e)};var Ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xs(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Xs){this.h=e.h,Zs(this,e.j),this.s=e.s,this.g=e.g,ea(this,e.m),this.l=e.l;var t=e.i,n=new fa;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ta(this,n),this.o=e.o}else e&&(t=String(e).match(Ys))?(this.h=!1,Zs(this,t[1]||"",!0),this.s=ia(t[2]||""),this.g=ia(t[3]||"",!0),ea(this,t[4]),this.l=ia(t[5]||"",!0),ta(this,t[6]||"",!0),this.o=ia(t[7]||"")):(this.h=!1,this.i=new fa(null,this.h))}function Js(e){return new Xs(e)}function Zs(e,t,n){e.j=n?ia(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ea(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ta(e,t,n){t instanceof fa?(e.i=t,function(e,t){t&&!e.j&&(da(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(pa(this,t),ga(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=oa(t,ca)),e.i=new fa(t,e.h))}function na(e,t,n){e.i.set(t,n)}function ra(e){return na(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ia(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function oa(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,sa),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function sa(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Xs.prototype.toString=function(){var e=[],t=this.j;t&&e.push(oa(t,aa,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(oa(t,aa,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(oa(n,"/"==n.charAt(0)?ua:la,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",oa(n,ha)),e.join("")};var aa=/[#\/\?@]/g,la=/[#\?:]/g,ua=/[#\?]/g,ca=/[#\?@]/g,ha=/#/g;function fa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function da(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function pa(e,t){da(e),t=va(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ma(e,t){return da(e),t=va(e,t),e.g.has(t)}function ga(e,t,n){pa(e,t),0<n.length&&(e.i=null,e.g.set(va(e,t),Qi(n)),e.h+=n.length)}function va(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function ya(e){this.l=e||wa,e=ji.PerformanceNavigationTiming?0<(e=ji.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(ji.g&&ji.g.Ka&&ji.g.Ka()&&ji.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ri=fa.prototype).add=function(e,t){da(this),this.i=null,e=va(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ri.forEach=function(e,t){da(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ri.ta=function(){da(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Ri.Z=function(e){da(this);let t=[];if("string"==typeof e)ma(this,e)&&(t=t.concat(this.g.get(va(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ri.set=function(e,t){return da(this),this.i=null,ma(this,e=va(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ri.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Ri.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var wa=10;function ba(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ea(e){return e.h?1:e.g?e.g.size:0}function _a(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ka(e,t){e.g?e.g.add(t):e.h=t}function Ta(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Sa(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Qi(e.i)}ya.prototype.cancel=function(){if(this.i=Sa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Ia=class{stringify(e){return ji.JSON.stringify(e,void 0)}parse(e){return ji.JSON.parse(e,void 0)}};function Ca(){this.g=new Ia}function Oa(e,t,n){const r=n||"";try{Qs(e,(function(e,n){let i=e;Fi(e)&&(i=Ho(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Na(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function xa(e){this.l=e.fc||null,this.j=e.ob||!1}function Aa(e,t){$o.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Pa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hi(xa,Ss),xa.prototype.g=function(){return new Aa(this.l,this.j)},xa.prototype.i=function(e){return function(){return e}}({}),Hi(Aa,$o);var Pa=0;function Ra(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Da(e){e.readyState=4,e.l=null,e.j=null,e.A=null,La(e)}function La(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ri=Aa.prototype).open=function(e,t){if(this.readyState!=Pa)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,La(this)},Ri.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ji).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Ri.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Da(this)),this.readyState=Pa},Ri.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,La(this)),this.g&&(this.readyState=3,La(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==ji.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ra(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Ri.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Da(this):La(this),3==this.readyState&&Ra(this)}},Ri.Za=function(e){this.g&&(this.response=this.responseText=e,Da(this))},Ri.Ya=function(e){this.g&&(this.response=e,Da(this))},Ri.ka=function(){this.g&&Da(this)},Ri.setRequestHeader=function(e,t){this.v.append(e,t)},Ri.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ri.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Aa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ma=ji.JSON.parse;function ja(e){$o.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ua,this.L=this.M=!1}Hi(ja,$o);var Ua="",Fa=/^https?$/i,za=["POST","PUT"];function Ba(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Va(e),Wa(e)}function Va(e){e.F||(e.F=!0,Wo(e,"complete"),Wo(e,"error"))}function $a(e){if(e.h&&void 0!==Mi&&(!e.C[1]||4!=Ha(e)||2!=e.da()))if(e.v&&4==Ha(e))os(e.La,0,e);else if(Wo(e,"readystatechange"),4==Ha(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.I).match(Ys)[1]||null;!i&&ji.self&&ji.self.location&&(i=ji.self.location.protocol.slice(0,-1)),r=!Fa.test(i?i.toLowerCase():"")}n=r}if(n)Wo(e,"complete"),Wo(e,"success");else{e.m=6;try{var o=2<Ha(e)?e.g.statusText:""}catch(e){o=""}e.j=o+" ["+e.da()+"]",Va(e)}}finally{Wa(e)}}}function Wa(e,t){if(e.g){qa(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Wo(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function qa(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ji.clearTimeout(e.A),e.A=null)}function Ha(e){return e.g?e.g.readyState:0}function Ka(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Ua:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ga(e){let t="";return To(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Qa(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ga(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):na(e,t,n))}function Ya(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Xa(e){this.Ga=0,this.j=[],this.l=new fs,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ya("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ya("baseRetryDelayMs",5e3,e),this.hb=Ya("retryDelaySeedMs",1e4,e),this.eb=Ya("forwardChannelMaxRetries",2,e),this.xa=Ya("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ya(e&&e.concurrentRequestLimit),this.Ja=new Ca,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ja(e){if(el(e),3==e.H){var t=e.W++,n=Js(e.I);if(na(n,"SID",e.K),na(n,"RID",t),na(n,"TYPE","terminate"),rl(e,n),(t=new Rs(e,e.l,t)).L=2,t.v=ra(Js(n)),n=!1,ji.navigator&&ji.navigator.sendBeacon)try{n=ji.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!n&&ji.Image&&((new Image).src=t.v,n=!0),n||(t.g=ml(t.l,null),t.g.ha(t.v)),t.G=Date.now(),$s(t)}dl(e)}function Za(e){e.g&&(al(e),e.g.cancel(),e.g=null)}function el(e){Za(e),e.u&&(ji.clearTimeout(e.u),e.u=null),ul(e),e.i.cancel(),e.m&&("number"==typeof e.m&&ji.clearTimeout(e.m),e.m=null)}function tl(e){if(!ba(e.i)&&!e.m){e.m=!0;var t=e.Na;Jo||ts(),Zo||(Jo(),Zo=!0),es.add(t,e),e.C=0}}function nl(e,t){var n;n=t?t.m:e.W++;const r=Js(e.I);na(r,"SID",e.K),na(r,"RID",n),na(r,"AID",e.V),rl(e,r),e.o&&e.s&&Qa(r,e.o,e.s),n=new Rs(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=il(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),ka(e.i,n),Us(n,r,t)}function rl(e,t){e.na&&To(e.na,(function(e,n){na(t,n,e)})),e.h&&Qs({},(function(e,n){na(t,n,e)}))}function il(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Wi(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Oa(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function ol(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Jo||ts(),Zo||(Jo(),Zo=!0),es.add(t,e),e.A=0}}function sl(e){return!(e.g||e.u||3<=e.A||(e.ba++,e.u=_s(Wi(e.Ma,e),hl(e,e.A)),e.A++,0))}function al(e){null!=e.B&&(ji.clearTimeout(e.B),e.B=null)}function ll(e){e.g=new Rs(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Js(e.wa);na(t,"RID","rpc"),na(t,"SID",e.K),na(t,"AID",e.V),na(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&na(t,"TO",e.qa),na(t,"TYPE","xmlhttp"),rl(e,t),e.o&&e.s&&Qa(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=ra(Js(t)),n.s=null,n.S=!0,Fs(n,e)}function ul(e){null!=e.v&&(ji.clearTimeout(e.v),e.v=null)}function cl(e,t){var n=null;if(e.g==t){ul(e),al(e),e.g=null;var r=2}else{if(!_a(e.i,t))return;n=t.F,Ta(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Wo(r=gs(),new Es(r,n)),tl(e)}else ol(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Ea(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.j=t.F.concat(e.j),0):1==e.H||2==e.H||e.C>=(e.cb?0:e.eb)||(e.m=_s(Wi(e.Na,e,t),hl(e,e.C)),e.C++,0)))}(e,t)||2==r&&sl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:fl(e,5);break;case 4:fl(e,10);break;case 3:fl(e,6);break;default:fl(e,2)}}function hl(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function fl(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Wi(e.pb,e);n||(n=new Xs("//www.google.com/images/cleardot.gif"),ji.location&&"http"==ji.location.protocol||Zs(n,"https"),ra(n)),function(e,t){const n=new fs;if(ji.Image){const r=new Image;r.onload=qi(Na,n,r,"TestLoadImage: loaded",!0,t),r.onerror=qi(Na,n,r,"TestLoadImage: error",!1,t),r.onabort=qi(Na,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=qi(Na,n,r,"TestLoadImage: timeout",!1,t),ji.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else bs(2);e.H=0,e.h&&e.h.za(t),dl(e),el(e)}function dl(e){if(e.H=0,e.ma=[],e.h){const t=Sa(e.i);0==t.length&&0==e.j.length||(Yi(e.ma,t),Yi(e.ma,e.j),e.i.i.length=0,Qi(e.j),e.j.length=0),e.h.ya()}}function pl(e,t,n){var r=n instanceof Xs?Js(n):new Xs(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ea(r,r.m);else{var i=ji.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Xs(null);r&&Zs(o,r),t&&(o.g=t),i&&ea(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&na(r,n,t),na(r,"VER",e.ra),rl(e,r),r}function ml(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new ja(new xa({ob:!0})):new ja(e.va)).Oa(e.J),t}function gl(){}function vl(){if(ao&&!(10<=Number(vo)))throw Error("Environmental error: no available transport.")}function yl(e,t){$o.call(this),this.g=new Xa(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Zi(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Zi(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new El(this)}function wl(e){xs.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function bl(){As.call(this),this.status=1}function El(e){this.g=e}function _l(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function kl(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Tl(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(Ri=ja.prototype).Oa=function(e){this.M=e},Ri.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Os.g(),this.C=this.u?Is(this.u):Is(Os),this.g.onreadystatechange=Wi(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(e){return void Ba(this,e)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=ji.FormData&&e instanceof ji.FormData,!(0<=Gi(za,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of n)this.g.setRequestHeader(e,t);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{qa(this),0<this.B&&((this.L=function(e){return ao&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wi(this.ua,this)):this.A=os(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){Ba(this,e)}},Ri.ua=function(){void 0!==Mi&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wo(this,"timeout"),this.abort(8))},Ri.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Wo(this,"complete"),Wo(this,"abort"),Wa(this))},Ri.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wa(this,!0)),ja.$.N.call(this)},Ri.La=function(){this.s||(this.G||this.v||this.l?$a(this):this.kb())},Ri.kb=function(){$a(this)},Ri.isActive=function(){return!!this.g},Ri.da=function(){try{return 2<Ha(this)?this.g.status:-1}catch(e){return-1}},Ri.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},Ri.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ma(t)}},Ri.Ia=function(){return this.m},Ri.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ri=Xa.prototype).ra=8,Ri.H=1,Ri.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Rs(this,this.l,e);let o=this.s;if(this.U&&(o?(o=So(o),Co(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=il(this,i,t),na(n=Js(this.I),"RID",e),na(n,"CVER",22),this.F&&na(n,"X-HTTP-Session-Id",this.F),rl(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Ga(o)))+"&"+t:this.o&&Qa(n,this.o,o)),ka(this.i,i),this.bb&&na(n,"TYPE","init"),this.P?(na(n,"$req",t),na(n,"SID","null"),i.aa=!0,Us(i,n,null)):Us(i,n,t),this.H=2}}else 3==this.H&&(e?nl(this,e):0==this.j.length||ba(this.i)||nl(this))},Ri.Ma=function(){if(this.u=null,ll(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=_s(Wi(this.jb,this),e)}},Ri.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,bs(10),Za(this),ll(this))},Ri.ib=function(){null!=this.v&&(this.v=null,Za(this),sl(this),bs(19))},Ri.pb=function(e){e?(this.l.info("Successfully pinged google.com"),bs(2)):(this.l.info("Failed to ping google.com"),bs(1))},Ri.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ri=gl.prototype).Ba=function(){},Ri.Aa=function(){},Ri.za=function(){},Ri.ya=function(){},Ri.isActive=function(){return!0},Ri.Va=function(){},vl.prototype.g=function(e,t){return new yl(e,t)},Hi(yl,$o),yl.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;bs(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=pl(e,null,e.Y),tl(e)},yl.prototype.close=function(){Ja(this.g)},yl.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ho(e),e=n);t.j.push(new class{constructor(e,t){this.g=e,this.map=t}}(t.fb++,e)),3==t.H&&tl(t)},yl.prototype.N=function(){this.g.h=null,delete this.j,Ja(this.g),delete this.g,yl.$.N.call(this)},Hi(wl,xs),Hi(bl,As),Hi(El,gl),El.prototype.Ba=function(){Wo(this.g,"a")},El.prototype.Aa=function(e){Wo(this.g,new wl(e))},El.prototype.za=function(e){Wo(this.g,new bl)},El.prototype.ya=function(){Wo(this.g,"b")},Hi(_l,(function(){this.blockSize=-1})),_l.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},_l.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)kl(this,e,o),o+=this.blockSize;if("string"==typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){kl(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){kl(this,r),i=0;break}}this.h=i,this.i+=t},_l.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Sl={};function Il(e){return-128<=e&&128>e?function(e,t){var n=Sl;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=function(e){return new Tl([0|e],0>e?-1:0)}(e)}(e):new Tl([0|e],0>e?-1:0)}function Cl(e){if(isNaN(e)||!isFinite(e))return Nl;if(0>e)return Dl(Cl(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ol;return new Tl(t,0)}var Ol=4294967296,Nl=Il(0),xl=Il(1),Al=Il(16777216);function Pl(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Rl(e){return-1==e.h}function Dl(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Tl(n,~e.h).add(xl)}function Ll(e,t){return e.add(Dl(t))}function Ml(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function jl(e,t){this.g=e,this.h=t}function Ul(e,t){if(Pl(t))throw Error("division by zero");if(Pl(e))return new jl(Nl,Nl);if(Rl(e))return t=Ul(Dl(e),t),new jl(Dl(t.g),Dl(t.h));if(Rl(t))return t=Ul(e,Dl(t)),new jl(Dl(t.g),t.h);if(30<e.g.length){if(Rl(e)||Rl(t))throw Error("slowDivide_ only works with positive integers.");for(var n=xl,r=t;0>=r.X(e);)n=Fl(n),r=Fl(r);var i=zl(n,1),o=zl(r,1);for(r=zl(r,2),n=zl(n,2);!Pl(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=zl(r,1),n=zl(n,1)}return t=Ll(e,i.R(t)),new jl(i,t)}for(i=Nl;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Cl(n)).R(t);Rl(s)||0<s.X(e);)s=(o=Cl(n-=r)).R(t);Pl(o)&&(o=xl),i=i.add(o),e=Ll(e,s)}return new jl(i,e)}function Fl(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Tl(n,e.h)}function zl(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Tl(i,e.h)}(Ri=Tl.prototype).ea=function(){if(Rl(this))return-Dl(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ol+r)*t,t*=Ol}return e},Ri.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Pl(this))return"0";if(Rl(this))return"-"+Dl(this).toString(e);for(var t=Cl(Math.pow(e,6)),n=this,r="";;){var i=Ul(n,t).g,o=((0<(n=Ll(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Pl(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Ri.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Ri.X=function(e){return Rl(e=Ll(this,e))?-1:Pl(e)?0:1},Ri.abs=function(){return Rl(this)?Dl(this):this},Ri.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Tl(n,-2147483648&n[n.length-1]?-1:0)},Ri.R=function(e){if(Pl(this)||Pl(e))return Nl;if(Rl(this))return Rl(e)?Dl(this).R(Dl(e)):Dl(Dl(this).R(e));if(Rl(e))return Dl(this.R(Dl(e)));if(0>this.X(Al)&&0>e.X(Al))return Cl(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,Ml(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Ml(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Ml(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Ml(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Tl(n,0)},Ri.gb=function(e){return Ul(this,e).h},Ri.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Tl(n,this.h&e.h)},Ri.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Tl(n,this.h|e.h)},Ri.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Tl(n,this.h^e.h)},vl.prototype.createWebChannel=vl.prototype.g,yl.prototype.send=yl.prototype.u,yl.prototype.open=yl.prototype.m,yl.prototype.close=yl.prototype.close,ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,Ts.COMPLETE="complete",Cs.EventType=Ns,Ns.OPEN="a",Ns.CLOSE="b",Ns.ERROR="c",Ns.MESSAGE="d",$o.prototype.listen=$o.prototype.O,ja.prototype.listenOnce=ja.prototype.P,ja.prototype.getLastError=ja.prototype.Sa,ja.prototype.getLastErrorCode=ja.prototype.Ia,ja.prototype.getStatus=ja.prototype.da,ja.prototype.getResponseJson=ja.prototype.Wa,ja.prototype.getResponseText=ja.prototype.ja,ja.prototype.send=ja.prototype.ha,ja.prototype.setWithCredentials=ja.prototype.Oa,_l.prototype.digest=_l.prototype.l,_l.prototype.reset=_l.prototype.reset,_l.prototype.update=_l.prototype.j,Tl.prototype.add=Tl.prototype.add,Tl.prototype.multiply=Tl.prototype.R,Tl.prototype.modulo=Tl.prototype.gb,Tl.prototype.compare=Tl.prototype.X,Tl.prototype.toNumber=Tl.prototype.ea,Tl.prototype.toString=Tl.prototype.toString,Tl.prototype.getBits=Tl.prototype.D,Tl.fromNumber=Cl,Tl.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Dl(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Cl(Math.pow(n,8)),i=Nl,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=Cl(Math.pow(n,s)),i=i.R(s).add(Cl(a))):i=(i=i.R(r)).add(Cl(a))}return i};var Bl=Li.createWebChannelTransport=function(){return new vl},Vl=Li.getStatEventTarget=function(){return gs()},$l=Li.ErrorCode=ks,Wl=Li.EventType=Ts,ql=Li.Event=ps,Hl=Li.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Kl=Li.FetchXmlHttpFactory=xa,Gl=Li.WebChannel=Cs,Ql=Li.XhrIo=ja,Yl=Li.Md5=_l,Xl=Li.Integer=Tl;const Jl="@firebase/firestore";class Zl{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zl.UNAUTHENTICATED=new Zl(null),Zl.GOOGLE_CREDENTIALS=new Zl("google-credentials-uid"),Zl.FIRST_PARTY=new Zl("first-party-uid"),Zl.MOCK_USER=new Zl("mock-user");let eu="9.23.0";const tu=new Fe("@firebase/firestore");function nu(){return tu.logLevel}function ru(e,...t){if(tu.logLevel<=Re.DEBUG){const n=t.map(su);tu.debug(`Firestore (${eu}): ${e}`,...n)}}function iu(e,...t){if(tu.logLevel<=Re.ERROR){const n=t.map(su);tu.error(`Firestore (${eu}): ${e}`,...n)}}function ou(e,...t){if(tu.logLevel<=Re.WARN){const n=t.map(su);tu.warn(`Firestore (${eu}): ${e}`,...n)}}function su(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function au(e="Unexpected state"){const t=`FIRESTORE (${eu}) INTERNAL ASSERTION FAILED: `+e;throw iu(t),new Error(t)}function lu(e,t){e||au()}function uu(e,t){return e}const cu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class hu extends ve{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class du{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Zl.UNAUTHENTICATED)))}shutdown(){}}class mu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class gu{constructor(e){this.t=e,this.currentUser=Zl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new fu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new fu,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{ru("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(ru("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new fu)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ru("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(lu("string"==typeof t.accessToken),new du(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return lu(null===e||"string"==typeof e),new Zl(e)}}class vu{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Zl.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class yu{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new vu(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Zl.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&ru("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.T;return this.T=e.token,ru("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ru("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):ru("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(lu("string"==typeof e.token),this.T=e.token,new wu(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Eu(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}class _u{static A(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Eu(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function ku(e,t){return e<t?-1:e>t?1:0}function Tu(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Su{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new hu(cu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new hu(cu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new hu(cu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new hu(cu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Su.fromMillis(Date.now())}static fromDate(e){return Su.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Su(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ku(this.nanoseconds,e.nanoseconds):ku(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Iu{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Iu(e)}static min(){return new Iu(new Su(0,0))}static max(){return new Iu(new Su(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Cu{constructor(e,t,n){void 0===t?t=0:t>e.length&&au(),void 0===n?n=e.length-t:n>e.length-t&&au(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Cu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cu?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ou extends Cu{construct(e,t,n){return new Ou(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new hu(cu.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new Ou(t)}static emptyPath(){return new Ou([])}}const Nu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xu extends Cu{construct(e,t,n){return new xu(e,t,n)}static isValidIdentifier(e){return Nu.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xu.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xu(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new hu(cu.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new hu(cu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new hu(cu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new hu(cu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xu(t)}static emptyPath(){return new xu([])}}class Au{constructor(e){this.path=e}static fromPath(e){return new Au(Ou.fromString(e))}static fromName(e){return new Au(Ou.fromString(e).popFirst(5))}static empty(){return new Au(Ou.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ou.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ou.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Au(new Ou(e.slice()))}}function Pu(e){return new Ru(e.readTime,e.key,-1)}class Ru{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ru(Iu.min(),Au.empty(),-1)}static max(){return new Ru(Iu.max(),Au.empty(),-1)}}function Du(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Au.comparator(e.documentKey,t.documentKey),0!==n?n:ku(e.largestBatchId,t.largestBatchId))}const Lu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ju(e){if(e.code!==cu.FAILED_PRECONDITION||e.message!==Lu)throw e;ru("LocalStore","Unexpectedly lost primary lease")}class Uu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&au(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Uu(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Uu?t:Uu.resolve(t)}catch(e){return Uu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Uu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Uu.reject(t)}static resolve(e){return new Uu(((t,n)=>{t(e)}))}static reject(e){return new Uu(((t,n)=>{n(e)}))}static waitFor(e){return new Uu(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Uu.resolve(!1);for(const n of e)t=t.next((e=>e?Uu.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Uu(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Uu(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Fu(e){return"IndexedDbTransactionError"===e.name}class zu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Bu(e){return null==e}function Vu(e){return 0===e&&1/e==-1/0}zu.ct=-1;function $u(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Wu(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Hu{constructor(e,t){this.comparator=e,this.root=t||Gu.EMPTY}insert(e,t){return new Hu(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gu.BLACK,null,null))}remove(e){return new Hu(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gu.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gu{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Gu.RED,this.left=null!=r?r:Gu.EMPTY,this.right=null!=i?i:Gu.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Gu(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Gu.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Gu.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw au();if(this.right.isRed())throw au();const e=this.left.check();if(e!==this.right.check())throw au();return e+(this.isRed()?0:1)}}Gu.EMPTY=null,Gu.RED=!0,Gu.BLACK=!1,Gu.EMPTY=new class{constructor(){this.size=0}get key(){throw au()}get value(){throw au()}get color(){throw au()}get left(){throw au()}get right(){throw au()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Gu(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qu{constructor(e){this.comparator=e,this.data=new Hu(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yu(this.data.getIterator())}getIteratorFrom(e){return new Yu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Qu))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Qu(this.comparator);return t.data=e,t}}class Yu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xu{constructor(e){this.fields=e,e.sort(xu.comparator)}static empty(){return new Xu([])}unionWith(e){let t=new Qu(xu.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new Xu(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tu(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Ju extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zu{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ju("Invalid base64 string: "+e):e}}(e);return new Zu(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Zu(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ku(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zu.EMPTY_BYTE_STRING=new Zu("");const ec=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tc(e){if(lu(!!e),"string"==typeof e){let t=0;const n=ec.exec(e);if(lu(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:nc(e.seconds),nanos:nc(e.nanos)}}function nc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function rc(e){return"string"==typeof e?Zu.fromBase64String(e):Zu.fromUint8Array(e)}function ic(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function oc(e){const t=e.mapValue.fields.__previous_value__;return ic(t)?oc(t):t}function sc(e){const t=tc(e.mapValue.fields.__local_write_time__.timestampValue);return new Su(t.seconds,t.nanos)}class ac{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class lc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new lc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof lc&&e.projectId===this.projectId&&e.database===this.database}}const uc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function cc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ic(e)?4:kc(e)?9007199254740991:10:au()}function hc(e,t){if(e===t)return!0;const n=cc(e);if(n!==cc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return sc(e).isEqual(sc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=tc(e.timestampValue),r=tc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return rc(e.bytesValue).isEqual(rc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return nc(e.geoPointValue.latitude)===nc(t.geoPointValue.latitude)&&nc(e.geoPointValue.longitude)===nc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return nc(e.integerValue)===nc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=nc(e.doubleValue),r=nc(t.doubleValue);return n===r?Vu(n)===Vu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Tu(e.arrayValue.values||[],t.arrayValue.values||[],hc);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if($u(n)!==$u(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!hc(n[e],r[e])))return!1;return!0}(e,t);default:return au()}}function fc(e,t){return void 0!==(e.values||[]).find((e=>hc(e,t)))}function dc(e,t){if(e===t)return 0;const n=cc(e),r=cc(t);if(n!==r)return ku(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ku(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=nc(e.integerValue||e.doubleValue),r=nc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return pc(e.timestampValue,t.timestampValue);case 4:return pc(sc(e),sc(t));case 5:return ku(e.stringValue,t.stringValue);case 6:return function(e,t){const n=rc(e),r=rc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=ku(n[e],r[e]);if(0!==t)return t}return ku(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ku(nc(e.latitude),nc(t.latitude));return 0!==n?n:ku(nc(e.longitude),nc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=dc(n[e],r[e]);if(t)return t}return ku(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===uc.mapValue&&t===uc.mapValue)return 0;if(e===uc.mapValue)return 1;if(t===uc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let e=0;e<r.length&&e<o.length;++e){const t=ku(r[e],o[e]);if(0!==t)return t;const s=dc(n[r[e]],i[o[e]]);if(0!==s)return s}return ku(r.length,o.length)}(e.mapValue,t.mapValue);default:throw au()}}function pc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ku(e,t);const n=tc(e),r=tc(t),i=ku(n.seconds,r.seconds);return 0!==i?i:ku(n.nanos,r.nanos)}function mc(e){return gc(e)}function gc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=tc(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?rc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Au.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=gc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${gc(e.fields[i])}`;return n+"}"}(e.mapValue):au();var t,n}function vc(e){return!!e&&"integerValue"in e}function yc(e){return!!e&&"arrayValue"in e}function wc(e){return!!e&&"nullValue"in e}function bc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ec(e){return!!e&&"mapValue"in e}function _c(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Wu(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=_c(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=_c(e.arrayValue.values[n]);return t}return Object.assign({},e)}function kc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Tc{constructor(e){this.value=e}static empty(){return new Tc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ec(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_c(t)}setAll(e){let t=xu.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=_c(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Ec(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ec(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Wu(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new Tc(_c(this.value))}}function Sc(e){const t=[];return Wu(e.fields,((e,n)=>{const r=new xu([e]);if(Ec(n)){const e=Sc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Xu(t)}class Ic{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Ic(e,0,Iu.min(),Iu.min(),Iu.min(),Tc.empty(),0)}static newFoundDocument(e,t,n,r){return new Ic(e,1,t,Iu.min(),n,r,0)}static newNoDocument(e,t){return new Ic(e,2,t,Iu.min(),Iu.min(),Tc.empty(),0)}static newUnknownDocument(e,t){return new Ic(e,3,t,Iu.min(),Iu.min(),Tc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Iu.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Iu.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ic&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ic(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cc{constructor(e,t){this.position=e,this.inclusive=t}}function Oc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Au.comparator(Au.fromName(s.referenceValue),n.key):dc(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Nc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!hc(e.position[n],t.position[n]))return!1;return!0}class xc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ac(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Pc{}class Rc extends Pc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new zc(e,t,n):"array-contains"===t?new Wc(e,n):"in"===t?new qc(e,n):"not-in"===t?new Hc(e,n):"array-contains-any"===t?new Kc(e,n):new Rc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Bc(e,n):new Vc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(dc(t,this.value)):null!==t&&cc(this.value)===cc(t)&&this.matchesComparison(dc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return au()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Dc extends Pc{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Dc(e,t)}matches(e){return Lc(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Lc(e){return"and"===e.op}function Mc(e){return function(e){for(const t of e.filters)if(t instanceof Dc)return!1;return!0}(e)&&Lc(e)}function jc(e){if(e instanceof Rc)return e.field.canonicalString()+e.op.toString()+mc(e.value);if(Mc(e))return e.filters.map((e=>jc(e))).join(",");{const t=e.filters.map((e=>jc(e))).join(",");return`${e.op}(${t})`}}function Uc(e,t){return e instanceof Rc?function(e,t){return t instanceof Rc&&e.op===t.op&&e.field.isEqual(t.field)&&hc(e.value,t.value)}(e,t):e instanceof Dc?function(e,t){return t instanceof Dc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Uc(n,t.filters[r])),!0)}(e,t):void au()}function Fc(e){return e instanceof Rc?function(e){return`${e.field.canonicalString()} ${e.op} ${mc(e.value)}`}(e):e instanceof Dc?function(e){return e.op.toString()+" {"+e.getFilters().map(Fc).join(" ,")+"}"}(e):"Filter"}class zc extends Rc{constructor(e,t,n){super(e,t,n),this.key=Au.fromName(n.referenceValue)}matches(e){const t=Au.comparator(e.key,this.key);return this.matchesComparison(t)}}class Bc extends Rc{constructor(e,t){super(e,"in",t),this.keys=$c(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Vc extends Rc{constructor(e,t){super(e,"not-in",t),this.keys=$c(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function $c(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Au.fromName(e.referenceValue)))}class Wc extends Rc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yc(t)&&fc(t.arrayValue,this.value)}}class qc extends Rc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&fc(this.value.arrayValue,t)}}class Hc extends Rc{constructor(e,t){super(e,"not-in",t)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!fc(this.value.arrayValue,t)}}class Kc extends Rc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>fc(this.value.arrayValue,e)))}}class Gc{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.dt=null}}function Qc(e,t=null,n=[],r=[],i=null,o=null,s=null){return new Gc(e,t,n,r,i,o,s)}function Yc(e){const t=uu(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>jc(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Bu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>mc(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>mc(e))).join(",")),t.dt=e}return t.dt}function Xc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ac(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Uc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Nc(e.startAt,t.startAt)&&Nc(e.endAt,t.endAt)}function Jc(e){return Au.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Zc{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function eh(e){return new Zc(e)}function th(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function nh(e){const t=uu(e);if(null===t.wt){t.wt=[];const e=function(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}(t),n=function(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new xc(e)),t.wt.push(new xc(xu.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new xc(xu.keyField(),e))}}}return t.wt}function rh(e){const t=uu(e);if(!t._t)if("F"===t.limitType)t._t=Qc(t.path,t.collectionGroup,nh(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of nh(t)){const t="desc"===n.dir?"asc":"desc";e.push(new xc(n.field,t))}const n=t.endAt?new Cc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cc(t.startAt.position,t.startAt.inclusive):null;t._t=Qc(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function ih(e,t,n){return new Zc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function oh(e,t){return Xc(rh(e),rh(t))&&e.limitType===t.limitType}function sh(e){return`${Yc(rh(e))}|lt:${e.limitType}`}function ah(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Fc(e))).join(", ")}]`),Bu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>mc(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>mc(e))).join(",")),`Target(${t})`}(rh(e))}; limitType=${e.limitType})`}function lh(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Au.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of nh(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Oc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,nh(e),t)||e.endAt&&!function(e,t,n){const r=Oc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,nh(e),t))}(e,t)}function uh(e){return(t,n)=>{let r=!1;for(const i of nh(e)){const e=ch(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ch(e,t,n){const r=e.field.isKeyField()?Au.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?dc(r,i):au()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return au()}}class hh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Wu(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return qu(this.inner)}size(){return this.innerSize}}const fh=new Hu(Au.comparator);function dh(){return fh}const ph=new Hu(Au.comparator);function mh(...e){let t=ph;for(const n of e)t=t.insert(n.key,n);return t}function gh(e){let t=ph;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function vh(){return wh()}function yh(){return wh()}function wh(){return new hh((e=>e.toString()),((e,t)=>e.isEqual(t)))}const bh=new Hu(Au.comparator),Eh=new Qu(Au.comparator);function _h(...e){let t=Eh;for(const n of e)t=t.add(n);return t}const kh=new Qu(ku);function Th(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vu(t)?"-0":t}}function Sh(e){return{integerValue:""+e}}function Ih(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!Vu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?Sh(t):Th(e,t)}class Ch{constructor(){this._=void 0}}function Oh(e,t,n){return e instanceof Ah?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ic(t)&&(t=oc(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ph?Rh(e,t):e instanceof Dh?Lh(e,t):function(e,t){const n=xh(e,t),r=jh(n)+jh(e.gt);return vc(n)&&vc(e.gt)?Sh(r):Th(e.serializer,r)}(e,t)}function Nh(e,t,n){return e instanceof Ph?Rh(e,t):e instanceof Dh?Lh(e,t):n}function xh(e,t){return e instanceof Mh?vc(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Ah extends Ch{}class Ph extends Ch{constructor(e){super(),this.elements=e}}function Rh(e,t){const n=Uh(t);for(const t of e.elements)n.some((e=>hc(e,t)))||n.push(t);return{arrayValue:{values:n}}}class Dh extends Ch{constructor(e){super(),this.elements=e}}function Lh(e,t){let n=Uh(t);for(const t of e.elements)n=n.filter((e=>!hc(e,t)));return{arrayValue:{values:n}}}class Mh extends Ch{constructor(e,t){super(),this.serializer=e,this.gt=t}}function jh(e){return nc(e.integerValue||e.doubleValue)}function Uh(e){return yc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Fh{constructor(e,t){this.field=e,this.transform=t}}class zh{constructor(e,t){this.version=e,this.transformResults=t}}class Bh{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bh}static exists(e){return new Bh(void 0,e)}static updateTime(e){return new Bh(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class $h{}function Wh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ef(e.key,Bh.none()):new Qh(e.key,e.data,Bh.none());{const n=e.data,r=Tc.empty();let i=new Qu(xu.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Yh(e.key,r,new Xu(i.toArray()),Bh.none())}}function qh(e,t,n){e instanceof Qh?function(e,t,n){const r=e.value.clone(),i=Jh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Yh?function(e,t,n){if(!Vh(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Jh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Xh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Hh(e,t,n,r){return e instanceof Qh?function(e,t,n,r){if(!Vh(e.precondition,t))return n;const i=e.value.clone(),o=Zh(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Yh?function(e,t,n,r){if(!Vh(e.precondition,t))return n;const i=Zh(e.fieldTransforms,r,t),o=t.data;return o.setAll(Xh(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Vh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Kh(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=xh(r.transform,e||null);null!=i&&(null===n&&(n=Tc.empty()),n.set(r.field,i))}return n||null}function Gh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Tu(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ph&&t instanceof Ph||e instanceof Dh&&t instanceof Dh?Tu(e.elements,t.elements,hc):e instanceof Mh&&t instanceof Mh?hc(e.gt,t.gt):e instanceof Ah&&t instanceof Ah}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Qh extends $h{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Yh extends $h{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Xh(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Jh(e,t,n){const r=new Map;lu(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Nh(s,a,n[i]))}return r}function Zh(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Oh(e,o,t))}return r}class ef extends $h{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tf extends $h{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&qh(r,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Hh(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Hh(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=yh();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Wh(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Iu.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),_h())}isEqual(e){return this.batchId===e.batchId&&Tu(this.mutations,e.mutations,((e,t)=>Gh(e,t)))&&Tu(this.baseMutations,e.baseMutations,((e,t)=>Gh(e,t)))}}class rf{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){lu(e.mutations.length===n.length);let r=bh;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new rf(e,t,n,r)}}class of{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class sf{constructor(e,t){this.count=e,this.unchangedNames=t}}var af,lf;function uf(e){if(void 0===e)return iu("GRPC error has no .code"),cu.UNKNOWN;switch(e){case af.OK:return cu.OK;case af.CANCELLED:return cu.CANCELLED;case af.UNKNOWN:return cu.UNKNOWN;case af.DEADLINE_EXCEEDED:return cu.DEADLINE_EXCEEDED;case af.RESOURCE_EXHAUSTED:return cu.RESOURCE_EXHAUSTED;case af.INTERNAL:return cu.INTERNAL;case af.UNAVAILABLE:return cu.UNAVAILABLE;case af.UNAUTHENTICATED:return cu.UNAUTHENTICATED;case af.INVALID_ARGUMENT:return cu.INVALID_ARGUMENT;case af.NOT_FOUND:return cu.NOT_FOUND;case af.ALREADY_EXISTS:return cu.ALREADY_EXISTS;case af.PERMISSION_DENIED:return cu.PERMISSION_DENIED;case af.FAILED_PRECONDITION:return cu.FAILED_PRECONDITION;case af.ABORTED:return cu.ABORTED;case af.OUT_OF_RANGE:return cu.OUT_OF_RANGE;case af.UNIMPLEMENTED:return cu.UNIMPLEMENTED;case af.DATA_LOSS:return cu.DATA_LOSS;default:return au()}}(lf=af||(af={}))[lf.OK=0]="OK",lf[lf.CANCELLED=1]="CANCELLED",lf[lf.UNKNOWN=2]="UNKNOWN",lf[lf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lf[lf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lf[lf.NOT_FOUND=5]="NOT_FOUND",lf[lf.ALREADY_EXISTS=6]="ALREADY_EXISTS",lf[lf.PERMISSION_DENIED=7]="PERMISSION_DENIED",lf[lf.UNAUTHENTICATED=16]="UNAUTHENTICATED",lf[lf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lf[lf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lf[lf.ABORTED=10]="ABORTED",lf[lf.OUT_OF_RANGE=11]="OUT_OF_RANGE",lf[lf.UNIMPLEMENTED=12]="UNIMPLEMENTED",lf[lf.INTERNAL=13]="INTERNAL",lf[lf.UNAVAILABLE=14]="UNAVAILABLE",lf[lf.DATA_LOSS=15]="DATA_LOSS";class cf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return hf}static getOrCreateInstance(){return null===hf&&(hf=new cf),hf}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let hf=null;const ff=new Xl([4294967295,4294967295],0);function df(e){const t=(new TextEncoder).encode(e),n=new Yl;return n.update(t),new Uint8Array(n.digest())}function pf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Xl([n,r],0),new Xl([i,o],0)]}class mf{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new gf(`Invalid padding: ${t}`);if(n<0)throw new gf(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new gf(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new gf(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Xl.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(Xl.fromNumber(n)));return 1===r.compare(ff)&&(r=new Xl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=df(e),[n,r]=pf(t);for(let e=0;e<this.hashCount;e++){const t=this.Et(n,r,e);if(!this.At(t))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new mf(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.It)return;const t=df(e),[n,r]=pf(t);for(let e=0;e<this.hashCount;e++){const t=this.Et(n,r,e);this.Rt(t)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class gf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vf{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,yf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new vf(Iu.min(),r,new Hu(ku),dh(),_h())}}class yf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new yf(n,t,_h(),_h(),_h())}}class wf{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class bf{constructor(e,t){this.targetId=e,this.Vt=t}}class Ef{constructor(e,t,n=Zu.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class _f{constructor(){this.St=0,this.Dt=Sf(),this.Ct=Zu.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=_h(),t=_h(),n=_h();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:au()}})),new yf(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Sf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class kf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=dh(),this.zt=Tf(),this.Wt=new Hu(ku)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:au()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const o=i.target;if(Jc(o))if(0===r){const e=new Au(o.path);this.Yt(n,e,Ic.newNoDocument(e,Iu.min()))}else lu(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=cf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,o,s,a,l;const u={localCacheCount:t,existenceFilterCount:n.count},c=n.unchangedNames;return c&&(u.bloomFilter={applied:0===e,hashCount:null!==(r=null==c?void 0:c.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(s=null===(o=null===(i=null==c?void 0:c.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==s?s:0,padding:null!==(l=null===(a=null==c?void 0:c.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),u}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:s=0}=n;let a,l;try{a=rc(i).toUint8Array()}catch(e){if(e instanceof Ju)return ou("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new mf(a,o,s)}catch(e){return ou(e instanceof gf?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.vt(o)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&Jc(i.target)){const t=new Au(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Ic.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=_h();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new vf(e,t,this.Wt,this.jt,n);return this.jt=dh(),this.zt=Tf(),this.Wt=new Hu(ku),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new _f,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Qu(ku),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||ru("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new _f),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Tf(){return new Hu(Au.comparator)}function Sf(){return new Hu(Au.comparator)}const If={asc:"ASCENDING",desc:"DESCENDING"},Cf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Of={and:"AND",or:"OR"};class Nf{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xf(e,t){return e.useProto3Json||Bu(t)?t:{value:t}}function Af(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Pf(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Rf(e,t){return Af(e,t.toTimestamp())}function Df(e){return lu(!!e),Iu.fromTimestamp(function(e){const t=tc(e);return new Su(t.seconds,t.nanos)}(e))}function Lf(e,t){return function(e){return new Ou(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Mf(e){const t=Ou.fromString(e);return lu(ed(t)),t}function jf(e,t){return Lf(e.databaseId,t.path)}function Uf(e,t){const n=Mf(t);if(n.get(1)!==e.databaseId.projectId)throw new hu(cu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new hu(cu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Au(Bf(n))}function Ff(e,t){return Lf(e.databaseId,t)}function zf(e){return new Ou(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Bf(e){return lu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Vf(e,t,n){return{name:jf(e,t),fields:n.value.mapValue.fields}}function $f(e,t){return{documents:[Ff(e,t.path)]}}function Wf(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ff(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ff(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Jf(Dc.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Yf(e.field),direction:Kf(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=xf(e,t.limit);var a;return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function qf(e){let t=function(e){const t=Mf(e);return 4===t.length?Ou.emptyPath():Bf(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){lu(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Hf(e);return t instanceof Dc&&Mc(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((e=>function(e){return new xc(Xf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Bu(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Cc(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Cc(n,t)}(n.endAt)),function(e,t,n,r,i,o,s,a){return new Zc(e,t,n,r,i,o,s,a)}(t,i,s,o,a,"F",l,u)}function Hf(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Xf(e.unaryFilter.field);return Rc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Xf(e.unaryFilter.field);return Rc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Xf(e.unaryFilter.field);return Rc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Xf(e.unaryFilter.field);return Rc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return au()}}(e):void 0!==e.fieldFilter?function(e){return Rc.create(Xf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return au()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Dc.create(e.compositeFilter.filters.map((e=>Hf(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return au()}}(e.compositeFilter.op))}(e):au()}function Kf(e){return If[e]}function Gf(e){return Cf[e]}function Qf(e){return Of[e]}function Yf(e){return{fieldPath:e.canonicalString()}}function Xf(e){return xu.fromServerFormat(e.fieldPath)}function Jf(e){return e instanceof Rc?function(e){if("=="===e.op){if(bc(e.value))return{unaryFilter:{field:Yf(e.field),op:"IS_NAN"}};if(wc(e.value))return{unaryFilter:{field:Yf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bc(e.value))return{unaryFilter:{field:Yf(e.field),op:"IS_NOT_NAN"}};if(wc(e.value))return{unaryFilter:{field:Yf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yf(e.field),op:Gf(e.op),value:e.value}}}(e):e instanceof Dc?function(e){const t=e.getFilters().map((e=>Jf(e)));return 1===t.length?t[0]:{compositeFilter:{op:Qf(e.op),filters:t}}}(e):au()}function Zf(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function ed(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class td{constructor(e,t,n,r,i=Iu.min(),o=Iu.min(),s=Zu.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new td(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new td(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new td(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new td(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nd{constructor(e){this.fe=e}}function rd(e){const t=qf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ih(t,t.limit,"L"):t}class id{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(nc(e.integerValue));else if("doubleValue"in e){const n=nc(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Vu(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(rc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?kc(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):au()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const e of Object.keys(n))this.Te(e,t),this.me(n[e],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const e of n)this.me(e,t)}ve(e,t){this.ye(t,37),Au.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}id.Ve=new id;class od{constructor(){this.rn=new sd}addToCollectionParentIndex(e,t){return this.rn.add(t),Uu.resolve()}getCollectionParents(e,t){return Uu.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Uu.resolve()}deleteFieldIndex(e,t){return Uu.resolve()}getDocumentsMatchingTarget(e,t){return Uu.resolve(null)}getIndexType(e,t){return Uu.resolve(0)}getFieldIndexes(e,t){return Uu.resolve([])}getNextCollectionGroupToUpdate(e){return Uu.resolve(null)}getMinOffset(e,t){return Uu.resolve(Ru.min())}getMinOffsetFromCollectionGroup(e,t){return Uu.resolve(Ru.min())}updateCollectionGroup(e,t,n){return Uu.resolve()}updateIndexEntries(e,t){return Uu.resolve()}}class sd{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Qu(Ou.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Qu(Ou.comparator)).toArray()}}new Uint8Array(0);class ad{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ad(e,ad.DEFAULT_COLLECTION_PERCENTILE,ad.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ad.DEFAULT_COLLECTION_PERCENTILE=10,ad.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ad.DEFAULT=new ad(41943040,ad.DEFAULT_COLLECTION_PERCENTILE,ad.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ad.DISABLED=new ad(-1,0,0);class ld{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ld(0)}static Mn(){return new ld(-1)}}class ud{constructor(){this.changes=new hh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ic.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Uu.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cd{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class hd{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Hh(n.mutation,e,Xu.empty(),Su.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,_h()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=_h()){const r=vh();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=mh();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=vh();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,_h())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=dh();const o=wh(),s=wh();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Yh)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Hh(s.mutation,t,s.mutation.getFieldMask(),Su.now())):o.set(t.key,Xu.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new cd(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=wh();let r=new Hu(((e,t)=>e-t)),i=_h();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Xu.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||_h()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,u=yh();l.forEach((e=>{if(!i.has(e)){const r=Wh(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,u))}return Uu.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Au.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):function(e){return null!==e.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Uu.resolve(vh());let s=-1,a=i;return o.next((t=>Uu.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Uu.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,_h()))).next((e=>({batchId:s,changes:gh(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Au(t)).next((e=>{let t=mh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=mh();return this.indexManager.getCollectionParents(e,r).next((o=>Uu.forEach(o,(o=>{const s=function(e,t){return new Zc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,s,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ic.newInvalidDocument(r)))}));let n=mh();return e.forEach(((e,i)=>{const o=r.get(e);void 0!==o&&Hh(o.mutation,i,Xu.empty(),Su.now()),lh(t,i)&&(n=n.insert(e,i))})),n}))}}class fd{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Uu.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Df(n.createTime)}),Uu.resolve()}getNamedQuery(e,t){return Uu.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:rd(e.bundledQuery),readTime:Df(e.readTime)}}(t)),Uu.resolve()}}class dd{constructor(){this.overlays=new Hu(Au.comparator),this.ls=new Map}getOverlay(e,t){return Uu.resolve(this.overlays.get(t))}getOverlays(e,t){const n=vh();return Uu.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),Uu.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Uu.resolve()}getOverlaysForCollection(e,t,n){const r=vh(),i=t.length+1,o=new Au(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Uu.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Hu(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=vh(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=vh(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Uu.resolve(s)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new of(t,n));let i=this.ls.get(t);void 0===i&&(i=_h(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class pd{constructor(){this.fs=new Qu(md.ds),this.ws=new Qu(md._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new md(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new md(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new Au(new Ou([])),n=new md(t,e),r=new md(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Au(new Ou([])),n=new md(t,e),r=new md(t,e+1);let i=_h();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new md(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class md{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Au.comparator(e.key,t.key)||ku(e.As,t.As)}static _s(e,t){return ku(e.As,t.As)||Au.comparator(e.key,t.key)}}class gd{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Qu(md.ds)}checkEmpty(e){return Uu.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new nf(i,t,n,r);this.mutationQueue.push(o);for(const t of r)this.Rs=this.Rs.add(new md(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return Uu.resolve(o)}lookupMutationBatch(e,t){return Uu.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Uu.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Uu.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Uu.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new md(t,0),r=new md(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),Uu.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Qu(ku);return t.forEach((e=>{const t=new md(e,0),r=new md(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),Uu.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Au.isDocumentKey(i)||(i=i.child(""));const o=new md(new Au(i),0);let s=new Qu(ku);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.As)),!0)}),o),Uu.resolve(this.Vs(s))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){lu(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Uu.forEach(t.mutations,(r=>{const i=new md(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new md(t,0),r=this.Rs.firstAfterOrEqual(n);return Uu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Uu.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class vd{constructor(e){this.Ds=e,this.docs=new Hu(Au.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Uu.resolve(n?n.document.mutableCopy():Ic.newInvalidDocument(t))}getEntries(e,t){let n=dh();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ic.newInvalidDocument(e))})),Uu.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=dh();const o=t.path,s=new Au(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Du(Pu(s),n)<=0||(r.has(s.key)||lh(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Uu.resolve(i)}getAllFromCollectionGroup(e,t,n,r){au()}Cs(e,t){return Uu.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new yd(this)}getSize(e){return Uu.resolve(this.size)}}class yd extends ud{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),Uu.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class wd{constructor(e){this.persistence=e,this.xs=new hh((e=>Yc(e)),Xc),this.lastRemoteSnapshotVersion=Iu.min(),this.highestTargetId=0,this.Ns=0,this.ks=new pd,this.targetCount=0,this.Ms=ld.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Uu.resolve()}getLastRemoteSnapshotVersion(e){return Uu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Uu.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Uu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Uu.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new ld(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Uu.resolve()}updateTargetData(e,t){return this.Fn(t),Uu.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Uu.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Uu.waitFor(i).next((()=>r))}getTargetCount(e){return Uu.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Uu.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Uu.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Uu.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Uu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Uu.resolve(n)}containsKey(e,t){return Uu.resolve(this.ks.containsKey(t))}}class bd{constructor(e,t){this.$s={},this.overlays={},this.Os=new zu(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new wd(this),this.indexManager=new od,this.remoteDocumentCache=function(e){return new vd(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new nd(t),this.qs=new fd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dd,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new gd(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){ru("MemoryPersistence","Starting transaction:",e);const r=new Ed(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return Uu.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Ed extends Mu{constructor(e){super(),this.currentSequenceNumber=e}}class _d{constructor(e){this.persistence=e,this.Qs=new pd,this.js=null}static zs(e){return new _d(e)}get Ws(){if(this.js)return this.js;throw au()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Uu.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Uu.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Uu.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Uu.forEach(this.Ws,(n=>{const r=Au.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,Iu.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Uu.or([()=>Uu.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class kd{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=_h(),r=_h();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new kd(e,t.fromCache,n,r)}}class Td{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(th(t))return Uu.resolve(null);let n=rh(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=ih(t,null,"F"),n=rh(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=_h(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ji(t,r);return this.zi(t,o,i,n.readTime)?this.Ki(e,ih(t,null,"F")):this.Wi(e,o,t,n)}))))})))))}Gi(e,t,n,r){return th(t)||r.isEqual(Iu.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const o=this.ji(t,i);return this.zi(t,o,n,r)?this.Qi(e,t):(nu()<=Re.DEBUG&&ru("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ah(t)),this.Wi(e,o,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Iu.fromTimestamp(1e9===r?new Su(n+1,0):new Su(n,r));return new Ru(i,Au.empty(),t)}(r,-1)))}))}ji(e,t){let n=new Qu(uh(e));return t.forEach(((t,r)=>{lh(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return nu()<=Re.DEBUG&&ru("QueryEngine","Using full collection scan to execute query:",ah(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ru.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Sd{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Hu(ku),this.Yi=new hh((e=>Yc(e)),Xc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hd(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}async function Id(e,t){const n=uu(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=_h();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({er:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Cd(e){const t=uu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function Od(e,t){const n=uu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}async function Nd(e,t,n){const r=uu(e),i=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Fu(e))throw e;ru("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function xd(e,t,n){const r=uu(e);let i=Iu.min(),o=_h();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=uu(e),i=r.Yi.get(n);return void 0!==i?Uu.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,rh(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Iu.min(),n?o:_h()))).next((e=>(function(e,t,n){let r=e.Xi.get(t)||Iu.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,ir:o})))))}class Ad{constructor(){this.activeTargetIds=kh}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pd{constructor(){this.Hr=new Ad,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Ad,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Rd{Yr(e){}shutdown(){}}class Dd{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ru("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ru("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ld=null;function Md(){return null===Ld?Ld=268435456+Math.round(2147483648*Math.random()):Ld++,"0x"+Ld.toString(16)}const jd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ud{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Fd="WebChannelConnection";class zd extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const o=Md(),s=this.To(e,t);ru("RestConnection",`Sending RPC '${e}' ${o}:`,s,n);const a={};return this.Eo(a,r,i),this.Ao(e,s,a,n).then((t=>(ru("RestConnection",`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw ou("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",s,"request:",n),t}))}vo(e,t,n,r,i,o){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+eu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=jd[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=Md();return new Promise(((o,s)=>{const a=new Ql;a.setWithCredentials(!0),a.listenOnce(Wl.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case $l.NO_ERROR:const t=a.getResponseJson();ru(Fd,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case $l.TIMEOUT:ru(Fd,`RPC '${e}' ${i} timed out`),s(new hu(cu.DEADLINE_EXCEEDED,"Request time out"));break;case $l.HTTP_ERROR:const n=a.getStatus();if(ru(Fd,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(cu).indexOf(t)>=0?t:cu.UNKNOWN}(t.status);s(new hu(e,t.message))}else s(new hu(cu.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new hu(cu.UNAVAILABLE,"Connection failed."));break;default:au()}}finally{ru(Fd,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);ru(Fd,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=Md(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Bl(),s=Vl(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new Kl({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");ru(Fd,`Creating RPC '${e}' stream ${r}: ${u}`,a);const c=o.createWebChannel(u,a);let h=!1,f=!1;const d=new Ud({ro:t=>{f?ru(Fd,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(ru(Fd,`Opening RPC '${e}' stream ${r} transport.`),c.open(),h=!0),ru(Fd,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},oo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,Gl.EventType.OPEN,(()=>{f||ru(Fd,`RPC '${e}' stream ${r} transport opened.`)})),p(c,Gl.EventType.CLOSE,(()=>{f||(f=!0,ru(Fd,`RPC '${e}' stream ${r} transport closed`),d.wo())})),p(c,Gl.EventType.ERROR,(t=>{f||(f=!0,ou(Fd,`RPC '${e}' stream ${r} transport errored:`,t),d.wo(new hu(cu.UNAVAILABLE,"The operation could not be completed")))})),p(c,Gl.EventType.MESSAGE,(t=>{var n;if(!f){const i=t.data[0];lu(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){ru(Fd,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=af[e];if(void 0!==t)return uf(t)}(t),i=s.message;void 0===n&&(n=cu.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),f=!0,d.wo(new hu(n,i)),c.close()}else ru(Fd,`RPC '${e}' stream ${r} received:`,i),d._o(i)}})),p(s,ql.STAT_EVENT,(t=>{t.stat===Hl.PROXY?ru(Fd,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Hl.NOPROXY&&ru(Fd,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{d.fo()}),0),d}}function Bd(){return"undefined"!=typeof document?document:null}function Vd(e){return new Nf(e,!0)}class $d{constructor(e,t,n=1e3,r=1.5,i=6e4){this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&ru("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Wd{constructor(e,t,n,r,i,o,s,a){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new $d(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===cu.RESOURCE_EXHAUSTED?(iu(t.toString()),iu("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===cu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Fo===t&&this.Zo(e,n)}),(t=>{e((()=>{const e=new hu(cu.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return ru("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(ru("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qd extends Wd{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:au()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(lu(void 0===t||"string"==typeof t),Zu.fromBase64String(t||"")):(lu(void 0===t||t instanceof Uint8Array),Zu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?cu.UNKNOWN:uf(e.code);return new hu(t,e.message||"")}(s);n=new Ef(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Uf(e,r.document.name),o=Df(r.document.updateTime),s=r.document.createTime?Df(r.document.createTime):Iu.min(),a=new Tc({mapValue:{fields:r.document.fields}}),l=Ic.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new wf(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Uf(e,r.document),o=r.readTime?Df(r.readTime):Iu.min(),s=Ic.newNoDocument(i,o),a=r.removedTargetIds||[];n=new wf([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Uf(e,r.document),o=r.removedTargetIds||[];n=new wf([],o,i,null)}else{if(!("filter"in t))return au();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new sf(r,i),s=e.targetId;n=new bf(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Iu.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Iu.min():t.readTime?Df(t.readTime):Iu.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=zf(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Jc(r)?{documents:$f(e,r)}:{query:Wf(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Pf(e,t.resumeToken);const r=xf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Iu.min())>0){n.readTime=Af(e,t.snapshotVersion.toTimestamp());const r=xf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return au()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=zf(this.serializer),t.removeTarget=e,this.Wo(t)}}class Hd extends Wd{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(lu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(lu(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Df(e.updateTime):Df(t);return n.isEqual(Iu.min())&&(n=Df(t)),new zh(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Df(e.commitTime);return this.listener.cu(n,t)}return lu(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=zf(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof Qh)n={update:Vf(e,t.key,t.value)};else if(t instanceof ef)n={delete:jf(e,t.key)};else if(t instanceof Yh)n={update:Vf(e,t.key,t.data),updateMask:Zf(t.fieldMask)};else{if(!(t instanceof tf))return au();n={verify:jf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ah)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ph)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Dh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Mh)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw au()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Rf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:au()}(e,t.precondition)),n}(this.serializer,e)))};this.Wo(t)}}class Kd extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new hu(cu.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.connection.Io(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===cu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new hu(cu.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.vo(e,t,n,i,o,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===cu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new hu(cu.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class Gd{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(iu(t),this.mu=!1):ru("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Qd{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{ip(this)&&(ru("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=uu(e);t.vu.add(4),await Xd(t),t.bu.set("Unknown"),t.vu.delete(4),await Yd(t)}(this))}))})),this.bu=new Gd(n,r)}}async function Yd(e){if(ip(e))for(const t of e.Ru)await t(!0)}async function Xd(e){for(const t of e.Ru)await t(!1)}function Jd(e,t){const n=uu(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),rp(n)?np(n):Ep(n).Ko()&&ep(n,t))}function Zd(e,t){const n=uu(e),r=Ep(n);n.Au.delete(t),r.Ko()&&tp(n,t),0===n.Au.size&&(r.Ko()?r.jo():ip(n)&&n.bu.set("Unknown"))}function ep(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Iu.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ep(e).su(t)}function tp(e,t){e.Vu.qt(t),Ep(e).iu(t)}function np(e){e.Vu=new kf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Ep(e).start(),e.bu.gu()}function rp(e){return ip(e)&&!Ep(e).Uo()&&e.Au.size>0}function ip(e){return 0===uu(e).vu.size}function op(e){e.Vu=void 0}async function sp(e){e.Au.forEach(((t,n)=>{ep(e,t)}))}async function ap(e,t){op(e),rp(e)?(e.bu.Iu(t),np(e)):e.bu.set("Unknown")}async function lp(e,t,n){if(e.bu.set("Online"),t instanceof Ef&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){ru("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await up(e,n)}else if(t instanceof wf?e.Vu.Ht(t):t instanceof bf?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Iu.min()))try{const t=await Cd(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Zu.EMPTY_BYTE_STRING,r.snapshotVersion)),tp(e,t);const i=new td(r.target,t,n,r.sequenceNumber);ep(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ru("RemoteStore","Failed to raise snapshot:",t),await up(e,t)}}async function up(e,t,n){if(!Fu(t))throw t;e.vu.add(1),await Xd(e),e.bu.set("Offline"),n||(n=()=>Cd(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ru("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Yd(e)}))}function cp(e,t){return t().catch((n=>up(e,n,t)))}async function hp(e){const t=uu(e),n=_p(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;fp(t);)try{const e=await Od(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,dp(t,e)}catch(e){await up(t,e)}pp(t)&&mp(t)}function fp(e){return ip(e)&&e.Eu.length<10}function dp(e,t){e.Eu.push(t);const n=_p(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function pp(e){return ip(e)&&!_p(e).Uo()&&e.Eu.length>0}function mp(e){_p(e).start()}async function gp(e){_p(e).hu()}async function vp(e){const t=_p(e);for(const n of e.Eu)t.uu(n.mutations)}async function yp(e,t,n){const r=e.Eu.shift(),i=rf.from(r,t,n);await cp(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await hp(e)}async function wp(e,t){t&&_p(e).ou&&await async function(e,t){if(function(e){switch(e){default:return au();case cu.CANCELLED:case cu.UNKNOWN:case cu.DEADLINE_EXCEEDED:case cu.RESOURCE_EXHAUSTED:case cu.INTERNAL:case cu.UNAVAILABLE:case cu.UNAUTHENTICATED:return!1;case cu.INVALID_ARGUMENT:case cu.NOT_FOUND:case cu.ALREADY_EXISTS:case cu.PERMISSION_DENIED:case cu.FAILED_PRECONDITION:case cu.ABORTED:case cu.OUT_OF_RANGE:case cu.UNIMPLEMENTED:case cu.DATA_LOSS:return!0}}(n=t.code)&&n!==cu.ABORTED){const n=e.Eu.shift();_p(e).Qo(),await cp(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await hp(e)}var n}(e,t),pp(e)&&mp(e)}async function bp(e,t){const n=uu(e);n.asyncQueue.verifyOperationInProgress(),ru("RemoteStore","RemoteStore received new credentials");const r=ip(n);n.vu.add(3),await Xd(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Yd(n)}function Ep(e){return e.Su||(e.Su=function(e,t,n){const r=uu(e);return r.fu(),new qd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:sp.bind(null,e),ao:ap.bind(null,e),nu:lp.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),rp(e)?np(e):e.bu.set("Unknown")):(await e.Su.stop(),op(e))}))),e.Su}function _p(e){return e.Du||(e.Du=function(e,t,n){const r=uu(e);return r.fu(),new Hd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:gp.bind(null,e),ao:wp.bind(null,e),au:vp.bind(null,e),cu:yp.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await hp(e)):(await e.Du.stop(),e.Eu.length>0&&(ru("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))}))),e.Du}class kp{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new fu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new kp(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new hu(cu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tp(e,t){if(iu("AsyncQueue",`${t}: ${e}`),Fu(e))return new hu(cu.UNAVAILABLE,`${t}: ${e}`);throw e}class Sp{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Au.comparator(t.key,n.key):(e,t)=>Au.comparator(e.key,t.key),this.keyedMap=mh(),this.sortedSet=new Hu(this.comparator)}static emptySet(e){return new Sp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sp))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Sp;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ip{constructor(){this.Cu=new Hu(Au.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):au():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Cp{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new Cp(e,t,Sp.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class Op{constructor(){this.Nu=void 0,this.listeners=[]}}class Np{constructor(){this.queries=new hh((e=>sh(e)),oh),this.onlineState="Unknown",this.ku=new Set}}async function xp(e,t){const n=uu(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Op),i)try{o.Nu=await n.onListen(r)}catch(e){const n=Tp(e,`Initialization of query '${ah(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Mu(n.onlineState),o.Nu&&t.$u(o.Nu)&&Dp(n)}async function Ap(e,t){const n=uu(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Pp(e,t){const n=uu(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.$u(e)&&(r=!0);i.Nu=e}}r&&Dp(n)}function Rp(e,t,n){const r=uu(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function Dp(e){e.ku.forEach((e=>{e.next()}))}class Lp{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Cp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=Cp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Mp{constructor(e){this.key=e}}class jp{constructor(e){this.key=e}}class Up{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=_h(),this.mutatedKeys=_h(),this.tc=uh(e),this.ec=new Sp(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new Ip,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=lh(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),f=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let d=!1;u&&c?u.data.isEqual(c.data)?h!==f&&(n.track({type:3,doc:c}),d=!0):this.rc(u,c)||(n.track({type:2,doc:c}),d=!0,(a&&this.tc(c,a)>0||l&&this.tc(c,l)<0)&&(s=!0)):!u&&c?(n.track({type:0,doc:c}),d=!0):u&&!c&&(n.track({type:1,doc:u}),d=!0,(a||l)&&(s=!0)),d&&(c?(o=o.add(c),i=f?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:o,ic:n,zi:s,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return au()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,a=s!==this.Xu;return this.Xu=s,0!==i.length||a?{snapshot:new Cp(this.query,e.ec,r,i,e.mutatedKeys,0===s,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Ip,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=_h(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new jp(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new Mp(n))})),t}hc(e){this.Yu=e.ir,this.Zu=_h();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Cp.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Fp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class zp{constructor(e){this.key=e,this.fc=!1}}class Bp{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new hh((e=>sh(e)),oh),this._c=new Map,this.mc=new Set,this.gc=new Hu(Au.comparator),this.yc=new Map,this.Ic=new pd,this.Tc={},this.Ec=new Map,this.Ac=ld.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Vp(e,t){const n=function(e){const t=uu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Wp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=im.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Hp.bind(null,t),t.dc.nu=Pp.bind(null,t.eventManager),t.dc.Pc=Rp.bind(null,t.eventManager),t}(e);let r,i;const o=n.wc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const e=await function(e,t){const n=uu(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,Uu.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new td(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}(n.localStore,rh(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await async function(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await xd(e.localStore,t.query,!1).then((({documents:e})=>t.view.sc(e,i))));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return Zp(e,t.targetId,s.cc),s.snapshot}(e,t,n,r);const o=await xd(e.localStore,t,!0),s=new Up(t,o.ir),a=s.sc(o.documents),l=yf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=s.applyChanges(a,e.isPrimaryClient,l);Zp(e,n,u.cc);const c=new Fp(t,n,s);return e.wc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&Jd(n.remoteStore,e)}return i}async function $p(e,t){const n=uu(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!oh(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Nd(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Zd(n.remoteStore,r.targetId),Xp(n,r.targetId)})).catch(ju)):(Xp(n,r.targetId),await Nd(n.localStore,r.targetId,!0))}async function Wp(e,t){const n=uu(e);try{const e=await function(e,t){const n=uu(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Bs.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Bs.addMatchingKeys(e,o.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(Zu.EMPTY_BYTE_STRING,Iu.min()).withLastLimboFreeSnapshotVersion(Iu.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,o)&&s.push(n.Bs.updateTargetData(e,u))}));let a=dh(),l=_h();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(function(e,t,n){let r=_h(),i=_h();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=dh();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Iu.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):ru("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{nr:r,sr:i}}))}(e,o,t.documentUpdates).next((e=>{a=e.nr,l=e.sr}))),!r.isEqual(Iu.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Uu.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(lu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?lu(r.fc):e.removedDocuments.size>0&&(lu(r.fc),r.fc=!1))})),await nm(n,e,t)}catch(e){await ju(e)}}function qp(e,t,n){const r=uu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=uu(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.Mu(t)&&(r=!0)})),r&&Dp(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Hp(e,t,n){const r=uu(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),o=i&&i.key;if(o){let e=new Hu(Au.comparator);e=e.insert(o,Ic.newNoDocument(o,Iu.min()));const n=_h().add(o),i=new vf(Iu.min(),new Map,new Hu(ku),e,n);await Wp(r,i),r.gc=r.gc.remove(o),r.yc.delete(t),tm(r)}else await Nd(r.localStore,t,!1).then((()=>Xp(r,t,n))).catch(ju)}async function Kp(e,t){const n=uu(e),r=t.batch.batchId;try{const e=await function(e,t){const n=uu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Uu.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);lu(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=_h();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Yp(n,r,null),Qp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nm(n,e)}catch(e){await ju(e)}}async function Gp(e,t,n){const r=uu(e);try{const e=await function(e,t){const n=uu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(lu(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Yp(r,t,n),Qp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await nm(r,e)}catch(n){await ju(n)}}function Qp(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function Yp(e,t,n){const r=uu(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Xp(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||Jp(e,t)}))}function Jp(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Zd(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),tm(e))}function Zp(e,t,n){for(const r of n)r instanceof Mp?(e.Ic.addReference(r.key,t),em(e,r)):r instanceof jp?(ru("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Jp(e,r.key)):au()}function em(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(ru("SyncEngine","New document in limbo: "+n),e.mc.add(r),tm(e))}function tm(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new Au(Ou.fromString(t)),r=e.Ac.next();e.yc.set(r,new zp(n)),e.gc=e.gc.insert(n,r),Jd(e.remoteStore,new td(rh(eh(n.path)),r,"TargetPurposeLimboResolution",zu.ct))}}async function nm(e,t,n){const r=uu(e),i=[],o=[],s=[];r.wc.isEmpty()||(r.wc.forEach(((e,a)=>{s.push(r.Rc(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=kd.Li(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.dc.nu(i),await async function(e,t){const n=uu(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Uu.forEach(t,(t=>Uu.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Uu.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Fu(e))throw e;ru("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Ji.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(t,i)}}}(r.localStore,o))}async function rm(e,t){const n=uu(e);if(!n.currentUser.isEqual(t)){ru("SyncEngine","User change. New user:",t.toKey());const e=await Id(n.localStore,t);n.currentUser=t,function(e,t){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new hu(cu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await nm(n,e.er)}}function im(e,t){const n=uu(e),r=n.yc.get(t);if(r&&r.fc)return _h().add(r.key);{let e=_h();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function om(e){const t=uu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Kp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Gp.bind(null,t),t}class sm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Vd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function(e,t,n,r){return new Sd(e,t,n,r)}(this.persistence,new Td,e.initialUser,this.serializer)}createPersistence(e){return new bd(_d.zs,this.serializer)}createSharedClientState(e){return new Pd}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class am{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>qp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=rm.bind(null,this.syncEngine),await async function(e,t){const n=uu(e);t?(n.vu.delete(2),await Yd(n)):t||(n.vu.add(2),await Xd(n),n.bu.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Np}createDatastore(e){const t=Vd(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new zd(r));var r;return function(e,t,n,r){return new Kd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>qp(this.syncEngine,e,0),o=Dd.D()?new Dd:new Rd,new Qd(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Bp(e,t,n,r,i,o);return s&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=uu(e);ru("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Xd(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class lm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):iu("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class um{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Zl.UNAUTHENTICATED,this.clientId=_u.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{ru("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ru("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new hu(cu.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Tp(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function cm(e,t){e.asyncQueue.verifyOperationInProgress(),ru("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Id(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function hm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ru("FirestoreClient","Using user provided OfflineComponentProvider");try{await cm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===cu.FAILED_PRECONDITION||e.code===cu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;ou("Error using user provided cache. Falling back to memory cache: "+n),await cm(e,new sm)}}else ru("FirestoreClient","Using default OfflineComponentProvider"),await cm(e,new sm);return e._offlineComponents}(e);ru("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>bp(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>bp(t.remoteStore,n))),e._onlineComponents=t}async function fm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ru("FirestoreClient","Using user provided OnlineComponentProvider"),await hm(e,e._uninitializedComponentsProvider._online)):(ru("FirestoreClient","Using default OnlineComponentProvider"),await hm(e,new am))),e._onlineComponents}async function dm(e){const t=await fm(e),n=t.eventManager;return n.onListen=Vp.bind(null,t.syncEngine),n.onUnlisten=$p.bind(null,t.syncEngine),n}function pm(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const mm=new Map;function gm(e,t,n){if(!n)throw new hu(cu.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function vm(e){if(!Au.isDocumentKey(e))throw new hu(cu.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ym(e){if(Au.isDocumentKey(e))throw new hu(cu.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function wm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":au()}function bm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new hu(cu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wm(e);throw new hu(cu.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class Em{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new hu(cu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new hu(cu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new hu(cu.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")})(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pm(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new hu(cu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new hu(cu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new hu(cu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class _m{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Em({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new hu(cu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new hu(cu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Em(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new pu;switch(e.type){case"firstParty":return new yu(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new hu(cu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=mm.get(e);t&&(ru("ComponentProvider","Removing Datastore"),mm.delete(e),t.terminate())}(this),Promise.resolve()}}class km{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new km(this.firestore,e,this._key)}}class Tm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Tm(this.firestore,e,this._query)}}class Sm extends Tm{constructor(e,t,n){super(e,t,eh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new km(this.firestore,null,new Au(e))}withConverter(e){return new Sm(this.firestore,e,this._path)}}function Im(e,t,...n){if(e=Ce(e),1===arguments.length&&(t=_u.A()),gm("doc","path",t),e instanceof _m){const r=Ou.fromString(t,...n);return vm(r),new km(e,null,new Au(r))}{if(!(e instanceof km||e instanceof Sm))throw new hu(cu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ou.fromString(t,...n));return vm(r),new km(e.firestore,e instanceof Sm?e.converter:null,new Au(r))}}class Cm{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new $d(this,"async_queue_retry"),this.Xc=()=>{const e=Bd();e&&ru("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=Bd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Bd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new fu;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Fu(e))throw e;ru("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw iu("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=kp.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&au()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Om(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class Nm extends _m{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Cm,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Am(this),this._firestoreClient.terminate()}}function xm(e){return e._firestoreClient||Am(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Am(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new ac(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,pm(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new um(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Pm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pm(Zu.fromBase64String(e))}catch(e){throw new hu(cu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Pm(Zu.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Rm{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new hu(cu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xu(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dm{constructor(e){this._methodName=e}}class Lm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new hu(cu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new hu(cu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ku(this._lat,e._lat)||ku(this._long,e._long)}}const Mm=/^__.*__$/;class jm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Yh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qh(e,this.data,t,this.fieldTransforms)}}class Um{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Yh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Fm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw au()}}class zm{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new zm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Zm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Fm(this.ca)&&Mm.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Bm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Vd(e)}ya(e,t,n,r=!1){return new zm({ca:e,methodName:t,ga:n,path:xu.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vm(e){const t=e._freezeSettings(),n=Vd(e._databaseId);return new Bm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function $m(e,t,n,r,i,o={}){const s=e.ya(o.merge||o.mergeFields?2:0,t,n,i);Qm("Data must be an object, but it was:",s,r);const a=Km(r,s);let l,u;if(o.merge)l=new Xu(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Ym(t,r,n);if(!s.contains(i))throw new hu(cu.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);eg(e,i)||e.push(i)}l=new Xu(e),u=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=s.fieldTransforms;return new jm(new Tc(a),l,u)}class Wm extends Dm{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wm}}class qm extends Dm{_toFieldTransform(e){return new Fh(e.path,new Ah)}isEqual(e){return e instanceof qm}}function Hm(e,t){if(Gm(e=Ce(e)))return Qm("Unsupported field value:",t,e),Km(e,t);if(e instanceof Dm)return function(e,t){if(!Fm(t.ca))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Hm(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ce(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ih(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Su.fromDate(e);return{timestampValue:Af(t.serializer,n)}}if(e instanceof Su){const n=new Su(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Af(t.serializer,n)}}if(e instanceof Lm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Pm)return{bytesValue:Pf(t.serializer,e._byteString)};if(e instanceof km){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Lf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${wm(e)}`)}(e,t)}function Km(e,t){const n={};return qu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wu(e,((e,r)=>{const i=Hm(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Gm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Su||e instanceof Lm||e instanceof Pm||e instanceof km||e instanceof Dm)}function Qm(e,t,n){if(!Gm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=wm(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Ym(e,t,n){if((t=Ce(t))instanceof Rm)return t._internalPath;if("string"==typeof t)return Jm(e,t);throw Zm("Field path arguments must be of type string or ",e,!1,void 0,n)}const Xm=new RegExp("[~\\*/\\[\\]]");function Jm(e,t,n){if(t.search(Xm)>=0)throw Zm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Rm(...t.split("."))._internalPath}catch(r){throw Zm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Zm(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new hu(cu.INVALID_ARGUMENT,a+e+l)}function eg(e,t){return e.some((e=>e.isEqual(t)))}class tg{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new km(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ng(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ng extends tg{data(){return super.data()}}function rg(e,t){return"string"==typeof t?Jm(e,t):t instanceof Rm?t._internalPath:t._delegate._internalPath}function ig(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new hu(cu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class og{convertValue(e,t="none"){switch(cc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw au()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Wu(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Lm(nc(e.latitude),nc(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=oc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(sc(e));default:return null}}convertTimestamp(e){const t=tc(e);return new Su(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ou.fromString(e);lu(ed(n));const r=new lc(n.get(1),n.get(3)),i=new Au(n.popFirst(5));return r.isEqual(t)||iu(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function sg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ag{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lg extends tg{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ug(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(rg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ug extends lg{data(e={}){return super.data(e)}}class cg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ag(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new ug(this._firestore,this._userDataWriter,n.key,n,new ag(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new hu(cu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new ug(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ag(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new ug(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ag(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:hg(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function hg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return au()}}class fg extends og{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new km(this.firestore,null,t)}}function dg(e,t){return function(e,t){const n=new fu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=om(e);try{const e=await function(e,t){const n=uu(e),r=Su.now(),i=t.reduce(((e,t)=>e.add(t.key)),_h());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=dh(),l=_h();return n.Zi.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=Kh(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Yh(e.key,t,Sc(t.value.mapValue),Bh.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:gh(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new Hu(ku)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await nm(r,e.changes),await hp(r.remoteStore)}catch(e){const t=Tp(e,"Failed to persist write");n.reject(t)}}(await function(e){return fm(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(xm(e),t)}function pg(e,t,n){const r=n.docs.get(t._key),i=new fg(e);return new lg(e,i,t._key,r,new ag(n.hasPendingWrites,n.fromCache),t.converter)}function mg(){return new qm("serverTimestamp")}!function(e,t=!0){!function(e){eu=e}(gt),ft(new Oe("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),o=new Nm(new gu(e.getProvider("auth-internal")),new bu(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new hu(cu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lc(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),wt(Jl,"3.13.0",e),wt(Jl,"3.13.0","esm2017")}();const gg="firebasestorage.googleapis.com",vg="storageBucket";class yg extends ve{constructor(e,t,n=0){super(Eg(e),`Firebase Storage: ${t} (${Eg(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yg.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Eg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var wg,bg;function Eg(e){return"storage/"+e}function _g(){return new yg(wg.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function kg(e){return new yg(wg.INVALID_ARGUMENT,e)}function Tg(){return new yg(wg.APP_DELETED,"The Firebase app was deleted.")}function Sg(e,t){return new yg(wg.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Ig(e){throw new yg(wg.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(wg||(wg={}));class Cg{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Cg.makeFromUrl(e,t)}catch(t){return new Cg(e,"")}if(""===n.path)return n;throw r=e,new yg(wg.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===gg?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let t=0;t<a.length;t++){const r=a[t],i=r.regex.exec(e);if(i){const e=i[r.indices.bucket];let t=i[r.indices.path];t||(t=""),n=new Cg(e,t),r.postModify(n);break}}if(null==n)throw function(e){return new yg(wg.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Og{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Ng(e){return"string"==typeof e||e instanceof String}function xg(e){return Ag()&&e instanceof Blob}function Ag(){return"undefined"!=typeof Blob&&!function(){var e;const t=null===(e=ae())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()}function Pg(e,t,n,r){if(r<t)throw kg(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw kg(`Invalid value for '${e}'. Expected ${n} or less.`)}function Rg(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Dg(e){const t=encodeURIComponent;let n="?";for(const r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n=n.slice(0,-1),n}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(bg||(bg={}));class Lg{constructor(e,t,n,r,i,o,s,a,l,u,c,h=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=c,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(e){r(e)}else if(null!==i){const e=_g();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else t.canceled?r(this.appDelete_?Tg():new yg(wg.CANCELED,"User canceled the upload/download.")):r(new yg(wg.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))};this.canceled_?e(0,new Mg(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let u=!1;function c(...e){u||(u=!0,t.apply(null,e))}function h(t){i=setTimeout((()=>{i=null,e(d,l())}),t)}function f(){o&&clearTimeout(o)}function d(e,...t){if(u)return void f();if(e)return f(),void c.call(null,e,...t);if(l()||s)return f(),void c.call(null,e,...t);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),h(n)}let p=!1;function m(e){p||(p=!0,f(),u||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(((e,t)=>{if(t)return void e(!1,new Mg(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===bg.NO_ERROR,i=n.getStatus();if(!t||function(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===bg.ABORT;return void e(!1,new Mg(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new Mg(o,n))}))}),e,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Mg{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function jg(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Ug(...e){const t=jg();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(Ag())return new Blob(e);throw new yg(wg.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Fg={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zg{constructor(e,t){this.data=e,this.contentType=t||null}}function Bg(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Vg(e,t){switch(e){case Fg.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Sg(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case Fg.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r)throw Sg(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function(e){if("undefined"==typeof atob)throw new yg(wg.UNSUPPORTED_ENVIRONMENT,"base-64 is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.");return atob(e)}(t)}catch(t){if(t.message.includes("polyfill"))throw t;throw Sg(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r}class $g{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Sg(Fg.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;var r,i;null!=n&&(this.base64=(i=";base64",(r=n).length>=7&&r.substring(r.length-7)===i),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Wg{constructor(e,t){let n=0,r="";xg(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(xg(this.data_)){const o=(n=this.data_,r=e,i=t,n.webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null);return null===o?null:new Wg(o)}var n,r,i;{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Wg(n,!0)}}static getBlob(...e){if(Ag()){const t=e.map((e=>e instanceof Wg?e.data_:e));return new Wg(Ug.apply(null,t))}{const t=e.map((e=>Ng(e)?function(e,t){switch(e){case Fg.RAW:return new zg(Bg(t));case Fg.BASE64:case Fg.BASE64URL:return new zg(Vg(e,t));case Fg.DATA_URL:return new zg(function(e){const t=new $g(e);return t.base64?Vg(Fg.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(e){throw Sg(Fg.DATA_URL,"Malformed data URL.")}return Bg(t)}(t.rest)}(t),new $g(t).contentType)}throw _g()}(Fg.RAW,e).data:e.data_));let n=0;t.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return t.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Wg(r,!0)}}uploadData(){return this.data_}}function qg(e){let t;try{t=JSON.parse(e)}catch(e){return null}return function(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}function Hg(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Kg(e,t){return t}class Gg{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Kg}}let Qg=null;function Yg(){if(Qg)return Qg;const e=[];e.push(new Gg("bucket")),e.push(new Gg("generation")),e.push(new Gg("metageneration")),e.push(new Gg("name","fullPath",!0));const t=new Gg("name");t.xform=function(e,t){return function(e){return!Ng(e)||e.length<2?e:Hg(e)}(t)},e.push(t);const n=new Gg("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Gg("timeCreated")),e.push(new Gg("updated")),e.push(new Gg("md5Hash",null,!0)),e.push(new Gg("cacheControl",null,!0)),e.push(new Gg("contentDisposition",null,!0)),e.push(new Gg("contentEncoding",null,!0)),e.push(new Gg("contentLanguage",null,!0)),e.push(new Gg("contentType",null,!0)),e.push(new Gg("metadata","customMetadata",!0)),Qg=e,Qg}function Xg(e,t,n){const r=qg(t);return null===r?null:function(e,t,n){const r={type:"file"},i=n.length;for(let e=0;e<i;e++){const i=n[e];r[i.local]=i.xform(r,t[i.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Cg(n,r);return t._makeStorageReference(i)}})}(r,e),r}(e,r,n)}class Jg{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Zg(e){if(!e)throw _g()}function ev(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new yg(wg.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new yg(wg.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new yg(wg.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new yg(wg.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function tv(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=function(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}(t,r,i),u="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+function(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",c="\r\n--"+a+"--",h=Wg.getBlob(u,r,c);if(null===h)throw new yg(wg.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.");const f={name:l.fullPath},d=Rg(o,e.host,e._protocol),p=e.maxUploadRetryTime,m=new Jg(d,"POST",function(e,t){return function(n,r){const i=Xg(e,r,t);return Zg(null!==i),i}}(e,n),p);return m.urlParams=f,m.headers=s,m.body=h.uploadData(),m.errorHandler=ev(t),m}let nv=null;class rv{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=bg.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=bg.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=bg.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Ig("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const e in r)r.hasOwnProperty(e)&&this.xhr_.setRequestHeader(e,r[e].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ig("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ig("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Ig("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ig("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class iv extends rv{initXhr(){this.xhr_.responseType="text"}}function ov(){return nv?nv():new iv}class sv{constructor(e,t){this._service=e,this._location=t instanceof Cg?t:Cg.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new sv(e,t)}get root(){const e=new Cg(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Hg(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Cg(this._location.bucket,e);return new sv(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new yg(wg.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function av(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Rg(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new Jg(r,"GET",function(e,t){return function(n,r){const i=Xg(e,r,t);return Zg(null!==i),function(e,t,n,r){const i=qg(t);if(null===i)return null;if(!Ng(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return Rg("/b/"+s(i)+"/o/"+s(o),n,r)+Dg({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}(e,n),i);return o.errorHandler=function(e){const t=ev(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new yg(wg.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}(t),o}(e.storage,e._location,Yg());return e.storage.makeRequestWithTokens(t,ov).then((e=>{if(null===e)throw new yg(wg.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function lv(e,t){if(e instanceof cv){const n=e;if(null==n._bucket)throw new yg(wg.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vg+"' property when initializing the app?");const r=new sv(n,n._bucket);return null!=t?lv(r,t):r}return void 0!==t?function(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Cg(e._location.bucket,n);return new sv(e.storage,r)}(e,t):e}function uv(e,t){const n=null==t?void 0:t[vg];return null==n?null:Cg.makeFromBucketSpec(n,e)}class cv{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=gg,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Cg.makeFromBucketSpec(r,this._host):uv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Cg.makeFromBucketSpec(this._url,e):this._bucket=uv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Pg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Pg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sv(this,e)}_makeRequest(e,t,n,r,i=!0){if(this._deleted)return new Og(Tg());{const o=function(e,t,n,r,i,o,s=!0){const a=Dg(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Lg(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const hv="@firebase/storage",fv="0.11.2",dv="storage";function pv(e,t){return function(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof cv)return new sv(e,t);throw kg("To use ref(service, url), the first argument must be a Storage instance.")}return lv(e,t)}(e=Ce(e),t)}ft(new Oe(dv,(function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new cv(n,r,i,t,gt)}),"PUBLIC").setMultipleInstances(!0)),wt(hv,fv,""),wt(hv,fv,"esm2017");const mv=new class{constructor(){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"database",{apiKey:"AIzaSyDmojC5Kl5vtST4vIyW81UfCrR6B18HnKw",authDomain:"sucralose-74a13.firebaseapp.com",projectId:"sucralose-74a13",storageBucket:"sucralose-74a13.appspot.com",messagingSenderId:"43887129209",appId:"1:43887129209:web:7d607e00a979144af85aa8"})}};function gv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const vv=mv.database,yv=new class{doc(...e){return Im(this.db,e.join("/"))}collection(...e){return function(e,t,...n){if(e=Ce(e),gm("collection","path",t),e instanceof _m){const r=Ou.fromString(t,...n);return ym(r),new Sm(e,null,r)}{if(!(e instanceof km||e instanceof Sm))throw new hu(cu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ou.fromString(t,...n));return ym(r),new Sm(e.firestore,null,r)}}(this.db,e.join("/"))}formatDocument(e,t){return t?{_ref:e,_snapshot:t,id:t.id,...t.data()}:null}async getDoc(e){const t=await function(e){e=bm(e,km);const t=bm(e.firestore,Nm);return function(e,t,n={}){const r=new fu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new lm({next:o=>{t.enqueueAndForget((()=>Ap(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new hu(cu.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new hu(cu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Lp(eh(n.path),o,{includeMetadataChanges:!0,Ku:!0});return xp(e,s)}(await dm(e),e.asyncQueue,t,n,r))),r.promise}(xm(t),e._key).then((n=>pg(t,e,n)))}(e);return t.exists()?this.formatDocument(e,t):null}async getDocs(e){return(await function(e){e=bm(e,Tm);const t=bm(e.firestore,Nm),n=xm(t),r=new fg(t);return ig(e._query),function(e,t,n={}){const r=new fu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new lm({next:n=>{t.enqueueAndForget((()=>Ap(e,s))),n.fromCache&&"server"===r.source?i.reject(new hu(cu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Lp(n,o,{includeMetadataChanges:!0,Ku:!0});return xp(e,s)}(await dm(e),e.asyncQueue,t,n,r))),r.promise}(n,e._query).then((n=>new cg(t,r,e,n)))}(e)).docs.map((e=>this.formatDocument(e.ref,e)))}createSnapshotListener(e,t,n={}){let{onReady:r,processor:i}=n;const o=function(e,...t){var n,r,i;e=Ce(e);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||Om(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(Om(t[s])){const e=t[s];t[s]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[s+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[s+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,u,c;if(e instanceof km)u=bm(e.firestore,Nm),c=eh(e._key.path),l={next:n=>{t[s]&&t[s](pg(u,e,n))},error:t[s+1],complete:t[s+2]};else{const n=bm(e,Tm);u=bm(n.firestore,Nm),c=n._query;const r=new fg(u);l={next:e=>{t[s]&&t[s](new cg(u,r,n,e))},error:t[s+1],complete:t[s+2]},ig(e._query)}return function(e,t,n,r){const i=new lm(r),o=new Lp(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>xp(await dm(e),o))),()=>{i.Dc(),e.asyncQueue.enqueueAndForget((async()=>Ap(await dm(e),o)))}}(xm(u),c,a,l)}(e,(async n=>{let s=e instanceof km?this.formatDocument(e,n):{changes:n.docChanges().map((e=>({...e,data:this.formatDocument(e.doc.ref,e.doc)}))),items:n.docs.map((e=>this.formatDocument(e.ref,e)))};if(s&&(s._unbindListener=o,"function"==typeof i))if(Array.isArray(s.items))for(let e=0;e<s.items.length;e++)s.items[e]=await i(s.items[e]);else s=await i(s);t(s),r?.(s),r=null}),console.error.bind(null,`Error in snapshot listener at "${e.path??e._query.path}"!`));return o}get useSnapshot(){return(t,n={})=>{const{processor:r}=n,[i,o]=e.useState(void 0);return e.useEffect((()=>this.createSnapshotListener(t,(async e=>{if("function"!=typeof r)return o(e);if(Array.isArray(e.items))for(const t in e.items)e.items[t]=await r(e.items[t]);else e=await r(e);o(e)}),n)),[]),i}}serializeObject(e){return i().omit({...e},["_ref","_snapshot","_unbindListener","id","firebaseSerialized"])}async set(e,t){return await function(e,t,n){e=bm(e,km);const r=bm(e.firestore,Nm),i=sg(e.converter,t,n);return dg(r,[$m(Vm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Bh.none())])}(e,this.serializeObject(t)).catch(console.error.bind(null,`Error setting doc data at "${e.path}"!`))}async addDoc(e,t){return await function(e,t){const n=bm(e.firestore,Nm),r=Im(e),i=sg(e.converter,t);return dg(n,[$m(Vm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Bh.exists(!1))]).then((()=>r))}(e,this.serializeObject(t)).catch(console.error.bind(null,`Error adding doc data at "${e.path}"!`))}async delete(e){return await(t=e,dg(bm(t.firestore,Nm),[new ef(t._key,Bh.none())])).catch(console.error.bind(null,`Error deleting doc at "${e.path}"!`));var t}async update(e,t){return await function(e,t,n,...r){e=bm(e,km);const i=bm(e.firestore,Nm),o=Vm(i);let s;return s="string"==typeof(t=Ce(t))||t instanceof Rm?function(e,t,n,r,i,o){const s=e.ya(1,t,n),a=[Ym(t,r,n)],l=[i];if(o.length%2!=0)throw new hu(cu.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<o.length;e+=2)a.push(Ym(t,o[e])),l.push(o[e+1]);const u=[],c=Tc.empty();for(let e=a.length-1;e>=0;--e)if(!eg(u,a[e])){const t=a[e];let n=l[e];n=Ce(n);const r=s.da(t);if(n instanceof Wm)u.push(t);else{const e=Hm(n,r);null!=e&&(u.push(t),c.set(t,e))}}const h=new Xu(u);return new Um(c,h,s.fieldTransforms)}(o,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.ya(1,t,n);Qm("Data must be an object, but it was:",i,r);const o=[],s=Tc.empty();Wu(r,((e,r)=>{const a=Jm(t,e,n);r=Ce(r);const l=i.da(a);if(r instanceof Wm)o.push(a);else{const e=Hm(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Xu(o);return new Um(s,a,i.fieldTransforms)}(o,"updateDoc",e._key,t),dg(i,[s.toMutation(e._key,Bh.exists(!0))])}(e,this.serializeObject(t)).catch(console.error.bind(null,`Error updating doc data at "${e.path}"!`))}async getStorageUrl(...e){const t=e.join("/"),n=pv(this.storage,t),r=await function(e){return av(e=Ce(e))}(n);return this.storageCache[t]=r}uploadStorage(e,...t){const n=t.join("/");return(r=pv(this.storage,n),i=e,function(e,t,n){e._throwIfRoot("uploadBytes");const r=tv(e.storage,e._location,Yg(),new Wg(t,!0),n);return e.storage.makeRequestWithTokens(r,ov).then((t=>({metadata:t,ref:e})))}(r=Ce(r),i,void 0)).then((async e=>({result:e,url:await this.getStorageUrl(...t)})));var r,i}constructor(){gv(this,"app",vt(vv)),gv(this,"auth",gi()),gv(this,"db",function(e,t){const n="string"==typeof e?e:t||"(default)",r=dt("object"==typeof e?e:yt(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=ue("firestore");e&&function(e,t,n,r={}){var i;const o=(e=bm(e,_m))._getSettings(),s=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&ou("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Zl.MOCK_USER;else{t=de(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new hu(cu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Zl(o)}e._authCredentials=new mu(new du(t,n))}}(r,...e)}return r}()),gv(this,"storage",function(e=yt(),t){const n=dt(e=Ce(e),dv).getImmediate({identifier:t}),r=ue("storage");return r&&function(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"==typeof i?i:de(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}()),gv(this,"storageCache",{}),Object.freeze(this)}};function wv(){const[t,n]=e.useState(!1),[r,i]=e.useState(!1),o=e.useRef(),s={handleSignUp:()=>{if(r)return;const[e,t,n]=o.current.getElementsByTagName("input");return n.value!==t.value?p.showToast("Passwords must match!","Failure"):e.value.trim()?t.value.trim()?(i(!0),void async function(e,t,n){var r;const i=zn(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await jn(i,o,"signUpPassword");s=or(i,e)}else s=or(i,o).catch((async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await jn(i,o,"signUpPassword");return or(i,e)}return Promise.reject(e)}));const a=await s.catch((e=>Promise.reject(e))),l=await sr._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}(yv.auth,e.value,t.value).then((()=>{ee.pop(),p.showToast("Welcome to Sucralose!","Success"),w.dispatch({type:y.UPDATE_ROUTE,path:"/settings"})})).catch((e=>{p.showToast("An unknown error has occured! Check console for details","Failure"),console.error(e),i(!1)}))):p.showToast("You must input a password","Failure"):p.showToast("You must input an email address","Failure")},handleLogIn:()=>{if(r)return;const[e,t]=o.current.getElementsByTagName("input");var n,s,a;i(!0),(n=yv.auth,s=e.value,a=t.value,async function(e,t){return cr(zn(e),t)}(Ce(n),Jn.credential(s,a))).then((()=>(ee.pop(),window.location.reload()))).catch((e=>{let t="Unknown";switch(e.code){case"auth/invalid-email":t="Invalid email address";break;case"auth/user-not-found":t="No user with this email found";break;case"auth/wrong-password":t="Incorrect password"}p.showToast(`Failed to sign in! Reason - ${t}`,"Failure",10),console.error(e)}))}};return b("keydown",(e=>"Enter"===e.key&&(t?s.handleSignUp():s.handleLogIn()))),e.createElement("div",{className:"AuthModal",ref:o},e.createElement(bi,{className:"CloseButton",onClick:ee.pop.bind(ee)}),t?e.createElement(e.Fragment,null,e.createElement("div",{className:"MainSection Flex"},e.createElement("div",{className:"HelpSection"},e.createElement("div",{className:"Title"},"NOTE"),e.createElement("div",null,"This is not your e621.net details.",e.createElement("br",null),"You will have the option to enter",e.createElement("br",null),"your e621.net username and API key",e.createElement("br",null),"in your settings after signing up.",e.createElement("br",null))),e.createElement("div",{className:"Fields"},e.createElement("h3",null,"Sign Up"),e.createElement("div",{className:"FieldContainer"},e.createElement("input",{type:"email",placeholder:"Email Address"})),e.createElement("div",{className:"FieldContainer"},e.createElement("input",{type:"password",placeholder:"Password"})),e.createElement("div",{className:"FieldContainer"},e.createElement("input",{type:"password",placeholder:"Confirm Password"})))),e.createElement("div",{className:"FooterSection Flex"},e.createElement("div",{className:"Button",onClick:()=>n(!1)},e.createElement(ki,null),e.createElement("div",null,"Log In")),e.createElement("div",{className:"Button",style:{marginLeft:"auto"},onClick:s.handleSignUp},e.createElement(Ii,null),e.createElement("div",null,"Sign Up")))):e.createElement(e.Fragment,null,e.createElement("div",{className:"MainSection Flex"},e.createElement("div",{className:"HelpSection"},e.createElement("div",{className:"Title"},"Why?"),e.createElement("div",null,"Having an account ensures that your data",e.createElement("br",null),"stays consistent across browsers and devices,",e.createElement("br",null),"along with giving you access to useful features,",e.createElement("br",null),"without the security risks of storing data on your device.",e.createElement("br",null))),e.createElement("div",{className:"Fields"},e.createElement("h3",null,"Login"),e.createElement("div",{className:"FieldContainer"},e.createElement("input",{type:"email",placeholder:"Email Address"})),e.createElement("div",{className:"FieldContainer"},e.createElement("input",{type:"password",placeholder:"Password"})))),e.createElement("div",{className:"FooterSection Flex"},e.createElement("div",{className:"Button",onClick:()=>n(!0)},e.createElement(Ni,null),e.createElement("div",null,"Sign Up")),e.createElement("div",{className:"Button",style:{marginLeft:"auto"}},e.createElement(Pi,null),e.createElement("div",null,"Reset Password")),e.createElement("div",{className:"Button",onClick:s.handleLogIn},e.createElement(ki,null),e.createElement("div",null,"Log In")))))}var bv=n(294);function Ev(){return window.location.pathname}const _v=class extends ${getCurrentRoute(){return Ev()}getFormattedRoute(){return Ev().split("?")[0].split("/").filter((e=>e&&"#"!==e))}static formatUri(e){return e}constructor(e,t){super(e,t),window.addEventListener("popstate",(()=>{e.dispatch({type:y.UPDATE_PAGE}),"#sign_in"!==window.location.hash||ee.instance.state.stack.length||ee.push(bv.createElement(wv,null))}))}},kv=new _v(w,{[y.UPDATE_ROUTE]:({path:e,replace:t=!1})=>{e=_v.formatUri(e),window.history[t?"replaceState":"pushState"]({last:Ev(),lastTime:Date.now()},null,e),w.dispatch({type:y.UPDATE_PAGE})},[y.UPDATE_PAGE]:()=>{}}),Tv=(e,t)=>t.some((t=>e instanceof t));let Sv,Iv;const Cv=new WeakMap,Ov=new WeakMap,Nv=new WeakMap,xv=new WeakMap,Av=new WeakMap;let Pv={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ov.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Nv.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dv(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Rv(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Iv||(Iv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Lv(this),e),Dv(Cv.get(this))}:function(...e){return Dv(t.apply(Lv(this),e))}:function(e,...n){const r=t.call(Lv(this),e,...n);return Nv.set(r,e.sort?e.sort():[e]),Dv(r)}:(e instanceof IDBTransaction&&function(e){if(Ov.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Ov.set(e,t)}(e),Tv(e,Sv||(Sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Pv):e);var t}function Dv(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Dv(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Cv.set(t,e)})).catch((()=>{})),Av.set(t,e),t}(e);if(xv.has(e))return xv.get(e);const t=Rv(e);return t!==e&&(xv.set(e,t),Av.set(t,e)),t}const Lv=e=>Av.get(e),Mv=["get","getKey","getAll","getAllKeys","count"],jv=["put","add","delete","clear"],Uv=new Map;function Fv(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Uv.get(t))return Uv.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=jv.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Mv.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return Uv.set(t,o),o}Pv=(e=>({...e,get:(t,n,r)=>Fv(t,n)||e.get(t,n,r),has:(t,n)=>!!Fv(t,n)||e.has(t,n)}))(Pv);const zv="@firebase/installations",Bv="0.6.4",Vv=1e4,$v=`w:${Bv}`,Wv="FIS_v2",qv="https://firebaseinstallations.googleapis.com/v1",Hv=36e5,Kv=new ye("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Gv(e){return e instanceof ve&&e.code.includes("request-failed")}function Qv({projectId:e}){return`${qv}/projects/${e}/installations`}function Yv(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Xv(e,t){const n=(await t.json()).error;return Kv.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Jv({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function Zv(e){const t=await e();return t.status>=500&&t.status<600?e():t}function ey(e){return new Promise((t=>{setTimeout(t,e)}))}const ty=/^[cdef][\w-]{21}$/,ny="";function ry(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){var t;return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22)}(e);return ty.test(t)?t:ny}catch(e){return ny}}function iy(e){return`${e.appName}!${e.appId}`}const oy=new Map;function sy(e,t){const n=iy(e);ay(n,t),function(e,t){const n=(!ly&&"BroadcastChannel"in self&&(ly=new BroadcastChannel("[Firebase] FID Change"),ly.onmessage=e=>{ay(e.data.key,e.data.fid)}),ly);n&&n.postMessage({key:e,fid:t}),0===oy.size&&ly&&(ly.close(),ly=null)}(n,t)}function ay(e,t){const n=oy.get(e);if(n)for(const e of n)e(t)}let ly=null;const uy="firebase-installations-database",cy=1,hy="firebase-installations-store";let fy=null;function dy(){return fy||(fy=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Dv(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Dv(s.result),e.oldVersion,e.newVersion,Dv(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}(uy,cy,{upgrade:(e,t)=>{0===t&&e.createObjectStore(hy)}})),fy}async function py(e,t){const n=iy(e),r=(await dy()).transaction(hy,"readwrite"),i=r.objectStore(hy),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||sy(e,t.fid),t}async function my(e){const t=iy(e),n=(await dy()).transaction(hy,"readwrite");await n.objectStore(hy).delete(t),await n.done}async function gy(e,t){const n=iy(e),r=(await dy()).transaction(hy,"readwrite"),i=r.objectStore(hy),o=await i.get(n),s=t(o);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||o&&o.fid===s.fid||sy(e,s.fid),s}async function vy(e){let t;const n=await gy(e.appConfig,(n=>{const r=function(e){return by(e||{fid:ry(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Kv.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=Qv(e),i=Jv(e),o=t.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const s={fid:n,authVersion:Wv,appId:e.appId,sdkVersion:$v},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await Zv((()=>fetch(r,a)));if(l.ok){const e=await l.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:Yv(e.authToken)}}throw await Xv("Create Installation",l)}(e,t);return py(e.appConfig,n)}catch(n){throw Gv(n)&&409===n.customData.serverCode?await my(e.appConfig):await py(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:yy(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return n.fid===ny?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function yy(e){let t=await wy(e.appConfig);for(;1===t.registrationStatus;)await ey(100),t=await wy(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await vy(e);return n||t}return t}function wy(e){return gy(e,(e=>{if(!e)throw Kv.create("installation-not-found");return by(e)}))}function by(e){return 1===(t=e).registrationStatus&&t.registrationTime+Vv<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Ey({appConfig:e,heartbeatServiceProvider:t},n){const r=function(e,{fid:t}){return`${Qv(e)}/${t}/authTokens:generate`}(e,n),i=function(e,{refreshToken:t}){const n=Jv(e);return n.append("Authorization",function(e){return`${Wv} ${e}`}(t)),n}(e,n),o=t.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const s={installation:{sdkVersion:$v,appId:e.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await Zv((()=>fetch(r,a)));if(l.ok)return Yv(await l.json());throw await Xv("Generate Auth Token",l)}async function _y(e,t=!1){let n;const r=await gy(e.appConfig,(r=>{if(!Ty(r))throw Kv.create("not-registered");const i=r.authToken;if(!t&&(2===(o=i).requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Hv}(o)))return r;var o;if(1===i.requestStatus)return n=async function(e,t){let n=await ky(e.appConfig);for(;1===n.authToken.requestStatus;)await ey(100),n=await ky(e.appConfig);const r=n.authToken;return 0===r.requestStatus?_y(e,t):r}(e,t),r;{if(!navigator.onLine)throw Kv.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await Ey(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await py(e.appConfig,r),n}catch(n){if(!Gv(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await py(e.appConfig,n)}else await my(e.appConfig);throw n}}(e,t),t}}));return n?await n:r.authToken}function ky(e){return gy(e,(e=>{if(!Ty(e))throw Kv.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+Vv<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var t}))}function Ty(e){return void 0!==e&&2===e.registrationStatus}function Sy(e){return Kv.create("missing-app-config-values",{valueName:e})}const Iy="installations";ft(new Oe(Iy,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Sy("App Configuration");if(!e.name)throw Sy("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Sy(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:dt(t,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),ft(new Oe("installations-internal",(e=>{const t=dt(e.getProvider("app").getImmediate(),Iy).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await vy(t);return r?r.catch(console.error):_y(t).catch(console.error),n.fid}(t),getToken:e=>async function(e,t=!1){const n=e;return await async function(e){const{registrationPromise:t}=await vy(e);t&&await t}(n),(await _y(n,t)).token}(t,e)}}),"PRIVATE")),wt(zv,Bv),wt(zv,Bv,"esm2017");const Cy=(e,t)=>t.some((t=>e instanceof t));let Oy,Ny;const xy=new WeakMap,Ay=new WeakMap,Py=new WeakMap,Ry=new WeakMap,Dy=new WeakMap;let Ly={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ay.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Py.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jy(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function My(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ny||(Ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Uy(this),e),jy(xy.get(this))}:function(...e){return jy(t.apply(Uy(this),e))}:function(e,...n){const r=t.call(Uy(this),e,...n);return Py.set(r,e.sort?e.sort():[e]),jy(r)}:(e instanceof IDBTransaction&&function(e){if(Ay.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Ay.set(e,t)}(e),Cy(e,Oy||(Oy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ly):e);var t}function jy(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(jy(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&xy.set(t,e)})).catch((()=>{})),Dy.set(t,e),t}(e);if(Ry.has(e))return Ry.get(e);const t=My(e);return t!==e&&(Ry.set(e,t),Dy.set(t,e)),t}const Uy=e=>Dy.get(e);function Fy(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=jy(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(jy(s.result),e.oldVersion,e.newVersion,jy(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}function zy(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(()=>t())),jy(n).then((()=>{}))}const By=["get","getKey","getAll","getAllKeys","count"],Vy=["put","add","delete","clear"],$y=new Map;function Wy(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if($y.get(t))return $y.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Vy.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!By.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return $y.set(t,o),o}Ly=(e=>({...e,get:(t,n,r)=>Wy(t,n)||e.get(t,n,r),has:(t,n)=>!!Wy(t,n)||e.has(t,n)}))(Ly);const qy="/firebase-messaging-sw.js",Hy="/firebase-cloud-messaging-push-scope",Ky="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Gy="https://fcmregistrations.googleapis.com/v1",Qy="google.c.a.c_id",Yy="google.c.a.c_l",Xy="google.c.a.ts";var Jy,Zy;function ew(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function tw(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let e=0;e<n.length;++e)r[e]=n.charCodeAt(e);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(Jy||(Jy={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Zy||(Zy={}));const nw="fcm_token_details_db",rw=5,iw="fcm_token_object_Store",ow="firebase-messaging-database",sw=1,aw="firebase-messaging-store";let lw=null;function uw(){return lw||(lw=Fy(ow,sw,{upgrade:(e,t)=>{0===t&&e.createObjectStore(aw)}})),lw}async function cw(e){const t=fw(e),n=await uw(),r=await n.transaction(aw).objectStore(aw).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map((e=>e.name));if(!e.includes(nw))return null}let t=null;return(await Fy(nw,rw,{upgrade:async(n,r,i,o)=>{var s;if(r<2)return;if(!n.objectStoreNames.contains(iw))return;const a=o.objectStore(iw),l=await a.index("fcmSenderId").get(e);if(await a.clear(),l)if(2===r){const e=l;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(s=e.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:ew(e.vapidKey)}}}else if(3===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:ew(e.auth),p256dh:ew(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:ew(e.vapidKey)}}}else if(4===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:ew(e.auth),p256dh:ew(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:ew(e.vapidKey)}}}}})).close(),await zy(nw),await zy("fcm_vapid_details_db"),await zy("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await hw(e,t),t}}async function hw(e,t){const n=fw(e),r=(await uw()).transaction(aw,"readwrite");return await r.objectStore(aw).put(t,n),await r.done,t}function fw({appConfig:e}){return e.appId}const dw=new ye("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function pw(e,t){const n={method:"DELETE",headers:await gw(e)};try{const r=await fetch(`${mw(e.appConfig)}/${t}`,n),i=await r.json();if(i.error){const e=i.error.message;throw dw.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw dw.create("token-unsubscribe-failed",{errorInfo:null==e?void 0:e.toString()})}}function mw({projectId:e}){return`${Gy}/projects/${e}/registrations`}async function gw({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function vw({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==Ky&&(i.web.applicationPubKey=r),i}const yw=6048e5;async function ww(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:tw(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:ew(t.getKey("auth")),p256dh:ew(t.getKey("p256dh"))},r=await cw(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(r.subscriptionOptions,n))return Date.now()>=r.createTime+yw?async function(e,t){try{const n=await async function(e,t){const n=await gw(e),r=vw(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{const n=await fetch(`${mw(e.appConfig)}/${t.token}`,i);o=await n.json()}catch(e){throw dw.create("token-update-failed",{errorInfo:null==e?void 0:e.toString()})}if(o.error){const e=o.error.message;throw dw.create("token-update-failed",{errorInfo:e})}if(!o.token)throw dw.create("token-update-no-token");return o.token}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await hw(e.firebaseDependencies,r),n}catch(t){throw await async function(e){const t=await cw(e.firebaseDependencies);t&&(await pw(e.firebaseDependencies,t.token),await async function(e){const t=fw(e),n=(await uw()).transaction(aw,"readwrite");await n.objectStore(aw).delete(t),await n.done}(e.firebaseDependencies));const n=await e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}(e),t}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await pw(e.firebaseDependencies,r.token)}catch(e){console.warn(e)}return bw(e.firebaseDependencies,n)}return bw(e.firebaseDependencies,n)}async function bw(e,t){const n=await async function(e,t){const n=await gw(e),r=vw(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{const t=await fetch(mw(e.appConfig),i);o=await t.json()}catch(e){throw dw.create("token-subscribe-failed",{errorInfo:null==e?void 0:e.toString()})}if(o.error){const e=o.error.message;throw dw.create("token-subscribe-failed",{errorInfo:e})}if(!o.token)throw dw.create("token-subscribe-no-token");return o.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await hw(e,r),r.token}function Ew(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const o=t.notification.icon;o&&(e.notification.icon=o)}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){var n,r,i,o,s;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};const a=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=t.notification)||void 0===o?void 0:o.click_action;a&&(e.fcmOptions.link=a);const l=null===(s=t.fcmOptions)||void 0===s?void 0:s.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}(t,e),t}function _w(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function kw(e){return dw.create("missing-app-config-values",{valueName:e})}_w("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),_w("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Tw{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw kw("App Configuration Object");if(!e.name)throw kw("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const e of t)if(!n[e])throw kw(e);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function Sw(e,t){if(!navigator)throw dw.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw dw.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Ky)}(e,null==t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await async function(e){try{e.swRegistration=await navigator.serviceWorker.register(qy,{scope:Hy}),e.swRegistration.update().catch((()=>{}))}catch(e){throw dw.create("failed-service-worker-registration",{browserErrorMessage:null==e?void 0:e.message})}}(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw dw.create("invalid-sw-registration");e.swRegistration=t}}(e,null==t?void 0:t.serviceWorkerRegistration),ww(e)}async function Iw(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Zy.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(Ew(n)):e.onMessageHandler.next(Ew(n)));const r=n.data;var i;"object"==typeof(i=r)&&i&&Qy in i&&"1"===r["google.c.a.e"]&&await async function(e,t,n){const r=function(e){switch(e){case Zy.NOTIFICATION_CLICKED:return"notification_open";case Zy.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Qy],message_name:n[Yy],message_time:n[Xy],message_device_time:Math.floor(Date.now()/1e3)})}(e,n.messageType,r)}const Cw="@firebase/messaging",Ow="0.12.4";function Nw(){return Nw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nw.apply(this,arguments)}ft(new Oe("messaging",(e=>{const t=new Tw(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(e=>Iw(t,e))),t}),"PUBLIC")),ft(new Oe("messaging-internal",(e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>Sw(t,e)}}),"PRIVATE")),wt(Cw,Ow),wt(Cw,Ow,"esm2017");var xw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Nw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polyline",{points:"1 4 1 10 7 10"}),e.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))}));xw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},xw.displayName="RotateCcw";const Aw=xw;function Pw(){return Pw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pw.apply(this,arguments)}var Rw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Pw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}))}));Rw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Rw.displayName="Edit2";const Dw=Rw;function Lw(){return Lw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lw.apply(this,arguments)}var Mw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Lw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polyline",{points:"3 6 5 6 21 6"}),e.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))}));Mw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Mw.displayName="Trash";const jw=Mw;function Uw(){return Uw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uw.apply(this,arguments)}var Fw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Uw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),e.createElement("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),e.createElement("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),e.createElement("line",{x1:"16",y1:"3",x2:"14",y2:"21"}))}));Fw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Fw.displayName="Hash";const zw=Fw;function Bw(){return Bw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bw.apply(this,arguments)}var Vw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Bw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("circle",{cx:"12",cy:"8",r:"7"}),e.createElement("polyline",{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"}))}));Vw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Vw.displayName="Award";const $w=Vw;function Ww(){return Ww=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ww.apply(this,arguments)}var qw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Ww({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.createElement("circle",{cx:"12",cy:"7",r:"4"}))}));qw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},qw.displayName="User";const Hw=qw;function Kw(){return Kw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kw.apply(this,arguments)}var Gw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Kw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"}))}));Gw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Gw.displayName="Activity";const Qw=Gw;function Yw(){return Yw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yw.apply(this,arguments)}var Xw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Yw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))}));Xw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Xw.displayName="AlertTriangle";const Jw=Xw;function Zw(){return Zw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zw.apply(this,arguments)}var eb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Zw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("line",{x1:"18",y1:"10",x2:"6",y2:"10"}),e.createElement("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),e.createElement("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),e.createElement("line",{x1:"18",y1:"18",x2:"6",y2:"18"}))}));eb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},eb.displayName="AlignCenter";const tb=eb;function nb(){return nb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nb.apply(this,arguments)}var rb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",nb({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}))}));rb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},rb.displayName="BookOpen";const ib=rb;function ob(){return ob=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ob.apply(this,arguments)}var sb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",ob({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.createElement("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),e.createElement("polyline",{points:"21 15 16 10 5 21"}))}));sb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},sb.displayName="Image";const ab=sb;function lb(){return lb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lb.apply(this,arguments)}var ub=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",lb({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("circle",{cx:"11",cy:"11",r:"8"}),e.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))}));ub.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},ub.displayName="Search";const cb=ub;function hb(e,t){var n=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,n)}function fb(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function db(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pb,mb;const gb=new(pb=new WeakMap,mb=new WeakMap,class{get loginData(){const e=_E.getLocalUser()??{};return{login:e.username,api_key:e.apiKey}}getEndpoint(e,t={},n=!0){let r=this.loginData;r.login&&r.api_key||(r={});const i=new URLSearchParams({...r,...t,_client:"Sucralose/2.0 by Metalloriff"});return`${"true"===(localStorage.getItem("showNsfw")||"false")?this.endpoint:this.sfwEndpoint}${e}${n?".json?":"?"}${i}`}async request(e,t={},n=!0,r={}){for(;Date.now()-this.lastMadeRequest<500;)await new Promise((e=>setTimeout(e,50)));return this.lastMadeRequest=Date.now(),await fetch(this.getEndpoint(e,t,n),r).then((e=>n?e.json():e))}async vote(e,t){const n=_E.getLocalUser()??{};return n.username&&n.apiKey?hb(this,pb)[e]?p.showToast("You're attempting to vote too quickly","Failure"):(hb(this,pb)[e]=!0,await this.request(`posts/${e}/votes`,{score:t,no_unvote:!1},!0,{method:"POST"}).then((t=>(delete hb(this,pb)[e],t)))):p.showToast("You must be logged into e621 to favorite posts","Failure")}async favorite(e){const t=_E.getLocalUser()??{};return t.username&&t.apiKey?hb(this,mb)[e]?p.showToast("You're attempting to favorite too quickly","Failure"):(hb(this,mb)[e]=!0,await this.request("favorites",{post_id:e},!0,{method:"POST"}).then((t=>(delete hb(this,mb)[e],t)))):p.showToast("You must be logged into e621 to favorite posts","Failure")}async removeFavorite(e){const t=_E.getLocalUser()??{};return t.username&&t.apiKey?hb(this,mb)[e]?p.showToast("You're attempting to favorite too quickly","Failure"):(hb(this,mb)[e]=!0,await this.request(`favorites/${e}.json`,{},!1,{method:"DELETE"}).then((t=>(delete hb(this,mb)[e],t)))):p.showToast("You must be logged into e621 to favorite posts!")}constructor(){db(this,"endpoint","https://e621.net/"),db(this,"sfwEndpoint","https://e926.net/"),db(this,"lastMadeRequest",-500),fb(this,pb,{writable:!0,value:{}}),fb(this,mb,{writable:!0,value:{}})}}),vb={0:{icon:e.createElement(zw,null),tooltip:"General"},1:{icon:e.createElement(Dw,null),tooltip:"Artist"},3:{icon:e.createElement($w,null),tooltip:"Copyright"},4:{icon:e.createElement(Hw,null),tooltip:"Character"},5:{icon:e.createElement(Qw,null),tooltip:"Species"},6:{icon:e.createElement(Jw,null),tooltip:"Invalid"},7:{icon:e.createElement(tb,null),tooltip:"Meta"},8:{icon:e.createElement(ib,null),tooltip:"Lore"}};function yb({placeholder:t="Search..."}){const[n,r]=e.useState(!1),[o,s]=e.useState([]),a=e.useRef(),l=q.useState((()=>q.get("search")))||"",[u,c]=e.useState(l);function h(e=null){e&&(a.current.value=e),kv.getFormattedRoute()[0]||w.dispatch({type:y.UPDATE_ROUTE,path:"/posts"}),q.set("search",a.current.value),q.set("page",null)}e.useEffect((()=>{c(l)}),[l]),yb.handleSearch=h;const f=e.useMemo((()=>({onFocus:()=>r(!0),onBlur:()=>r(!1),onKeyDown:e=>"Enter"===e.key&&h(),onInput:i().debounce((async e=>{const{value:t}=e.target,n=t.split(/\s/).slice(-1)[0].replace(/[-~*]/g,"");if(!n.trim())return s([]);s([null]);const r=await gb.request("tags",{"search[name_matches]":n+"*","search[order]":"count",limit:10});try{s([...r||[]])}catch(e){s([])}}),200),onChange:e=>{const{value:t}=e.currentTarget;c(t)}})),[]);function d(e){const t=a.current.value.split(/\s/);c([...t.slice(0,-1),(t[t.length-1].match(/[^a-z0-9_]/gi)?.[0]??"")+e.name,""].join(" ")),s([]),setTimeout((()=>{a.current.selectionStart=a.current.selectionEnd=a.current.value.length,a.current.focus()}),0)}return e.createElement("div",{className:m("SearchFieldContainer",[n,"Focused"])},e.createElement("input",{className:"SearchField",...f,ref:a,id:"searchField",autoCorrect:"false",value:u,autoComplete:"off",placeholder:t}),e.createElement(ab,{className:"Button",onClick:async function(){const[e]=await function(e={}){return new Promise((t=>{const{type:n="*",multiple:r=!1}=e,i=_.assign(document.createElement("input"),{type:"file",accept:n,style:"display:none",multiple:r,onchange:()=>(t(i.files),document.body.removeChild(i))});document.body.appendChild(i),i.click()}))}();if(!e)return;const t=await gb.request("posts",{tags:"md5:"+e.name.split(".")[0]}).catch((()=>null));t?.posts?.length?w.dispatch({type:y.UPDATE_ROUTE,path:`/post/${t.posts[0].id}`}):p.showToast("Could not find any post by MD5 hash! True image searching will be added soon!","Failure")}.bind(null,null)}),e.createElement(cb,{className:"Button",onClick:h.bind(null,null)}),e.createElement("div",{className:"AutoCompleteContainer"},o.map((t=>null===t?e.createElement("div",{className:"AutoCompleteEntry",style:{padding:10}},e.createElement(K,{key:Date.now().toString(36)})):(t.categoryIcon=vb[t.category]??vb[0],e.createElement("div",{className:"AutoCompleteEntry",key:t.id,onMouseDown:d.bind(this,t)},e.createElement("div",{className:"IconContainer"},t.categoryIcon.icon,e.createElement(Q,null,t.categoryIcon.tooltip)),t.antecedent_name?e.createElement("div",{className:"Title"},t.name," ",e.createElement("span",{style:{opacity:.75}},"(",t.antecedent_name,")")):e.createElement("span",{className:"Title"},t.name),e.createElement("span",{className:"PostCount"},t.post_count," posts")))))))}function wb(){return wb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wb.apply(this,arguments)}var bb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",wb({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("rect",{x:"3",y:"3",width:"7",height:"7"}),e.createElement("rect",{x:"14",y:"3",width:"7",height:"7"}),e.createElement("rect",{x:"14",y:"14",width:"7",height:"7"}),e.createElement("rect",{x:"3",y:"14",width:"7",height:"7"}))}));bb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},bb.displayName="Grid";const Eb=bb;function _b(){return _b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_b.apply(this,arguments)}var kb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",_b({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),e.createElement("polyline",{points:"17 6 23 6 23 12"}))}));kb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},kb.displayName="TrendingUp";const Tb=kb;function Sb(){return Sb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sb.apply(this,arguments)}var Ib=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Sb({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),e.createElement("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),e.createElement("line",{x1:"6",y1:"20",x2:"6",y2:"14"}))}));Ib.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Ib.displayName="BarChart2";const Cb=Ib;function Ob(){return Ob=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ob.apply(this,arguments)}var Nb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Ob({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),e.createElement("polyline",{points:"2 17 12 22 22 17"}),e.createElement("polyline",{points:"2 12 12 17 22 12"}))}));Nb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Nb.displayName="Layers";const xb=Nb;function Ab(){return Ab=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ab.apply(this,arguments)}var Pb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Ab({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.createElement("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"}))}));Pb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Pb.displayName="Bell";const Rb=Pb;function Db(){return Db=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Db.apply(this,arguments)}var Lb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Db({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}))}));Lb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Lb.displayName="Heart";const Mb=Lb;function jb(){return jb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jb.apply(this,arguments)}var Ub=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",jb({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"}))}));Ub.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Ub.displayName="ThumbsUp";const Fb=Ub;function zb(){return zb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zb.apply(this,arguments)}var Bb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",zb({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("circle",{cx:"12",cy:"12",r:"3"}),e.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))}));Bb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Bb.displayName="Settings";const Vb=Bb;function $b(){return $b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$b.apply(this,arguments)}var Wb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",$b({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.createElement("polyline",{points:"9 22 9 12 15 12 15 22"}))}));Wb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Wb.displayName="Home";const qb=Wb;function Hb(){return Hb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hb.apply(this,arguments)}var Kb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Hb({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.createElement("rect",{x:"7",y:"7",width:"3",height:"9"}),e.createElement("rect",{x:"14",y:"7",width:"3",height:"5"}))}));Kb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Kb.displayName="Trello";const Gb=Kb;function Qb({children:t,title:n="Help"}){return e.createElement("div",{className:"TutorialModal"},e.createElement("div",{className:"ModalHeader"},e.createElement("h2",null,n),e.createElement(bi,{onClick:ee.pop.bind(ee)})),e.createElement("div",{className:"ModalBody"},t))}function Yb({title:t,defaultValue:n,callback:r,...i}){return e.createElement("div",{className:"SwitchItem FlexCenter",...i},e.createElement("input",{className:"Switch",type:"checkbox",defaultChecked:n,onInput:e=>r?.(e.currentTarget.checked)}),e.createElement("h4",null,t))}var Xb=n(294);const Jb={posts:{icon:Xb.createElement(Eb,null),title:"Latest Posts"},hot:{icon:Xb.createElement(Tb,null),title:"Hot Posts"},popular:{icon:Xb.createElement(Cb,null),title:"Popular Posts"},sets:{icon:Xb.createElement(xb,null),title:"Browse Sets"},subscriptions:{icon:Xb.createElement(Rb,null),title:"Subscriptions"},favorites:{icon:Xb.createElement(Mb,null),title:"Favorites"},upvoted:{icon:Xb.createElement(Fb,null),title:"Upvoted Posts"},settings:{icon:Xb.createElement(Vb,null),title:"Settings"}},Zb=[{date:"09/09/2021",title:"Welcome to the new Sucralose!",modal:function(){return Xb.createElement(Qb,{title:this.title},Xb.createElement("h2",null,"What's different?"),Xb.createElement("p",null,"I've re-built the site from the ground up, with better code, performance, and most importantly, better device support."),Xb.createElement("p",null,"Some of the new features include the following:",Xb.createElement("ul",null,Xb.createElement("li",null,Xb.createElement("div",null,Xb.createElement("b",null,"Database!")),"I've added a Firebase database to the site, which will let you create an account and sync your data between devices and browsers."),Xb.createElement("br",null),Xb.createElement("li",null,Xb.createElement("div",null,Xb.createElement("b",null,"Mobile support")),"Mobile support was pretty bad in the previous release, but this version was started with mobile in mind."),Xb.createElement("br",null),Xb.createElement("li",null,Xb.createElement("div",null,Xb.createElement("b",null,"Better UI/UX")),"This is of course an opinional thing, but the user interface and user experience has been redesigned for a friendlier experience."),Xb.createElement("br",null),Xb.createElement("li",null,Xb.createElement("div",null,Xb.createElement("b",null,"Popular page")),"This is an overlooked feature in e621, mostly because its UI is so outdated; but it has been incorporated into Sucralose with a little better interface."),Xb.createElement("br",null),Xb.createElement("li",null,Xb.createElement("div",null,Xb.createElement("b",null,"Search everything, everywhere")),"The previous version of Sucralose did not let you search hot, favorites, sets, etc. All of this is fixed in this version."))))}},{date:"10/24/2021",title:"Domain name and performance overhauls",modal:function(){return Xb.createElement(Qb,{title:this.title},Xb.createElement("h2",null,"What's different?"),Xb.createElement("p",null,"The domain name has been changed to ",Xb.createElement("b",null,"sucralose.top"),". The site has been optimized for performance, and should load faster.",Xb.createElement("br",null),Xb.createElement("br",null),"However, this overhaul does not come without downfall, and may cause some bugs."),Xb.createElement("h2",null,"Data Exports"),Xb.createElement("p",null,"You can now export your data in the settings, for those of you who are interested in what is stored on the database.",Xb.createElement("br",null),"Obviously passwords are not exported, as even I do not have the ability to view or export them."),Xb.createElement("h2",null,"Ads"),Xb.createElement("p",null,"Ads will be added to the site in the near future, ",Xb.createElement("b",null,"but"),", you will be able to disable them in the settings.",Xb.createElement("br",null),"This is for those of you who are interested in supporting me, but do not have the funds to do so.",Xb.createElement("br",null),"Meanwhile, if you do have the funds, you can support me by donating to my Patreon page, which I will be creating soon. :)",Xb.createElement("br",null),Xb.createElement("br",null),"If you would be interested, please contact me on my Discord or ",Xb.createElement("a",{href:"https://twitter.com/@Metalloriff"},"Twitter")," ",Xb.createElement("i",null,"(Psst.. give me a follow, I'm beginning to actively use my Twitter.)"),", and let me know that I'm not wasting my time."))}},{date:"01/01/2023",title:"Minor QoL Changes and Fixes",modal:function(){return Xb.createElement(Qb,{title:this.title},Xb.createElement("h2",null,"What's different?"),Xb.createElement("p",null,"This was a set of small changes, there's nothing major in this update. In general, I made small changes to the design of the website. I will continue to push this design style in later updates."),Xb.createElement("p",null,"You can now navigate through posts with A and D along with the arrow keys. This makes for easier left-handed controls."),Xb.createElement("p",null,"Fixed a few small bugs mostly related to the post page."))}},{date:"08/25/2023",title:"Important! Please Read",modal:function(){return Xb.createElement(Qb,{title:this.title},Xb.createElement("h2",null,"First and foremost"),Xb.createElement("p",null,"This website is not dead, and there is a Trello roadmap available to the public. You can view this underneath the news post you clicked to view this modal."),Xb.createElement("p",null,"However, I have many projects. I work on them in a priority list of what I'm motivated to do, and what I feel needs doing. If you have any suggestions, notice any missing features in Sucralose, or find any pesky bugs, please reach out to my Telegram or Discord (Metalloriff on both). Knowing that someone is waiting for features heavily motivates me to work on whichever project you're waiting for. This does go for my other projects as well."),Xb.createElement("p",null,"That being said, if you are a new user of Sucralose, you notice notice features missing from e621 and are considering leaving. Please reach out to me and I will have it fixed as soon as possible. This is still a work in progress, and a large solo project."),Xb.createElement("h2",null,"Blacklists"),Xb.createElement("p",null,"Blacklist functionality is finally here, along with quick blacklist switching, right below the search bar! The UI is not entirely complete, it's a little ugly and clunky, but should be fully function."),Xb.createElement("h2",null,"What's different?"),Xb.createElement("p",null,"A lot of modal improvements, including a HUGE performance improvement -- the previous and next images used to show full resolution. This is stupid. That includes videos. Now, they show their proper preview image. The image modal has some new controls. Up and down will upvote and downvote, respectively. And F will favorite. Also, there's now a spinner for when the image is loading. This will prevent you from accidentally saving a preview too quickly, without realizing it's a preview. And videos autoplay. A lot of modal improvements, as that's where you spend most of your time."),Xb.createElement("p",null,"Favoriting a post now upvotes it as well. The upvote feature in e621 is underused. If you favorite a post, 9/10 times you'd want to upvote as well. If not, an extra click 1/10 times is better than 9/10!"),Xb.createElement("p",null,"Reverse searching is here! Currently it works flawlessly for any files that have an md5 hash in the name. But it is not perfect for improperly named files."),Xb.createElement("p",null,"Pools now show name and description on the search page, instead of.. in a context menu. This is currently a work in progress, so there is no formatting. You'll see a lot of [[this]], and unclickable links. I apologize for that, but I at least made the text selectable so you can search."),Xb.createElement("h2",null,"Patched bugs"),Xb.createElement("p",null,"Personalization settings (background, colors, etc.) weren't saving properly. This should be fully fixed now."),Xb.createElement("p",null,"Not being able to open pools in new tab."),Xb.createElement("p",null,"Clicking on comment profile avatars wouldn't open the avatar post."),Xb.createElement("h2",null,"What's next?"),Xb.createElement("p",null,"Soon, I will be adding a saved searches feature. This will be similar to the quick blacklists feature, but for searching!"),Xb.createElement("p",null,"You can see more of what's planned in the future on the roadmap."))}}];function eE({className:e,tooltipMode:t=!1}){const n=_E.useState((()=>_E.getLocalUser()));return Xb.createElement("div",{className:e||"ButtonsContainer"},Xb.createElement("div",{className:"Left"},kv.getCurrentRoute().length>1&&Xb.createElement(G,{href:"/"},Xb.createElement("div",{className:"Button"},Xb.createElement(qb,null),Xb.createElement(Q,{direction:"down"},"Home"))),["posts","hot","popular","sets"].map((e=>Xb.createElement(G,{key:e,href:"/"+e},Xb.createElement("div",{className:"Button"},Jb[e].icon,t?Xb.createElement(Q,{direction:"down"},Jb[e].title):Xb.createElement("div",{className:"Title"},Jb[e].title)))))),Xb.createElement("div",{className:"Right"},["subscriptions","favorites","upvoted","settings"].map((e=>Xb.createElement(G,{key:e,href:n?.signedIn?"/"+e:"#sign_in"},Xb.createElement("div",{className:m("Button HasTooltip",[!n?.signedIn,"Disabled"])},Jb[e].icon,t?Xb.createElement(Q,{direction:"down"},Jb[e].title):Xb.createElement("div",{className:"Title"},Jb[e].title)))))))}function tE(){const e=Zb[Zb.length-1];return Xb.createElement("div",{className:"MainPage"},Xb.createElement("div",{className:"Head"},Xb.createElement("h1",null,"Sucralose!"),Xb.createElement("div",null,"A sweeter way to use ",Xb.createElement("a",{href:"https://e621.net"},"e621"),".")),Xb.createElement(yb,null),Xb.createElement(Yb,{title:"SFW Mode",defaultValue:"false"===(localStorage.getItem("showNsfw")||"false"),callback:e=>{e||localStorage.getItem("hasShownNsfwNotice")||(ee.push(Xb.createElement(Qb,{title:"NSFW Confirmation"},Xb.createElement("h2",null,"NSFW Confirmation"),Xb.createElement("p",null,"With SFW mode off, you will be able to see NSFW (18+) content.",Xb.createElement("br",null),"You can disable this at any time on the home page."),Xb.createElement("h2",null,"Age Confirmation"),Xb.createElement("p",null,"By disabling SFW mode, you agree that you're at least 18 years old.",Xb.createElement("br",null),"If your age is incorrect, this may result in your account being terminated.",Xb.createElement("br",null),"If your age is incorrect, re-enable SFW mode before continuing."))),localStorage.setItem("hasShownNsfwNotice","true")),localStorage.setItem("showNsfw",e?"false":"true")}}),Xb.createElement(eE,null),Xb.createElement("div",{className:"News",onClick:()=>ee.push(e.modal())},Xb.createElement("h3",{className:"Title"},e.title),Xb.createElement("div",{className:"Flex"},Xb.createElement("div",{className:"Date"},e.date),Xb.createElement("div",{className:"Poster"},"by ",Xb.createElement("b",null,"Metalloriff")))),Xb.createElement("a",{className:"Trello FlexCenter",href:"https://trello.com/b/27bqbHA1/roadmap"},Xb.createElement(Gb,null),"Roadmap"))}function nE({searchPlaceholder:t=null,hasSearch:n=!0}){return e.createElement("div",{className:"Header"},e.createElement("div",null,n&&e.createElement(yb,{placeholder:t}),e.createElement(eE,{className:"NavigationButtons",tooltipMode:!0})))}var rE=n(294);function iE({edit:t=null,index:n=null,callback:r=null}){const[i,o]=(0,e.useState)(t?.name??""),[s,a]=(0,e.useState)(t?.tags??""),l={cancel:ee.pop,save:()=>{const e=_E.getLocalUser();e.blacklists=e.blacklists??[],null!==n?e.blacklists[n]={name:i,tags:s}:e.blacklists.push({name:i,tags:s}),yv.update(yv.doc("users",e.uid),{blacklists:e.blacklists}).then((()=>{location.href.includes("/settings")||window.location.reload(),r?.(),ee.pop()}))}};return rE.createElement(Qb,{title:"Edit blacklist"},rE.createElement("div",{className:"CreateBlacklistModal"},rE.createElement("h2",null,"Title"),rE.createElement("input",{value:i,type:"text",className:"Field",placeholder:"Example: Main",onChange:e=>o(e.target.value)}),rE.createElement("h2",null,"Tags"),rE.createElement("p",null,"Separate tags with spaces, and different tag sets with enter.",rE.createElement("br",null),'Example: "young rating:e" on one line will hide posts with young AND rating:e, but neither young nor rating:e on their own.'),rE.createElement("textarea",{value:s,className:"Field",placeholder:"Example:\n\nyoung rating:e\nhyper\nfnaf",onChange:e=>a(e.target.value)}),rE.createElement("div",{className:"Footer"},rE.createElement("div",{className:"Button Red",onClick:l.cancel},"Cancel"),rE.createElement("div",{className:"Button",onClick:l.save},"Save"))))}const oE=n.p+"assets/media/0.png",sE=n.p+"assets/media/1.png",aE=n.p+"assets/media/2.png";function lE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uE(){return e.createElement(Qb,null,e.createElement("h3",null,"Your API key is ",e.createElement("b",{style:{color:"var(--red)"}},"NOT")," your password."),e.createElement("h4",null,"It is used to interface with the e621 API, safely and securely;"),e.createElement("h4",null,"however, you should refrain from revealing this API key to anyone, as it gives them access to all of your content, and the ability to post and vote as you."),e.createElement("h4",null,"If you do not trust Sucralose, all of the source is available on GitHub, I recommend and encourage you to view and analyze the source code."),e.createElement("p",null,"That being said, you may gain access to your API key by navigating to ",e.createElement("a",{href:"https://e621.net/users/home"},"https://e621.net/users/home")," and following the steps below."),e.createElement("p",{style:{marginTop:50}},e.createElement("h2",null,"Step 1"),"After navigating to your home page (and signing in if necessary), you'll want to navigate to ",e.createElement("b",null,"Manage API Access"),"."),e.createElement("img",{src:oE,alt:"Help"}),e.createElement("p",{style:{marginTop:50}},e.createElement("h2",null,"Step 2"),"Enter your password, and press ",e.createElement("b",null,"Submit"),"."),e.createElement("img",{src:sE,alt:"Help"}),e.createElement("p",{style:{marginTop:50}},e.createElement("h2",null,"Step 3"),"Copy the text under ",e.createElement("b",null,"API Key")," to your clipboard."),e.createElement("img",{src:aE,alt:"Help"}),e.createElement("p",{style:{marginTop:50}},e.createElement("h2",null,"Step 4, Final"),"Now that you have the API key, simple enter your username and API key into their respective fields in Sucralose."))}function cE(){const t=_E.useState((()=>_E.getLocalUser())),n={saveUsername:({target:e})=>{if(e.value.trim()!==t?.username)return e.length>36?p.showToast("Username is too long","Failure"):void yv.update(yv.doc("users",t.uid),{username:e.value}).then((()=>{p.showToast("Username updated","Success"),i().merge(t,{username:e.value})}))},saveApiKey:({target:e})=>{if(e.value.trim()!==t?.apiKey)return e.length>36?p.showToast("Invalid API key","Failure"):void yv.update(yv.doc("users",t.uid),{apiKey:e.value}).then((()=>{p.showToast("API key updated","Success"),i().merge(t,{apiKey:e.value})}))}};return t?.signedIn?e.createElement("div",{className:"Section ApiKey"},e.createElement("h1",null,"E621 API Key"),e.createElement("u",{onClick:()=>ee.push(e.createElement(uE,null))},"What's this?"),e.createElement("div",{className:"FieldContainer"},e.createElement("input",{className:"Field",placeholder:"Username",defaultValue:t.username,onBlur:n.saveUsername})),e.createElement("div",{className:"FieldContainer"},e.createElement("input",{className:"Field Confidential",placeholder:"API Key",defaultValue:t.apiKey,onBlur:n.saveApiKey}))):null}function hE(){const t=_E.useState((()=>_E.getLocalUser())),[n,r]=e.useState([]),[o,s]=e.useState(!1);return e.useEffect((()=>{t?.subscriptions&&r(t.subscriptions)}),[t]),e.useEffect((()=>{t?.signedIn&&!i().isEqual(t.subscriptions,n)&&o&&(i().merge(t,{subscriptions:n}),yv.update(yv.doc("users",t.uid),{subscriptions:n}).then((()=>{p.showToast("Subscriptions updated","Success"),s(!1)})))}),[n,o]),t?.signedIn?e.createElement("div",{className:"Section TagsManager Subscriptions"},e.createElement("h1",null,"Subscribed Tags"),e.createElement("div",{className:"Tags Flex"},n.map((t=>e.createElement("div",{className:"Tag FlexCenter",key:t},e.createElement(G,{href:`/posts?search=${t}`},t),e.createElement(bi,{onClick:()=>{s(!0),r(n.filter((e=>e!==t)))}})))),e.createElement("input",{key:n.length,className:"TagField",placeholder:"Add tag",onBlur:e=>{e.target.value.trim()&&(s(!0),r([...n,e.target.value.trim()]),e.target.value="")}}))):null}function fE(){const t=_E.useState((()=>_E.getLocalUser())),n=_E.useState((()=>_E.getLocalUser()?.blacklists)),[,r]=(0,e.useReducer)((e=>e+1),0);return t?.signedIn?e.createElement("div",{className:"Section BlacklistsSection"},e.createElement("h1",null,"Blacklists"),n.map((({name:i,tags:o},s)=>e.createElement("div",{className:"Blacklist",key:v()},e.createElement("h3",null,i),e.createElement("p",null,o.split("\n").map((t=>e.createElement("div",{key:t},t)))),e.createElement("div",{className:"FooterButtons"},e.createElement(Dw,{className:"FooterButton",onClick:()=>(t=>{ee.push(e.createElement(iE,{edit:n[t],index:t,callback:r}))})(s)}),e.createElement(jw,{className:"FooterButton",onClick:()=>(i=>{(async function({title:t="",description:n="",yesText:r="Yes",noText:i="No",yesColor:o="#ff6666",noColor:s=""}){const a=await new Promise((a=>{ee.push(e.createElement("div",{className:"BoolModal PrimaryBg"},e.createElement("div",{className:"Title",dangerouslySetInnerHTML:{__html:t}}),e.createElement("div",{className:"Description",dangerouslySetInnerHTML:{__html:n}}),e.createElement("div",{className:"Footer"},e.createElement("div",{className:"Button TertiaryBg",onClick:()=>a(!1),style:{backgroundColor:s}},i),e.createElement("div",{className:"Button TertiaryBg",onClick:()=>a(!0),style:{backgroundColor:o}},r))))}));return ee.pop(),a})({title:"Are you sure?",description:`Do you want to delete blacklist '${n[i].name}?' This cannot be undone.`}).then((e=>{e&&(t.blacklists.splice(i,1),yv.update(yv.doc("users",t.uid),{blacklists:t.blacklists,currentBlacklist:"defaults.none"}).then(r))}))})(s)})))))):null}function dE(){const t=i().debounce((()=>w.dispatch({type:y.UPDATE_SETTINGS})),200),n=i().debounce(pE.save.bind(pE),2e3),r=_E.useState((()=>_E.getLocalUser())),[,o]=e.useReducer((e=>e+1),0);return e.useEffect((()=>{r&&(pE.props=i().merge({},pE.defaults,pE.props,r.settings),o())}),[r]),w.useForceUpdater(y.UPDATE_SETTINGS),r?.signedIn?e.createElement("div",{className:"SettingsPage"},e.createElement(nE,{hasSearch:!1}),e.createElement("div",{className:"Section Flex",style:{gap:10}},e.createElement("div",{className:"Button",onClick:()=>{yv.getDoc(yv.doc("users",r.uid)).then((e=>{const t=URL.createObjectURL(new Blob([JSON.stringify(yv.serializeObject(e),null,"\t")],{type:"json"})),n=i().assign(document.createElement("a"),{download:`${r.username}.json`,href:t});document.body.appendChild(n),n.click(),setTimeout((()=>{document.body.removeChild(n),URL.revokeObjectURL(t)}),0)}))}},"Download My Data",e.createElement(Q,{style:{color:"white"}},"This will give you a JSON file",e.createElement("br",null),"containing all of your data",e.createElement("br",null),"stored on the database.")),e.createElement("div",{className:"Button",onClick:()=>yv.auth.signOut().then((()=>(window.location.pathname="",window.location.reload())))},"Sign Out")),e.createElement(cE,null),e.createElement(hE,null),e.createElement(fE,null),Object.entries(pE.props).map((([r,i])=>e.createElement("div",{className:"Section",key:r},e.createElement("h1",null,mE(r)),Object.entries(i).map((([i,o])=>e.createElement(gE,{key:v(),name:i,setting:o,resetValue:pE.defaults[r][i].value,callback:e=>(pE.props[r][i].value=e,n(),t())}))))))):e.createElement("div",{className:"SettingsPage FlexCenter"},e.createElement(K,null))}const pE=new class{async save(){const e=_E.getLocalUser();console.trace();for(const t in this.props)for(const n in this.props[t]){const r=this.props[t][n];i().set(e,["settings",t,n,"value"],r.value)}const t=await yv.getDoc(yv.doc("users",e.uid))?yv.update(yv.doc("users",e.uid),{settings:e.settings}):yv.set(yv.doc("users",e.uid),{settings:e.settings});await t.then((()=>p.showToast("Settings updated on the database"))).catch((e=>(console.error(e),p.showToast("An unknown error occurred while saving settings","Failure"))))}constructor(){lE(this,"defaults",{accentColors:{primary:{type:"color",value:"#7bb1bd"},secondary:{type:"color",value:"#BD7BA2"}},backgroundColors:{primary:{type:"color",value:"#2c3946"},secondary:{type:"color",value:"#364758"},tertiary:{type:"color",value:"#364758"}},backgroundImage:{url:{type:"string",value:"",placeholder:"Example - https://c.tenor.com/Z6gmDPeM6dgAAAAC/dance-moves.gif"},brightness:{type:"slider",min:0,max:100,step:1,value:100},blur:{type:"slider",min:0,max:25,step:.5,value:0},positionX:{type:"slider",min:0,max:100,step:1,value:50},positionY:{type:"slider",min:0,max:100,step:1,value:50}}}),lE(this,"props",i().extend({},this.defaults))}};function mE(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}function gE({name:t,setting:n,resetValue:r,callback:i}){const[o,s]=e.useState(n.value),a=e.useRef(),l=e.useRef(),u=e=>{i?.(e),s(e),a.current&&(a.current.value=e),l.current&&(l.current.value=e)},c=o!==r&&e.createElement("div",{className:"ResetButton",onClick:()=>u(r)},e.createElement(Aw,null),e.createElement(Q,null,"Reset To Default"));switch(n.type){default:return null;case"color":return e.createElement("div",{className:"FieldContainer"},e.createElement("h4",{className:"FieldTitle"},mE(t)),e.createElement("div",{className:"Flex",style:{alignItems:"center"}},e.createElement("input",{className:"ColorPicker",defaultValue:o,type:"color",ref:a,onInput:e=>u(e.currentTarget.value)}),e.createElement("input",{className:"Field ColorField",defaultValue:o,ref:l,style:{borderColor:o},maxLength:64,onInput:e=>u(e.currentTarget.value)}),c));case"string":return e.createElement("div",{className:"FieldContainer"},e.createElement("h4",{className:"FieldTitle"},mE(t)),e.createElement("div",{className:"Flex",style:{alignItems:"center"}},e.createElement("input",{className:"Field",defaultValue:o,placeholder:n.placeholder,ref:l,maxLength:128,onInput:e=>u(e.currentTarget.value)})));case"slider":return e.createElement("div",{className:"FieldContainer"},e.createElement("h4",{className:"FieldTitle"},mE(t)," - ",o),e.createElement("div",{className:"Flex",style:{alignItems:"center"}},e.createElement("input",{className:"Field ColorField",defaultValue:o,type:"range",ref:l,onInput:e=>u(parseFloat(e.currentTarget.value)),min:n.min,max:n.max}),c))}}function vE(){w.useForceUpdater(y.UPDATE_SETTINGS);const{props:t}=pE;return e.createElement("style",null,`\n            \n\t\t\t:root {\n\t\t\t\t--primary-color: ${t.accentColors.primary.value};\n\t\t\t\t--secondary-color: ${t.accentColors.secondary.value};\n\t\t\t\t\n\t\t\t\t--primary-bg: ${t.backgroundColors.primary.value};\n\t\t\t\t--secondary-bg: ${t.backgroundColors.secondary.value};\n\t\t\t\t--tertiary-bg: ${t.backgroundColors.tertiary.value};\n\t\t\t}\n\t\t\t\n\t\t\t`,!!t.backgroundImage?.url?.value?.trim?.()&&`\n                .AppBackground {\n                    background-image: url("${t.backgroundImage.url.value}");\n                    background-position: ${t.backgroundImage.positionX.value}%\n                                         ${t.backgroundImage.positionY.value}%;\n                    \n                    filter: blur(${t.backgroundImage.blur.value||0}px)\n                            brightness(${t.backgroundImage.brightness.value}%);\n                            \n                    opacity: 1;\n                }\n                \n                footer {\n                    backdrop-filter: blur(7px);\n                }\n                \n                .SearchFieldContainer.Focused:After {\n                    background-color: rgba(0,0,0, 0.2);\n                    backdrop-filter: blur(5px);\n                }\n            `)}var yE=n(294);const wE={};let bE=null;const EE=new class extends ${getUser(){}getLocalUser(){return bE}getCachedUsers(){}constructor(e,t){var n;super(e,t),n=t=>{t?yv.getDoc(yv.doc("users",t.uid)).then((async n=>{n||(n={});let r={};n.username&&(r=await gb.request(`users/${n.username}`,{login:n.username,api_key:n.apiKey}));const o=i().extend(t,n,{e621User:r,signedIn:!0,sets:n.username&&await gb.request("post_sets",{commit:"Search","search[creator_name]":n.username}),get firebaseSerialized(){const e={};for(const n in t)void 0!==this[n]&&"id"!==n&&(e[n]=this[n]);return e}});Notification.requestPermission().then((()=>{"granted"!==Notification.permission?(p.showToast("Notifications are disabled, you will not received subscribed tag notifications","Failure",10),p.showToast("To fix this, please enabled notifications for sucralose.top in your browser settings","Failure",10)):async function(e,t){return Sw(e=Ce(e),{vapidKey:"BBWvMxlJ7kaRqFNxqnzChq6HE_wXmrt39gSgbsivwiccua2xFmK1qQqtPLtBQRkjBN0xM1HDlQ8ycbXaUiWulzo"})}(function(e=yt()){return async function(){try{await ge()}catch(e){return!1}return"undefined"!=typeof window&&me()&&!("undefined"==typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}().then((e=>{if(!e)throw dw.create("unsupported-browser")}),(e=>{throw dw.create("indexed-db-unsupported")})),dt(Ce(e),"messaging").getImmediate()}(yv.app)).then((async e=>{const n=yv.doc("users",t.uid,"fcmTokens",e.slice(0,10)),r=await yv.getDoc(n);yv.set(n,{token:e,registered:r?r.registered:mg(),lastLogin:mg()})}))})),e.dispatch({type:y.UPDATE_LOCAL_USER,user:o}),e.dispatch({type:y.UPDATE_USER,user:o.e621User}),pE.props=i().merge({},pE.defaults,pE.props,o.settings),e.dispatch({type:y.UPDATE_SETTINGS,settings:o.settings})})):(e.dispatch({type:y.UPDATE_LOCAL_USER,user:{signedIn:!1}}),localStorage.getItem("hasPromptedLogin")||(ee.push(yE.createElement(wv,null)),localStorage.setItem("hasPromptedLogin","1")))},Ce(yv.auth).onAuthStateChanged(n,undefined,undefined)}}(w,{[y.UPDATE_LOCAL_USER]:({user:e})=>{bE=e},[y.UPDATE_USER]:({user:e})=>{wE[e.id]=e}}),_E=EE,kE=n.p+"assets/media/Chevron.svg";function TE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var SE;class IE extends e.Component{close(){IE.activeWrapper&&IE.activeWrapper.setState({menu:null,open:!1})}componentDidMount(){document.addEventListener("click",this.docClickEv)}componentWillUnmount(){document.removeEventListener("click",this.docClickEv)}render(){return e.createElement(H,null,e.createElement("div",{className:"ContextMenu",...this.props,ref:this.ref},this.props.children))}constructor(...t){super(...t),TE(this,"ref",(0,e.createRef)()),TE(this,"docClickEv",(e=>{!this.ref.current||this.ref.current.contains(e.target)||document.getElementsByClassName("ContextMenu")[0].contains(e.target)||this.close()}))}}IE.Handler=(TE(SE=class extends e.Component{render(){return e.createElement(H,null,e.createElement("div",{ref:IE.Handler.ref,className:"ContextMenuWrapper MainContextMenuContainer"}))}},"ref",(0,e.createRef)()),SE),IE.Wrapper=class extends e.Component{get publicProps(){return function(e,...t){const n=Object.assign({},e);for(const e of t)delete n[e];return n}(this.props,"menu","openOnClick","wrapperClassName","overrideX","overrideY")}async componentDidUpdate(e,t,n){if(IE.activeWrapper!==this||this.state.open||(IE.activeWrapper=null),this.state.open&&this.ref.current){const[e]=document.getElementsByClassName("ContextMenuContainer");if(e){const t=e.getBoundingClientRect();e.style.transform=t.y+t.height>window.innerHeight?`translateY(${window.innerHeight-(t.y+t.height)-20}px)`:null}}}render(){return this.props.menu?e.createElement(H,null,e.createElement("div",{ref:this.ref,className:"ContextMenuWrapper "+(this.props.wrapperClassName||""),onClick:this.props.openOnClick?e=>{"function"!=typeof e.target.onClick&&this.handleContextMenu(this.props.openOnClick())}:null,...this.publicProps,onContextMenu:this.handleContextMenu},this.props.children,e.createElement(H,null,this.state.open?this.state.menu:null))):this.props.children}constructor(...n){super(...n),TE(this,"state",{menu:null,open:!1}),TE(this,"ref",(0,e.createRef)()),TE(this,"handleContextMenu",(n=>{if("function"==typeof n.preventDefault&&n.preventDefault(),IE.activeWrapper){if(this.ref.current.contains(IE.activeWrapper.ref.current)&&IE.activeWrapper.props.menu!==this.props.menu)return;IE.activeWrapper.setState({menu:null,open:!1})}IE.activeWrapper=this;let r=this.props.menu.props.overrideY?.()||n.clientY,i=this.props.menu.props.overrideX?.()||n.clientX;for(;i+200>window.innerWidth;)i-=10;this.setState({menu:t.createPortal(e.createElement("div",{className:"ContextMenuContainer SecondaryBg",...this.publicProps,style:{position:"fixed",top:r,left:i}},this.props.menu),IE.Handler.ref.current),open:!0})}))}},IE.Item=class extends e.Component{render(){const t=Object.assign({},this.props);return delete t.autoClose,delete t.icon,e.createElement("div",{className:"ContextMenuItem",...t,onClick:this.handleClick},this.props.icon,this.props.children)}constructor(...e){super(...e),TE(this,"handleClick",(e=>{e.preventDefault(),e.stopPropagation(),IE.activeWrapper&&this.props.autoClose&&IE.activeWrapper.setState({menu:null,open:!1}),this.props.onClick&&this.props.onClick(this)}))}},IE.SubMenuItem=class extends e.Component{mount(e){if(!e)return;const t=e.getBoundingClientRect();e.style.transform=t.y+t.height>window.innerHeight?`translateY(${window.innerHeight-(t.y+t.height)-20}px)`:null,t.x+t.width>window.innerWidth&&(e.style.left="unset",e.style.right="100%")}render(){const t=Object.assign({},this.props);return delete t.autoClose,delete t.label,delete t.icon,e.createElement("div",{className:"ContextMenuItem HasSubMenu",...t,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.props.icon,this.props.label," ",e.createElement("img",{className:"ContextSubMenuChevron",src:kE}),this.state.open?e.createElement("div",{className:"ContextMenuContainer SubMenuContainer SecondaryBg",ref:this.mount},e.createElement("div",{className:"ContextMenu SubMenu"},this.props.children)):null)}constructor(...e){super(...e),TE(this,"state",{open:!1}),TE(this,"handleMouseEnter",(()=>{this.setState({open:!0})})),TE(this,"handleMouseLeave",(()=>{this.setState({open:!1})})),TE(this,"handleClick",(e=>{e.target===e.currentTarget&&(IE.activeWrapper&&this.props.autoClose&&IE.activeWrapper.setState({menu:null,open:!1}),this.props.onClick&&this.props.onClick(this))}))}},IE.ToggleItem=class extends e.Component{componentDidMount(){this.setState({checked:this.props.checked})}render(){const t=Object.assign({},this.props);return delete t.autoClose,delete t.callback,e.createElement("div",{className:"ContextMenuItem ToggleItem",...t,onClick:this.callback},e.createElement("div",{className:"ToggleBox"+(this.state.checked?" Checked":"")},this.state.checked?e.createElement("div",{className:"ToggleBoxTick"}):null),this.props.children)}constructor(...e){super(...e),TE(this,"state",{checked:!1}),TE(this,"callback",(()=>{IE.activeWrapper&&this.props.autoClose&&IE.activeWrapper.setState({menu:null,open:!1});const e=!this.state.checked;this.props.callback&&this.props.callback(e),this.setState({checked:e})}))}},IE.Divider=class extends e.Component{render(){return e.createElement("div",{className:"ContextMenuDivider",...this.props})}};const CE=IE;function OE(){return OE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OE.apply(this,arguments)}var NE=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",OE({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("circle",{cx:"12",cy:"12",r:"10"}),e.createElement("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.createElement("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}))}));NE.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},NE.displayName="Globe";const xE=NE;function AE(){return AE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AE.apply(this,arguments)}var PE=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",AE({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}))}));PE.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},PE.displayName="GitHub";const RE=PE;function DE(){return DE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DE.apply(this,arguments)}var LE=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",DE({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"}))}));LE.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},LE.displayName="Twitter";const ME=LE;function jE(){return jE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jE.apply(this,arguments)}var UE=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",jE({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),e.createElement("polyline",{points:"22,6 12,13 2,6"}))}));UE.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},UE.displayName="Mail";const FE=UE;function zE(){return zE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zE.apply(this,arguments)}var BE=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",zE({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}))}));BE.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},BE.displayName="MessageSquare";const VE=BE,$E=n.p+"assets/media/icon50x50.png",WE=n.p+"assets/media/TwemojiHeart.svg";function qE(){const t={website:()=>window.open("https://kinzoku.one/","_blank"),github:()=>window.open("https://github.com/metalloriff/","_blank"),twitter:()=>window.open("https://twitter.com/Metalloriff/","_blank"),email:()=>window.open("mailto:metalloriff@gmail.com","_blank"),discord:()=>X("Metalloriff 💕🌈#2891")};return e.createElement("footer",null,e.createElement("div",{className:"Flex"},e.createElement("div",{className:"LeftSections"},e.createElement("div",{className:"HeadSection FlexCenter"},e.createElement("img",{className:"Logo",src:$E,alt:"Logo"}),e.createElement("div",null,e.createElement("h2",null,"Metalloriff"),e.createElement("div",null,"Made with ",e.createElement("img",{src:WE,alt:"♥",width:15,height:15})))),e.createElement("div",{className:"ContactSection Flex"},e.createElement("div",{className:"ContactEntry",onClick:t.website},e.createElement(xE,null),e.createElement(Q,null,"Website")),e.createElement("div",{className:"ContactEntry",onClick:t.github},e.createElement(RE,null),e.createElement(Q,null,"GitHub")),e.createElement("div",{className:"ContactEntry",onClick:t.twitter},e.createElement(ME,null),e.createElement(Q,null,"Twitter")),e.createElement("div",{className:"ContactEntry",onClick:t.email},e.createElement(FE,null),e.createElement(Q,null,"Email")),e.createElement("div",{className:"ContactEntry",onClick:t.discord},e.createElement(VE,null),e.createElement(Q,null,"Discord")))),e.createElement("div",{className:"MiddleSection"}),e.createElement("div",{className:"RightSections FlexCenter"},e.createElement("div",{className:"LinksSection"},e.createElement("a",{href:"https://github.com/Metalloriff/sucralose"},"Source Code"),e.createElement("a",{href:"https://feathericons.com/"},"Icons Used"),e.createElement("a",{href:"https://metalloriff.github.io/city-fog"},"Color Palette"),e.createElement("a",{href:"https://kinzoku.one/donate"},e.createElement("img",{src:WE,alt:"♥",width:15,height:15}),e.createElement("span",{style:{margin:"0 7px"}},"Donate"),e.createElement("img",{src:WE,alt:"♥",width:15,height:15})),e.createElement("div",{className:"Copyright"},"Copyright © ",(new Date).getFullYear()," Israel Boone")))))}function HE(){return HE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HE.apply(this,arguments)}var KE=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",HE({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("circle",{cx:"12",cy:"12",r:"10"}),e.createElement("path",{d:"M16 16s-1.5-2-4-2-4 2-4 2"}),e.createElement("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),e.createElement("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"}))}));KE.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},KE.displayName="Frown";const GE=KE;function QE(){return QE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QE.apply(this,arguments)}var YE=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",QE({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polygon",{points:"5 3 19 12 5 21 5 3"}))}));YE.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},YE.displayName="Play";const XE=YE;function JE(){return JE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JE.apply(this,arguments)}var ZE=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",JE({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"}))}));ZE.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},ZE.displayName="ThumbsDown";const e_=ZE;function t_(){return t_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t_.apply(this,arguments)}var n_=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",t_({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.createElement("polyline",{points:"7 10 12 15 17 10"}),e.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))}));n_.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},n_.displayName="Download";const r_=n_;function i_(){return i_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i_.apply(this,arguments)}var o_=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",i_({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))}));o_.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},o_.displayName="Plus";const s_=o_;function a_(){return a_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a_.apply(this,arguments)}var l_=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",a_({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),e.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));l_.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},l_.displayName="PlusSquare";const u_=l_;function c_({postId:t}){const n=e.useRef();return e.createElement(Qb,{title:"Create New Set"},e.createElement("div",{className:"CreateSetModal",ref:n},e.createElement("div",{className:"FieldContainer"},e.createElement("h3",null,"Name"),e.createElement("input",{className:"Field",placeholder:"Ex - Epic Dragons"})),e.createElement("div",{className:"FieldContainer"},e.createElement("h3",null,"Short Name"),e.createElement("div",{className:"Note"},"The short name is used for the set's metatag name, or a unique identifier.",e.createElement("br",null),"It can only contain letters, numbers, and underscores."),e.createElement("input",{className:"Field",placeholder:"Ex - epic_dragons"})),e.createElement("div",{className:"FieldContainer"},e.createElement("h3",null,"Description"),e.createElement("textarea",{className:"Field",placeholder:"Note - Follows DText markdown formatting"})),e.createElement("div",{className:"FieldContainer"},e.createElement(Yb,{title:"Public",callback:null}),e.createElement("div",{className:"Note"},"Public sets will be visible to anyone.",e.createElement("br",null),"Private sets will only be visible to you.")),e.createElement("div",{className:"FieldContainer"},e.createElement("div",{className:"Button",onClick:async function(){const[r,i,o]=[...n.current.getElementsByClassName("Field")].map((e=>e.value)),s=n.current.querySelector(".SwitchItem > input").checked,a=await gb.request("post_sets",{"post_set[name]":r,"post_set[shortname]":i,"post_set[description]":o,"post_set[is_public]":s?1:0,"post_set[transfer_on_delete]":1,commit:"Create"},!0,{method:"POST"});if(a.errors)for(const t in a.errors)p.showToast(e.createElement("div",null,e.createElement("h4",null,t," errors"),e.createElement("ul",{style:{textAlign:"left"}},a.errors[t].map(((t,n)=>e.createElement("li",{key:n},t)))),e.createElement("p",null,"Click to dismiss.")),"",20);else await gb.request(`post_sets/${a.id}/add_posts`,{"post_ids[]":t},!0,{method:"POST"}),a.post_ids.push(t),_E.getLocalUser().sets.push(a),p.showToast("Successfully created set","Success"),await ee.pop()}},e.createElement(s_,null),"Create Set"))))}function h_(){return h_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h_.apply(this,arguments)}var f_=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",h_({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"}),e.createElement("path",{d:"M18.63 13A17.89 17.89 0 0 1 18 8"}),e.createElement("path",{d:"M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"}),e.createElement("path",{d:"M18 8a6 6 0 0 0-9.33-5"}),e.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}))}));f_.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},f_.displayName="BellOff";const d_=f_;function p_(){return p_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p_.apply(this,arguments)}var m_=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",p_({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),e.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}))}));m_.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},m_.displayName="EyeOff";const g_=m_;function v_(){return v_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v_.apply(this,arguments)}var y_=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",v_({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("circle",{cx:"12",cy:"12",r:"10"}),e.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))}));y_.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},y_.displayName="HelpCircle";const w_=y_;function b_({children:t}){return e.createElement(CE.Wrapper,{menu:e.createElement(E_,{tag:t}),wrapperClassName:"TagItemContextMenuWrapper"},e.createElement(G,{className:"TagItem",href:`/posts?search=${t}`},t))}function E_({tag:t}){const n={appendToSearch:()=>yb.handleSearch(yb.value.trim()+" "+t),subscribe:()=>{const n=_E.getLocalUser();Array.isArray(n.subscriptions)||(n.subscriptions=[]),n.subscriptions.push(t),yv.update(yv.doc("users",n.uid),n.firebaseSerialized).then((()=>p.showToast(e.createElement("span",null,"Added ",e.createElement("b",null,t)," to subscribed tags")))).catch((e=>(console.error(e),p.showToast("An unknown error occurred","Failure"))))},unsubscribe:()=>{const n=_E.getLocalUser();n.subscriptions=n.subscriptions.filter((e=>e!==t)),yv.update(yv.doc("users",n.uid),n.firebaseSerialized).then((()=>p.showToast(e.createElement("span",null,"Added ",e.createElement("b",null,t)," to subscribed tags")))).catch((e=>(console.error(e),p.showToast("An unknown error occurred","Failure"))))},blacklist:()=>{},tagInfo:()=>{window.open(`https://e621.net/wiki_pages/${t}`,"_blank")}};return e.createElement(CE,null,e.createElement(CE.Item,{autoClose:!0,icon:e.createElement(s_,null),onClick:n.appendToSearch},"Append To Search Tags"),e.createElement(CE.Divider,null),_E.getLocalUser()?.signedIn&&e.createElement(e.Fragment,null,~(_E.getLocalUser().subscriptions??[]).indexOf(t.toLowerCase())?e.createElement(CE.Item,{autoClose:!0,icon:e.createElement(d_,null),onClick:n.unsubscribe},"Unsubscribe"):e.createElement(CE.Item,{autoClose:!0,icon:e.createElement(Rb,null),onClick:n.subscribe},"Subscribe"),e.createElement(CE.Item,{autoClose:!0,icon:e.createElement(g_,null),onClick:n.blacklist},"Blacklist"),e.createElement(CE.Divider,null)),e.createElement(CE.Item,{autoClose:!0,icon:e.createElement(w_,null),onClick:n.tagInfo},"Tag Info"))}function __({post:t}){const{id:n,description:r,sample:o,file:s,preview:a,fav_count:l,is_favorited:u,score:c,flags:h,created_at:f,rating:d,tags:p,pools:v}=t,y=o?.url??a?.url??s?.url,[w,b]=e.useState(""),[E,_]=e.useState("left"),[k,T]=e.useState([]),[S,I]=e.useState(!1),C=e.useMemo((()=>({text:t,children:n,onClick:r,tooltipText:i,tooltipSide:o,className:s})=>{const a={onClick:r,onMouseEnter:()=>(b(i),_(o??"left")),onMouseLeave:()=>b("")};return e.createElement("div",{className:m("Button","FlexCenter",s),...a},~k.indexOf(i)?e.createElement(V,{className:"Spinner"}):n,t&&e.createElement("span",null,t))}),[k]);let O=!1;const N={toggleFavorite:()=>{T([...k,"Favorite"]);const e=()=>T(k.filter((e=>"Favorite"!==e)));u?gb.removeFavorite(n).then((()=>(t.is_favorited=!1,e()))):(gb.favorite(n).then((()=>(t.is_favorited=!0,e()))),N.vote(1))},vote:e=>{T([...k,"Upvote","Downvote"]),gb.vote(n,e).then((e=>(i().extend(t.score,e),T(k.filter((e=>!~["Upvote","Downvote"].indexOf(e)))))))},download:()=>{O||(O=!0,T([...k,"Download"]),g(s.url).then((()=>(T(k.filter((e=>"Download"!==e))),O=!1))))},openInNewTab:()=>window.open(`post/${n}`,"_blank")},x=p.artist.indexOf("conditional_dnp");return~x&&p.artist.splice(x,1),y&&"swf"!==s.ext?e.createElement(C_.Consumer,null,(r=>e.createElement("div",{className:"Post"},e.createElement("div",{className:"PostHeader"},"Artist",p.artist.length>1?"s":null,e.createElement("div",{className:"Divider"}),p.artist.length?p.artist.map(((t,n)=>e.createElement(b_,{key:n},t))):e.createElement("span",{style:{opacity:.65}},"unknown")),!S&&e.createElement("div",{className:"Preview Flex Loading"},e.createElement(K,null)),e.createElement(CE.Wrapper,{menu:e.createElement(k_,{post:t})},e.createElement("img",{src:y,className:"Preview",alt:"Preview",onLoad:()=>I(!0),onClick:()=>function(t,n=null,r={}){ee.push(e.createElement(Z,{url:t,getSources:n,...r}))}(s.url,(()=>r.posts.filter(I_).map((e=>({preview:e.sample?.url??e.preview?.url??e.file?.url,full:e.file.url})))),{buttons:t=>e.createElement(T_,{post:r.posts[t]})})})),"webm"===s.ext&&e.createElement("div",{className:"VideoOverlay"},e.createElement(XE,null)),e.createElement("div",{className:"PostFooter","data-url":y},w&&e.createElement("div",{className:m("FooterTooltip",["right"===E,"RightSide"])},w),e.createElement("div",{className:"VotesContainer"},e.createElement("div",{className:"Flex"},e.createElement(C,{text:c.up,tooltipText:"Upvote",className:1===c.our_score?"Active":"",onClick:N.vote.bind(null,1)},e.createElement(Fb,null)),e.createElement(C,{text:-c.down,tooltipText:"Downvote",className:-1===c.our_score?"Active":"",onClick:N.vote.bind(null,-1)},e.createElement(e_,null))),e.createElement("div",{className:"VotesTally"},e.createElement("div",{className:"UpVotes",style:{width:c.up/(c.up+-c.down)*100+"%"}}))),e.createElement(C,{text:l,tooltipText:"Favorite",className:u?"Favorited":"",onClick:N.toggleFavorite},e.createElement(Mb,null)),e.createElement("div",{style:{position:"absolute",right:5},className:"Flex"},v?.length>0&&e.createElement(CE.Wrapper,{menu:e.createElement(S_,{pools:v})},e.createElement(C,{tooltipText:"Pools",tooltipSide:"right",onClick:e=>(e=i().cloneDeep(e),setTimeout((()=>e.currentTarget.parentElement.dispatchEvent(new MouseEvent("contextmenu",{...e,bubbles:!0}))),0))},e.createElement(zw,null))),e.createElement(C,{tooltipText:"Download",tooltipSide:"right",onClick:N.download},e.createElement(r_,null)),e.createElement(G,{href:`post/${n}`},e.createElement(C,{tooltipText:"View Post",tooltipSide:"right"},e.createElement(M,null)))))))):null}function k_({post:t}){const n=_E.getLocalUser()?.sets??[],[,r]=e.useReducer((e=>e+1),0);return e.createElement(CE,null,e.createElement(CE.Item,{icon:e.createElement(R,null),onClick:()=>X(t.id),autoClose:!0},"Copy Post ID"),e.createElement(CE.Item,{icon:e.createElement(R,null),onClick:()=>X(`https://e621.net/posts/${t.id}`),autoClose:!0},"Copy e621.net Link"),e.createElement(CE.Item,{icon:e.createElement(ab,null),onClick:()=>(pE.props.backgroundImage.url.value=t.file.url,pE.save()),autoClose:!0},"Set As Background"),e.createElement(CE.Divider,null),e.createElement(CE.SubMenuItem,{label:"Sets",icon:e.createElement(xb,null)},!!n.length&&e.createElement(e.Fragment,null,n.map(((n,i)=>e.createElement(CE.Item,{className:m("ContextMenuItem","SetCmItem",[!!~n.post_ids.indexOf(t.id),"Active"]),key:n.id,icon:e.createElement(s_,null),onClick:async()=>(await(async e=>{const n=_E.getLocalUser()?.sets[e],r=n.post_ids.indexOf(t.id);-1!==r?(await gb.request(`post_sets/${n.id}/remove_posts`,{"post_ids[]":t.id},!0,{method:"POST"}),n.post_ids.splice(r,1)):(await gb.request(`post_sets/${n.id}/add_posts`,{"post_ids[]":t.id},!0,{method:"POST"}),n.post_ids.push(t.id))})(i),r())},n.name))),e.createElement(CE.Divider,null)),e.createElement(CE.Item,{icon:e.createElement(u_,null),autoClose:!0,onClick:()=>ee.push(e.createElement(c_,{postId:t.id}))},"New Set")))}function T_({post:t}){const{id:n,is_favorited:r,score:o,fav_count:s,file:a}=t,[,l]=e.useReducer((e=>e+1),0),u={favorite:()=>{r?gb.removeFavorite(n).then((()=>(t.is_favorited=!1,l()))):(gb.favorite(n).then((()=>(t.is_favorited=!0,l()))),u.vote(1))},vote:e=>gb.vote(n,e).then((e=>(i().extend(t.score,e),l()))),download:()=>g(a.url)};return window.currentModalEvents=u,e.createElement(e.Fragment,null,e.createElement("div",{className:"Button Flex",style:{alignItems:"center",justifyContent:"center",color:1===o.our_score?"var(--primary-color)":null},onClick:u.vote.bind(null,1)},e.createElement(Fb,null),e.createElement("div",{style:{marginLeft:5}},o.up),e.createElement(Q,{style:{color:"var(--txt-color)"}},"Upvote")),e.createElement("div",{className:"Button Flex",style:{alignItems:"center",justifyContent:"center",color:-1===o.our_score?"var(--primary-color)":null},onClick:u.vote.bind(null,-1)},e.createElement(e_,null),e.createElement("div",{style:{marginLeft:5}},-o.down),e.createElement(Q,{style:{color:"var(--txt-color)"}},"Downvote")),e.createElement("div",{className:"Button Flex",style:{alignItems:"center",justifyContent:"center",color:r?"var(--red)":null},onClick:u.favorite},e.createElement(Mb,null),e.createElement("div",{style:{marginLeft:5}},s),e.createElement(Q,{style:{color:"var(--txt-color)"}},"Favorite")),e.createElement("div",{className:"Button Flex",style:{alignItems:"center",justifyContent:"center"},onClick:u.download},e.createElement(r_,null),e.createElement(Q,{style:{color:"var(--txt-color)"}},"Download")))}function S_({pools:t}){const[n,r]=e.useState(!1),[i,o]=e.useState(null);return e.useEffect((()=>{Promise.all(t.map((e=>gb.request(`/pools/${e}`)))).then((e=>{o(e),r(!0)}))}),[t]),n?e.createElement(CE,null,i.map((t=>e.createElement(CE.Item,{key:t.id},e.createElement("a",{href:`/posts?search=pool:${t.id}`},e.createElement("div",null,e.createElement("div",null,e.createElement("b",null,t.name.replaceAll("_"," "))),e.createElement("div",{style:{color:"var(--secondary-color)"}},t.post_count," post",1!==t.post_count&&"s"))))))):e.createElement(CE,null,e.createElement(CE.Item,null,e.createElement(K,null)))}function I_(e,t){const n=_E.getLocalUser();if(!n)return;const r=parseInt(n.currentBlacklist),i=n?.blacklists[r]??[];if(r>-1){if(!i)return p.showToast("Warning! There was an error finding your blacklist, no posts are filtered currently.","Failure"),!0;const t=Object.values(e.tags).flat().map((e=>e.toLowerCase())),n=i.tags.split("\n").map((e=>e.toLowerCase()));return t.push(`rating:${e.rating}`),!n.some((e=>e.split(" ").filter(Boolean).every((e=>t.includes(e)))))}return!0}let C_=e.createContext({}),O_=Date.now(),N_=!1,x_=kv.getFormattedRoute()[0],A_=null;function P_({prependedTags:t,emptyPlaceholder:n=null,request:r=null}){const[o,s]=e.useState([]),[a,l]=e.useState(!0),[u,c]=e.useState(q.get("search")),[h,f]=e.useState(kv.getFormattedRoute()[0]),[d,p]=e.useState(r),g=q.useState((()=>q.get("search"))),v=q.useState((()=>q.get("page")));_E.useState((()=>_E.getLocalUser())),_E.useState((()=>_E.getLocalUser()?.currentBlacklist)),w.useForceUpdater(y.UPDATE_LOCAL_USER),e.useEffect((()=>{s([]),l(!0)}),[g]),e.useEffect((()=>{N_||l(!0)}),[v]),e.useEffect((()=>{const n=parseInt(v||1),m=[g,t,...(_E.getLocalUser()?.blacklist??[]).map((e=>`-${e}`))].join(" ");d!==r&&(!a&&l(!0),p(r)),a&&setTimeout((async()=>{r&&!r[1].page&&(r[1].page=n),r&&!r[1].tags&&(r[1].tags=m);let a="posts";const d={tags:m,page:n},p=_E.getLocalUser();t!==`favoritedby:${p?.e621User?.name}`||g||(a="favorites",delete d.tags);const v=r??[a,d];if(i().isEqual(A_,v)&&x_===kv.getFormattedRoute()[0])return l(!1);const y=_E.getLocalUser()?.e621User?.tagQueryLimit??40,w=[];let b=[];if("favorites"===a)b=(await gb.request(...v)).posts;else{const t=function(t){let n=y;const r=[],i=(t[1].tags||"").split(" ").filter(Boolean);if(i.length>=y){for(;n<=i.length+y;)r.push(i.slice(n-y,n).join(" ")),n+=y;localStorage.getItem("chunk-tag-warning")||(ee.push(e.createElement(Qb,{title:"Tag Warning!"},"Your tag query is too large to be processed by the server.",e.createElement("br",null),"e621 has a limit of ",y," tags per request,",e.createElement("br",null),"but Sucralose attempts to chunk your tag query into multiple requests.",e.createElement("br",null),e.createElement("br",null),"Because of this, your tag query will be split into ",r.length," requests.",e.createElement("br",null),e.createElement("br",null),"This will drastically increase the amount of time it takes to",e.createElement("br",null),"process your requests, and may interfere with sorting.",e.createElement("br",null),e.createElement("br",null),"It's recommended that you reduce your search tags, blacklists, or subscribed tag count.")),localStorage.setItem("chunk-tag-warning","1")),t[1].tags=r}else t[1].tags=[t[1].tags||""],localStorage.removeItem("chunk-tag-warning");return t}(v);for(let e=0;e<t[1].tags?.length;e++){const n=t[1].tags[e],r=i().cloneDeep(t);r[1].tags=n,r[1].limit=Math.max(5,(p?.e621User?.per_page??50)/t[1].tags.length);const o=await gb.request(...r);w.push(...o.posts??[])}b=v[1].tags.length>1?w.filter(((e,t)=>w.indexOf(e)===t)).sort(((e,t)=>e.created_at<t.created_at?1:-1)):w}l(!1),N_=!1,n>1&&!b.length?(q.set("page",n-1,{pushHistory:!1}),N_=!0):A_=v;const E=m!==u||kv.getFormattedRoute()[0]!==h||r?b:[...o,...b];s(E.filter(((e,t)=>E.findIndex((t=>t&&t.id===e.id))===t))),c(m),f(kv.getFormattedRoute()[0])}),0)}),[a,r,g,v]),b("scroll",(()=>{if(Date.now()-O_<2e3||a||!o?.length||N_)return;const e=document.documentElement;e.scrollTop>=e.scrollHeight-window.innerHeight-100&&(q.set("page",parseInt(q.get("page",1))+1,{pushHistory:!1}),O_=Date.now())}),{dependencies:[a,o,r,N_]});const E=o.filter(I_);return e.createElement(C_.Provider,{value:{posts:o}},e.createElement("div",{className:"Posts"},e.createElement("h2",{className:"PageLabel"},K_.hash),!a&&!E?.length&&e.createElement("div",{className:"NoPosts"},e.createElement("div",{className:"Placeholder"},n??e.createElement(e.Fragment,null,e.createElement("h2",null,"No posts found."),e.createElement("div",null,"Check your search tags, and ensure you've made no typos."))),e.createElement(GE,null)),e.createElement("div",{className:"Items"},E?.map((t=>e.createElement(__,{post:t,key:t.id})))),N_&&e.createElement("div",{className:"ReachedEndPlaceholder FlexCenter"},e.createElement("h2",null,"You've reached the end of your search."),e.createElement(GE,null)),e.createElement("div",{className:m("FetchingStateModal",[a,"Active"])},e.createElement(K,null))))}function R_(e){return[e.getUTCDate(),e.getMonth()+1,e.getFullYear()].join("-")}function D_(){const t=new Date,[n,r]=e.useState(R_(new Date(`${t.getFullYear()}-${(t.getUTCMonth()+1).toString().padStart(2,"0")}-${(t.getDay()+1).toString().padStart(2,"0")} 0:00`)));return e.createElement("div",{className:"PostsPage"},e.createElement(nE,{hasSearch:!1}),e.createElement("div",{className:"DatePicker"},e.createElement("h2",null,"Date"),e.createElement("input",{type:"date",ref:e=>e&&!e.value?e.valueAsDate=new Date:null,onInput:e=>r(R_(new Date(e.target.value)))})),_E.getLocalUser()&&e.createElement(P_,{request:["explore/posts/popular",{date:n,scale:"day"}]}))}function L_({id:t}){const[n,r]=e.useState(null),i=_E.useState((()=>_E.getLocalUser()));return function(t,n,r=!1,i=[]){e.useEffect((()=>{const e=setInterval(t,n);return r&&t(),()=>clearInterval(e)}),i)}((()=>{gb.request(`posts/${t}/comments`).then((e=>{const t=(new DOMParser).parseFromString(e.html,"text/html");r([...t.getElementsByClassName("comment")].map((t=>({id:t.dataset.commentId,userId:t.dataset.creatorId,username:t.dataset.creator,score:parseInt(t.dataset.score),isDeleted:"true"===t.dataset.isDeleted,body:t.querySelector(".content > .body")?.innerHTML,avatarPost:e.posts[t.querySelector(".avatar > .placeholder")?.dataset.id],timestamp:t.querySelector("time")?.dateTime}))))}))}),1e4,!0),console.log(n),e.createElement("div",{className:"PostComments"},null===n?e.createElement(K,null):0===n.length?e.createElement("div",{className:"NoComments"},e.createElement("h1",null,"No comments here.")):e.createElement("div",{className:"Comments"},n.map((t=>e.createElement("div",{className:"Comment",key:t.id},e.createElement("div",{className:"UserSection"},e.createElement("div",{className:"AvatarContainer"},e.createElement("div",{className:"AvatarPlaceholder FlexCenter"},e.createElement(Hw,null)),t.avatarPost?e.createElement(G,{href:`/post/${t.avatarPost?.id??"not_found"}`},e.createElement("img",{className:m("Avatar",["e"===t.avatarPost?.rating,"NSFW"]),src:t.avatarPost?.cropped_url,onError:({target:e})=>e.src=t.avatarPost?.preview_url,alt:""})):null)),e.createElement("div",{className:"BodySection"},e.createElement(G,{href:`/user/${t.userId}`},e.createElement("div",{className:"Username"},t.username)),e.createElement("div",{className:"Body",dangerouslySetInnerHTML:{__html:t.body}})))))),i?.e621User&&e.createElement("div",{className:"CommentCreatorSection Comments"},e.createElement("div",{className:"Comment"},e.createElement("div",{className:"UserSection"},e.createElement("div",{className:"AvatarContainer"},e.createElement("div",{className:"AvatarPlaceholder FlexCenter"},e.createElement(Hw,null)),i.e621User.avatarPost?e.createElement(G,{href:`#post/${i.e621User.avatarPost?.id??"not_found"}`},e.createElement("img",{className:m("Avatar",["e"===i.e621User.avatarPost?.rating,"NSFW"]),src:i.e621User.avatarPost?.cropped_url,onError:({target:e})=>e.src=i.e621User.avatarPost?.preview_url,alt:""})):null)),e.createElement("div",{className:"BodySection Flex"},e.createElement("textarea",{className:"Body",placeholder:"This doesn't do anything yet. I got lazy."})))))}class M_ extends e.Component{componentDidMount(){this.setState({active:0})}render(){const t=e.Children.toArray(this.props.children);return e.createElement("div",null,e.createElement("div",{className:"TabsList"},this.props.tabs.filter(Boolean).map(((t,n)=>e.createElement("span",{key:t,className:"TabItem"+(n===this.state.active?" Active":""),onClick:()=>{this.setState({active:n}),this.props.onChange&&this.props.onChange(t,n,this)}},e.createElement("span",{className:"TabItemTitle"},t),e.createElement("div",{className:"TabItemBorder"}))))),t.map(((t,n)=>e.createElement("div",{className:"TabItem",key:n,style:{display:this.state.active===n?"block":"none"}},t))))}constructor(...e){super(...e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"state",{active:null})}}function j_({id:t}){const[n,r]=e.useState(null),[o,s]=e.useState(!1),[,a]=e.useReducer((e=>e+1),0),l=_E.useState((()=>_E.getLocalUser()));e.useEffect((()=>{gb.request(`posts/${t}`).then((e=>e?.post?r(e.post):s(!0))).catch((e=>(console.error(e),s(!0))))}),[l]);const u={toggleFavorite:()=>{n.is_favorited?gb.removeFavorite(t).then((()=>(n.is_favorited=!1,a()))):gb.favorite(t).then((()=>(n.is_favorited=!0,a())))},vote:e=>gb.vote(t,e).then((e=>(i().extend(n.score,e),a())))};return e.createElement("div",{className:"PostPage"},e.createElement(nE,null),n?e.createElement("div",{className:"PostBody"},e.createElement("div",{className:"ImageContainer"},e.createElement("img",{className:"Image",src:n.file.url,onError:({target:e})=>e.outerHTML=e.outerHTML.replace("img","video"),loop:!0,controls:!0,alt:"Post Image"})),e.createElement("div",{className:"PostBodyMain"},e.createElement("div",{className:"Button",style:{color:1===n.score.our_score?"var(--primary-color)":null},onClick:u.vote.bind(null,1)},e.createElement(Fb,null),e.createElement("div",null,n.score.up)),e.createElement("div",{className:"Button",style:{color:-1===n.score.our_score?"var(--primary-color)":null},onClick:u.vote.bind(null,-1)},e.createElement(e_,null),e.createElement("div",null,-n.score.down)),e.createElement("div",{className:"Button",style:{color:n.is_favorited?"var(--red)":null},onClick:u.toggleFavorite},e.createElement(Mb,null),e.createElement("div",null,n.fav_count))),n.description&&e.createElement("div",{className:"PostDescriptionContainer Flex"},e.createElement("div",{className:"PostDescription"},n.description)),e.createElement(M_,{tabs:["Comments","Tags","Details",n.pools.length>0&&"Pool"]},e.createElement(L_,{id:t}),e.createElement("div",{className:"TagsList"},Object.keys(n.tags).filter((e=>n.tags[e].length)).reverse().map((t=>e.createElement("div",{className:"TagCategory",key:t},e.createElement("h2",null,t," - ",n.tags[t].length),e.createElement("div",{className:"Tags"},n.tags[t].map(((t,n)=>e.createElement(b_,{key:n},t)))))))),e.createElement("div",{className:"PostDetails Flex"},e.createElement("div",null,e.createElement("div",{className:"Entry"},e.createElement("h2",null,"Post ID"),e.createElement("div",null,"#",t)),e.createElement("div",{className:"Entry"},e.createElement("h2",null,"Post MD5 Hash"),e.createElement("div",null,n.file.md5)),e.createElement("div",{className:"Entry"},e.createElement("h2",null,"Creation Date"),e.createElement("div",null,n.created_at)),e.createElement("div",{className:"Entry"},e.createElement("h2",null,"Size"),e.createElement("div",null,function(e,t=2){if(0===e)return"N/A";const n=t<0?0:t,r=[" bytes","KB","MB","GB","TB"],i=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,i)).toFixed(n).toLocaleString()+(r[i]??r[r.length-1])}(n.file.size))),e.createElement("div",{className:"Entry"},e.createElement("h2",null,"Width"),e.createElement("div",null,n.file.width," pixels")),e.createElement("div",{className:"Entry"},e.createElement("h2",null,"Height"),e.createElement("div",null,n.file.height," pixels")),e.createElement("div",{className:"Entry"},e.createElement("h2",null,"Sources"),e.createElement("div",null,n.sources.map(((t,n)=>e.createElement("div",{key:n,style:{marginTop:10}},e.createElement("a",{href:t},t)))))))),e.createElement(P_,{prependedTags:`pool:${n.pools[0]}`}))):e.createElement("div",null))}var U_=n(294);function F_({value:e=null,children:t=null,onChange:n=(e=>{})}){const r={onChange:e=>{n(e.target.value)}};return U_.createElement("select",{className:"Dropdown",...r,defaultValue:e},t)}function z_({value:e,children:t}){return U_.createElement("option",{className:"DropdownItem",value:e},t)}var B_=n(294);function V_({search:t="",searchPlaceholder:n,emptyPlaceholder:r=null}){const i=decodeURIComponent(window.location.href.split("search=")?.[1]);w.useForceUpdater(y.UPDATE_ROUTE);const[o,s]=(0,e.useReducer)((e=>e+1),0),[a,l]=(0,e.useState)(null);return(0,e.useEffect)((()=>(i.startsWith("pool:")?gb.request(`/pools/${i.split(":")[1]}`).then((e=>{l(e)})):l(null),()=>l(null))),[i]),B_.createElement("div",{className:"PostsPage"},B_.createElement(nE,{searchPlaceholder:n}),_E.getLocalUser()&&B_.createElement("div",{className:"Blacklists FlexCenter"},B_.createElement("h2",{className:"Label"},"Blacklist"),B_.createElement(F_,{value:_E.getLocalUser().currentBlacklist,onChange:e=>{if(e.startsWith("action.")){switch(e){case"action.create":ee.push(B_.createElement(iE,null));break;case"action.edit":w.dispatch({type:y.UPDATE_ROUTE,path:"/settings"})}return s()}_E.getLocalUser().currentBlacklist=e,yv.update(yv.doc("users",_E.getLocalUser().uid),{currentBlacklist:e}),w.dispatch({type:y.UPDATE_LOCAL_USER,user:_E.getLocalUser()})},key:v()},B_.createElement(z_,{value:"defaults.none"},"None"),(_E.getLocalUser().blacklists??[]).map((({name:e,tags:t},n)=>B_.createElement(z_,{key:n,value:n},e))),B_.createElement(z_,{value:"action.none"}),B_.createElement(z_,{value:"action.edit"},"EDIT BLACKLISTS"),B_.createElement(z_,{value:"action.create"},"CREATE NEW BLACKLIST"))),a&&B_.createElement("div",{className:"PoolInfo"},B_.createElement("h2",{className:"Name"},B_.createElement("span",null,a.name.split("_").join(" "))," by ",B_.createElement("a",{href:`/posts?search=${a.creator_name}`},a.creator_name)),B_.createElement("p",{className:"Description"},a.description)),_E.getLocalUser()&&B_.createElement(P_,{key:t,prependedTags:t,emptyPlaceholder:r}))}let $_=Date.now();function W_({options:t={}}){const[n,r]=e.useState([]),[i,o]=e.useState(!0),[s,a]=e.useState(""),[l,u]=e.useState(window.location.hash),c=q.useState((()=>q.get("page")))||1,h=q.useState((()=>q.get("query")))||"";return e.useEffect((()=>{gb.request("post_sets",{commit:"Search",page:c,"search[order]":"update","search[name]":`*${h}*`,...t}).then((e=>{if(o(!1),!Array.isArray(e))return;const t=h===s&&kv.getFormattedRoute()[0]===l?[...n,...e]:e;r(t.filter(((e,n)=>t.findIndex((t=>t&&t.id===e.id))===n))),a(h),u(window.location.hash)}))}),[i,c,h]),b("scroll",(()=>{if(Date.now()-$_<2e3||i||!n?.length)return;const e=document.documentElement;e.scrollTop>=e.scrollHeight-window.innerHeight-100&&(q.set("page",parseInt(q.get("page",1))+1,{pushHistory:!1}),$_=Date.now())}),{dependencies:[i,n]}),e.createElement("div",{className:"Sets"},!i&&!n?.length&&e.createElement("div",{className:"NoSets"},e.createElement("div",{className:"Placeholder"},e.createElement("h2",null,"No sets found."),e.createElement("div",null,"Check your search tags, and ensure you've made no typos.")),e.createElement(GE,null)),e.createElement("div",{className:"Items"},n?.map((t=>e.createElement(G,{key:t.id,href:`/posts?search=set:${t.shortname}`},e.createElement("div",{className:"PostSet"},e.createElement("div",{className:"Head"},e.createElement("div",{className:"Title"},t.name),e.createElement("div",{className:"ShortName"},"ID - ",t.shortname," | ",t.id)),t.description&&e.createElement("div",{className:"Description"},t.description)))))),e.createElement("div",{className:m("FetchingStateModal",[i,"Active"])},e.createElement(K,null)))}function q_(){return e.createElement("div",{className:"SetsPage"},e.createElement(nE,{searchPlaceholder:"Search sets..."}),e.createElement(M_,{tabs:["All","Owned","Subscribed"]},e.createElement(W_,null),e.createElement(W_,{options:{"search[creator_name]":_E.getLocalUser()?.username}}),e.createElement("div",{className:"NoSets"},e.createElement("div",{className:"Placeholder"},e.createElement("h2",null,"Not yet added."),e.createElement("div",null,"This feature isn't yet available."),e.createElement("div",null,"However, you can navigate to ",e.createElement("a",{href:"/subscriptions"},"subscriptions")," and search ",e.createElement("b",null,"set:*")),e.createElement("div",null,"This will display all subscribed set posts.")),e.createElement(GE,null))))}function H_(){w.useForceUpdater(y.UPDATE_PAGE);const[t,...n]=kv.getFormattedRoute(),r=_E.useState((()=>_E.getLocalUser()));switch(!1===r?.signedIn&&(~["subscriptions","favorites","settings"].indexOf(t)||location.hash.includes("sign_in"))&&0===ee.instance?.state?.stack?.length&&ee.push(e.createElement(wv,null)),t){default:return e.createElement(tE,null);case"posts":return e.createElement(V_,{searchPlaceholder:"Search posts..."});case"post":return e.createElement(j_,{id:n[0]});case"hot":return e.createElement(V_,{search:"order:rank",searchPlaceholder:"Search hot posts..."});case"popular":return e.createElement(D_,null);case"sets":return e.createElement(q_,null);case"subscriptions":return e.createElement(V_,{search:(r?.subscriptions?.length?r.subscriptions.map((e=>`~${e}`)):["____"]).join(" "),searchPlaceholder:"Search subscriptions...",emptyPlaceholder:e.createElement(e.Fragment,null,e.createElement("h2",null,"No subscribed posts found."),e.createElement("div",null,'You can subscribe to tags by right clicking on them and pressing "Subscribe."'))});case"favorites":return e.createElement(V_,{search:`favoritedby:${r?.e621User?.name}`,searchPlaceholder:"Search favorites...",emptyPlaceholder:e.createElement(e.Fragment,null,e.createElement("h2",null,"No favorited posts found."),e.createElement("div",null,"Check your search tags, as they also apply to favorites."))});case"upvoted":return e.createElement(V_,{search:`votedup:${r?.e621User?.name}`,searchPlaceholder:"Search upvoted posts...",emptyPlaceholder:e.createElement(e.Fragment,null,e.createElement("h2",null,"No upvoted posts found."),e.createElement("div",null,"Check your search tags, as they also apply to upvotes."))});case"settings":return e.createElement(dE,null)}}function K_(){const t=function(t,n){const r=e.useMemo((()=>window.matchMedia(`(${t}: 1200px)`)),[t,n]),[i,o]=e.useState(r.matches);return e.useEffect((()=>{const e=e=>o(e.matches);return r.addEventListener("change",e),()=>r.removeEventListener("change",e)}),[t,n]),i}("max-width",1200),[n,r]=e.useState(!1);return b("scroll",i().debounce((()=>{const{scrollTop:e}=document.documentElement;r(e>window.innerHeight&&!!~["posts","hot","popular","sets","subscriptions","favorites","upvoted"].indexOf(kv.getFormattedRoute()[0]))}),100)),e.createElement("div",{className:m("App",t?"Mobile":"Desktop")},e.createElement("div",{className:"AppBackground"}),e.createElement("div",{className:"Main"},e.createElement(H_,null),e.createElement("div",{className:m("ScrollIndicator","HasTooltip","FlexCenter",[n,"Active"]),onClick:()=>window.scrollTo(0,0,{behavior:"smooth"},r(!1))},e.createElement(u,null))),e.createElement(qE,null),e.createElement(ee,null),e.createElement(p,null),e.createElement(CE.Handler,null),e.createElement(vE,null))}window.history.scrollRestoration="manual",t.render(e.createElement(e.StrictMode,null,e.createElement(K_,null)),document.getElementById("root"))})()})();