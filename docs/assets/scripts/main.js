/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={486:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=32,u=128,c=1/0,h=9007199254740991,d=NaN,f=4294967295,p=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",l],["partialRight",64],["rearg",256]],m="[object Arguments]",g="[object Array]",v="[object Boolean]",y="[object Date]",w="[object Error]",b="[object Function]",E="[object GeneratorFunction]",_="[object Map]",k="[object Number]",T="[object Object]",S="[object Promise]",I="[object RegExp]",C="[object Set]",O="[object String]",N="[object Symbol]",x="[object WeakMap]",A="[object ArrayBuffer]",P="[object DataView]",R="[object Float32Array]",D="[object Float64Array]",L="[object Int8Array]",M="[object Int16Array]",j="[object Int32Array]",U="[object Uint8Array]",F="[object Uint8ClampedArray]",z="[object Uint16Array]",B="[object Uint32Array]",V=/\b__p \+= '';/g,$=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,K=RegExp(q.source),G=RegExp(H.source),Q=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,ie=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ue=/[()=,{}\[\]\/\s]/,ce=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,be=/['\n\r\u2028\u2029\\]/g,Ee="\\ud800-\\udfff",_e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Se="A-Z\\xc0-\\xd6\\xd8-\\xde",Ie="\\ufe0e\\ufe0f",Ce="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Oe="["+Ee+"]",Ne="["+Ce+"]",xe="["+_e+"]",Ae="\\d+",Pe="["+ke+"]",Re="["+Te+"]",De="[^"+Ee+Ce+Ae+ke+Te+Se+"]",Le="\\ud83c[\\udffb-\\udfff]",Me="[^"+Ee+"]",je="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]",Fe="["+Se+"]",ze="\\u200d",Be="(?:"+Re+"|"+De+")",Ve="(?:"+Fe+"|"+De+")",$e="(?:['’](?:d|ll|m|re|s|t|ve))?",We="(?:['’](?:D|LL|M|RE|S|T|VE))?",qe="(?:"+xe+"|"+Le+")?",He="["+Ie+"]?",Ke=He+qe+"(?:"+ze+"(?:"+[Me,je,Ue].join("|")+")"+He+qe+")*",Ge="(?:"+[Pe,je,Ue].join("|")+")"+Ke,Qe="(?:"+[Me+xe+"?",xe,je,Ue,Oe].join("|")+")",Ye=RegExp("['’]","g"),Xe=RegExp(xe,"g"),Je=RegExp(Le+"(?="+Le+")|"+Qe+Ke,"g"),Ze=RegExp([Fe+"?"+Re+"+"+$e+"(?="+[Ne,Fe,"$"].join("|")+")",Ve+"+"+We+"(?="+[Ne,Fe+Be,"$"].join("|")+")",Fe+"?"+Be+"+"+$e,Fe+"+"+We,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ae,Ge].join("|"),"g"),et=RegExp("["+ze+Ee+_e+Ie+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,it={};it[R]=it[D]=it[L]=it[M]=it[j]=it[U]=it[F]=it[z]=it[B]=!0,it[m]=it[g]=it[A]=it[v]=it[P]=it[y]=it[w]=it[b]=it[_]=it[k]=it[T]=it[I]=it[C]=it[O]=it[x]=!1;var ot={};ot[m]=ot[g]=ot[A]=ot[P]=ot[v]=ot[y]=ot[R]=ot[D]=ot[L]=ot[M]=ot[j]=ot[_]=ot[k]=ot[T]=ot[I]=ot[C]=ot[O]=ot[N]=ot[U]=ot[F]=ot[z]=ot[B]=!0,ot[w]=ot[b]=ot[x]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,lt=parseInt,ut="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ct="object"==typeof self&&self&&self.Object===Object&&self,ht=ut||ct||Function("return this")(),dt=t&&!t.nodeType&&t,ft=dt&&e&&!e.nodeType&&e,pt=ft&&ft.exports===dt,mt=pt&&ut.process,gt=function(){try{return ft&&ft.require&&ft.require("util").types||mt&&mt.binding&&mt.binding("util")}catch(e){}}(),vt=gt&&gt.isArrayBuffer,yt=gt&&gt.isDate,wt=gt&&gt.isMap,bt=gt&&gt.isRegExp,Et=gt&&gt.isSet,_t=gt&&gt.isTypedArray;function kt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Tt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function St(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function It(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Nt(e,t){return!(null==e||!e.length)&&Ft(e,t,0)>-1}function xt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function At(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Pt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Rt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Dt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Mt=$t("length");function jt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Ut(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Ft(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Ut(e,Bt,n)}function zt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Bt(e){return e!=e}function Vt(e,t){var n=null==e?0:e.length;return n?Ht(e,t)/n:d}function $t(e){return function(t){return null==t?i:t[e]}}function Wt(e){return function(t){return null==e?i:e[t]}}function qt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Ht(e,t){for(var n,r=-1,o=e.length;++r<o;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function Kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Gt(e){return e?e.slice(0,dn(e)+1).replace(re,""):e}function Qt(e){return function(t){return e(t)}}function Yt(e,t){return At(t,(function(t){return e[t]}))}function Xt(e,t){return e.has(t)}function Jt(e,t){for(var n=-1,r=e.length;++n<r&&Ft(t,e[n],0)>-1;);return n}function Zt(e,t){for(var n=e.length;n--&&Ft(t,e[n],0)>-1;);return n}var en=Wt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tn=Wt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(e){return"\\"+st[e]}function rn(e){return et.test(e)}function on(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function sn(e,t){return function(n){return e(t(n))}}function an(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function cn(e){return rn(e)?function(e){for(var t=Je.lastIndex=0;Je.test(e);)++t;return t}(e):Mt(e)}function hn(e){return rn(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.split("")}(e)}function dn(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var fn=Wt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pn=function e(t){var n,r=(t=null==t?ht:pn.defaults(ht.Object(),t,pn.pick(ht,nt))).Array,ie=t.Date,Ee=t.Error,_e=t.Function,ke=t.Math,Te=t.Object,Se=t.RegExp,Ie=t.String,Ce=t.TypeError,Oe=r.prototype,Ne=_e.prototype,xe=Te.prototype,Ae=t["__core-js_shared__"],Pe=Ne.toString,Re=xe.hasOwnProperty,De=0,Le=(n=/[^.]+$/.exec(Ae&&Ae.keys&&Ae.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Me=xe.toString,je=Pe.call(Te),Ue=ht._,Fe=Se("^"+Pe.call(Re).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=pt?t.Buffer:i,Be=t.Symbol,Ve=t.Uint8Array,$e=ze?ze.allocUnsafe:i,We=sn(Te.getPrototypeOf,Te),qe=Te.create,He=xe.propertyIsEnumerable,Ke=Oe.splice,Ge=Be?Be.isConcatSpreadable:i,Qe=Be?Be.iterator:i,Je=Be?Be.toStringTag:i,et=function(){try{var e=lo(Te,"defineProperty");return e({},"",{}),e}catch(e){}}(),st=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,ut=ie&&ie.now!==ht.Date.now&&ie.now,ct=t.setTimeout!==ht.setTimeout&&t.setTimeout,dt=ke.ceil,ft=ke.floor,mt=Te.getOwnPropertySymbols,gt=ze?ze.isBuffer:i,Mt=t.isFinite,Wt=Oe.join,mn=sn(Te.keys,Te),gn=ke.max,vn=ke.min,yn=ie.now,wn=t.parseInt,bn=ke.random,En=Oe.reverse,_n=lo(t,"DataView"),kn=lo(t,"Map"),Tn=lo(t,"Promise"),Sn=lo(t,"Set"),In=lo(t,"WeakMap"),Cn=lo(Te,"create"),On=In&&new In,Nn={},xn=jo(_n),An=jo(kn),Pn=jo(Tn),Rn=jo(Sn),Dn=jo(In),Ln=Be?Be.prototype:i,Mn=Ln?Ln.valueOf:i,jn=Ln?Ln.toString:i;function Un(e){if(ea(e)&&!$s(e)&&!(e instanceof Vn)){if(e instanceof Bn)return e;if(Re.call(e,"__wrapped__"))return Uo(e)}return new Bn(e)}var Fn=function(){function e(){}return function(t){if(!Zs(t))return{};if(qe)return qe(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function zn(){}function Bn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function $n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Wn(e);this.size=t.size}function Gn(e,t){var n=$s(e),r=!n&&Vs(e),i=!n&&!r&&Ks(e),o=!n&&!r&&!i&&la(e),s=n||r||i||o,a=s?Kt(e.length,Ie):[],l=a.length;for(var u in e)!t&&!Re.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||go(u,l))||a.push(u);return a}function Qn(e){var t=e.length;return t?e[qr(0,t-1)]:i}function Yn(e,t){return Po(Ii(e),or(t,0,e.length))}function Xn(e){return Po(Ii(e))}function Jn(e,t,n){(n!==i&&!Fs(e[t],n)||n===i&&!(t in e))&&rr(e,t,n)}function Zn(e,t,n){var r=e[t];Re.call(e,t)&&Fs(r,n)&&(n!==i||t in e)||rr(e,t,n)}function er(e,t){for(var n=e.length;n--;)if(Fs(e[n][0],t))return n;return-1}function tr(e,t,n,r){return cr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function nr(e,t){return e&&Ci(t,xa(t),e)}function rr(e,t,n){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ir(e,t){for(var n=-1,o=t.length,s=r(o),a=null==e;++n<o;)s[n]=a?i:Sa(e,t[n]);return s}function or(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function sr(e,t,n,r,o,s){var a,l=1&t,u=2&t,c=4&t;if(n&&(a=o?n(e,r,o,s):n(e)),a!==i)return a;if(!Zs(e))return e;var h=$s(e);if(h){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return Ii(e,a)}else{var d=ho(e),f=d==b||d==E;if(Ks(e))return bi(e,l);if(d==T||d==m||f&&!o){if(a=u||f?{}:po(e),!l)return u?function(e,t){return Ci(e,co(e),t)}(e,function(e,t){return e&&Ci(t,Aa(t),e)}(a,e)):function(e,t){return Ci(e,uo(e),t)}(e,nr(a,e))}else{if(!ot[d])return o?e:{};a=function(e,t,n){var r,i=e.constructor;switch(t){case A:return Ei(e);case v:case y:return new i(+e);case P:return function(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case R:case D:case L:case M:case j:case U:case F:case z:case B:return _i(e,n);case _:return new i;case k:case O:return new i(e);case I:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case C:return new i;case N:return r=e,Mn?Te(Mn.call(r)):{}}}(e,d,l)}}s||(s=new Kn);var p=s.get(e);if(p)return p;s.set(e,a),oa(e)?e.forEach((function(r){a.add(sr(r,t,n,r,e,s))})):ta(e)&&e.forEach((function(r,i){a.set(i,sr(r,t,n,i,e,s))}));var g=h?i:(c?u?to:eo:u?Aa:xa)(e);return St(g||e,(function(r,i){g&&(r=e[i=r]),Zn(a,i,sr(r,t,n,i,e,s))})),a}function ar(e,t,n){var r=n.length;if(null==e)return!r;for(e=Te(e);r--;){var o=n[r],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function lr(e,t,n){if("function"!=typeof e)throw new Ce(o);return Oo((function(){e.apply(i,n)}),t)}function ur(e,t,n,r){var i=-1,o=Nt,s=!0,a=e.length,l=[],u=t.length;if(!a)return l;n&&(t=At(t,Qt(n))),r?(o=xt,s=!1):t.length>=200&&(o=Xt,s=!1,t=new Hn(t));e:for(;++i<a;){var c=e[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,s&&h==h){for(var d=u;d--;)if(t[d]===h)continue e;l.push(c)}else o(t,h,r)||l.push(c)}return l}Un.templateSettings={escape:Q,evaluate:Y,interpolate:X,variable:"",imports:{_:Un}},Un.prototype=zn.prototype,Un.prototype.constructor=Un,Bn.prototype=Fn(zn.prototype),Bn.prototype.constructor=Bn,Vn.prototype=Fn(zn.prototype),Vn.prototype.constructor=Vn,$n.prototype.clear=function(){this.__data__=Cn?Cn(null):{},this.size=0},$n.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},$n.prototype.get=function(e){var t=this.__data__;if(Cn){var n=t[e];return n===s?i:n}return Re.call(t,e)?t[e]:i},$n.prototype.has=function(e){var t=this.__data__;return Cn?t[e]!==i:Re.call(t,e)},$n.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Cn&&t===i?s:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=er(t,e);return!(n<0||(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,0))},Wn.prototype.get=function(e){var t=this.__data__,n=er(t,e);return n<0?i:t[n][1]},Wn.prototype.has=function(e){return er(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,r=er(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},qn.prototype.clear=function(){this.size=0,this.__data__={hash:new $n,map:new(kn||Wn),string:new $n}},qn.prototype.delete=function(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t},qn.prototype.get=function(e){return so(this,e).get(e)},qn.prototype.has=function(e){return so(this,e).has(e)},qn.prototype.set=function(e,t){var n=so(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Hn.prototype.add=Hn.prototype.push=function(e){return this.__data__.set(e,s),this},Hn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!kn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new qn(r)}return n.set(e,t),this.size=n.size,this};var cr=xi(yr),hr=xi(wr,!0);function dr(e,t){var n=!0;return cr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function fr(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(l===i?a==a&&!aa(a):n(a,l)))var l=a,u=s}return u}function pr(e,t){var n=[];return cr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function mr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=mo),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?mr(a,t-1,n,r,i):Pt(i,a):r||(i[i.length]=a)}return i}var gr=Ai(),vr=Ai(!0);function yr(e,t){return e&&gr(e,t,xa)}function wr(e,t){return e&&vr(e,t,xa)}function br(e,t){return Ot(t,(function(t){return Ys(e[t])}))}function Er(e,t){for(var n=0,r=(t=gi(t,e)).length;null!=e&&n<r;)e=e[Mo(t[n++])];return n&&n==r?e:i}function _r(e,t,n){var r=t(e);return $s(e)?r:Pt(r,n(e))}function kr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Je&&Je in Te(e)?function(e){var t=Re.call(e,Je),n=e[Je];try{e[Je]=i;var r=!0}catch(e){}var o=Me.call(e);return r&&(t?e[Je]=n:delete e[Je]),o}(e):function(e){return Me.call(e)}(e)}function Tr(e,t){return e>t}function Sr(e,t){return null!=e&&Re.call(e,t)}function Ir(e,t){return null!=e&&t in Te(e)}function Cr(e,t,n){for(var o=n?xt:Nt,s=e[0].length,a=e.length,l=a,u=r(a),c=1/0,h=[];l--;){var d=e[l];l&&t&&(d=At(d,Qt(t))),c=vn(d.length,c),u[l]=!n&&(t||s>=120&&d.length>=120)?new Hn(l&&d):i}d=e[0];var f=-1,p=u[0];e:for(;++f<s&&h.length<c;){var m=d[f],g=t?t(m):m;if(m=n||0!==m?m:0,!(p?Xt(p,g):o(h,g,n))){for(l=a;--l;){var v=u[l];if(!(v?Xt(v,g):o(e[l],g,n)))continue e}p&&p.push(g),h.push(m)}}return h}function Or(e,t,n){var r=null==(e=So(e,t=gi(t,e)))?e:e[Mo(Qo(t))];return null==r?i:kt(r,e,n)}function Nr(e){return ea(e)&&kr(e)==m}function xr(e,t,n,r,o){return e===t||(null==e||null==t||!ea(e)&&!ea(t)?e!=e&&t!=t:function(e,t,n,r,o,s){var a=$s(e),l=$s(t),u=a?g:ho(e),c=l?g:ho(t),h=(u=u==m?T:u)==T,d=(c=c==m?T:c)==T,f=u==c;if(f&&Ks(e)){if(!Ks(t))return!1;a=!0,h=!1}if(f&&!h)return s||(s=new Kn),a||la(e)?Ji(e,t,n,r,o,s):function(e,t,n,r,i,o,s){switch(n){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case A:return!(e.byteLength!=t.byteLength||!o(new Ve(e),new Ve(t)));case v:case y:case k:return Fs(+e,+t);case w:return e.name==t.name&&e.message==t.message;case I:case O:return e==t+"";case _:var a=on;case C:var l=1&r;if(a||(a=ln),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;r|=2,s.set(e,t);var c=Ji(a(e),a(t),r,i,o,s);return s.delete(e),c;case N:if(Mn)return Mn.call(e)==Mn.call(t)}return!1}(e,t,u,n,r,o,s);if(!(1&n)){var p=h&&Re.call(e,"__wrapped__"),b=d&&Re.call(t,"__wrapped__");if(p||b){var E=p?e.value():e,S=b?t.value():t;return s||(s=new Kn),o(E,S,n,r,s)}}return!!f&&(s||(s=new Kn),function(e,t,n,r,o,s){var a=1&n,l=eo(e),u=l.length;if(u!=eo(t).length&&!a)return!1;for(var c=u;c--;){var h=l[c];if(!(a?h in t:Re.call(t,h)))return!1}var d=s.get(e),f=s.get(t);if(d&&f)return d==t&&f==e;var p=!0;s.set(e,t),s.set(t,e);for(var m=a;++c<u;){var g=e[h=l[c]],v=t[h];if(r)var y=a?r(v,g,h,t,e,s):r(g,v,h,e,t,s);if(!(y===i?g===v||o(g,v,n,r,s):y)){p=!1;break}m||(m="constructor"==h)}if(p&&!m){var w=e.constructor,b=t.constructor;w==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,n,r,o,s))}(e,t,n,r,xr,o))}function Ar(e,t,n,r){var o=n.length,s=o,a=!r;if(null==e)return!s;for(e=Te(e);o--;){var l=n[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){var u=(l=n[o])[0],c=e[u],h=l[1];if(a&&l[2]){if(c===i&&!(u in e))return!1}else{var d=new Kn;if(r)var f=r(c,h,u,e,t,d);if(!(f===i?xr(h,c,3,r,d):f))return!1}}return!0}function Pr(e){return!(!Zs(e)||(t=e,Le&&Le in t))&&(Ys(e)?Fe:me).test(jo(e));var t}function Rr(e){return"function"==typeof e?e:null==e?nl:"object"==typeof e?$s(e)?Ur(e[0],e[1]):jr(e):hl(e)}function Dr(e){if(!Eo(e))return mn(e);var t=[];for(var n in Te(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lr(e,t){return e<t}function Mr(e,t){var n=-1,i=qs(e)?r(e.length):[];return cr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function jr(e){var t=ao(e);return 1==t.length&&t[0][2]?ko(t[0][0],t[0][1]):function(n){return n===e||Ar(n,e,t)}}function Ur(e,t){return yo(e)&&_o(t)?ko(Mo(e),t):function(n){var r=Sa(n,e);return r===i&&r===t?Ia(n,e):xr(t,r,3)}}function Fr(e,t,n,r,o){e!==t&&gr(t,(function(s,a){if(o||(o=new Kn),Zs(s))!function(e,t,n,r,o,s,a){var l=Io(e,n),u=Io(t,n),c=a.get(u);if(c)Jn(e,n,c);else{var h=s?s(l,u,n+"",e,t,a):i,d=h===i;if(d){var f=$s(u),p=!f&&Ks(u),m=!f&&!p&&la(u);h=u,f||p||m?$s(l)?h=l:Hs(l)?h=Ii(l):p?(d=!1,h=bi(u,!0)):m?(d=!1,h=_i(u,!0)):h=[]:ra(u)||Vs(u)?(h=l,Vs(l)?h=ga(l):Zs(l)&&!Ys(l)||(h=po(u))):d=!1}d&&(a.set(u,h),o(h,u,r,s,a),a.delete(u)),Jn(e,n,h)}}(e,t,a,n,Fr,r,o);else{var l=r?r(Io(e,a),s,a+"",e,t,o):i;l===i&&(l=s),Jn(e,a,l)}}),Aa)}function zr(e,t){var n=e.length;if(n)return go(t+=t<0?n:0,n)?e[t]:i}function Br(e,t,n){t=t.length?At(t,(function(e){return $s(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e})):[nl];var r=-1;t=At(t,Qt(oo()));var i=Mr(e,(function(e,n,i){var o=At(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var r=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var l=ki(i[r],o[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));r--;)e[r]=e[r].value;return e}(i)}function Vr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=Er(e,s);n(a,s)&&Yr(o,gi(s,e),a)}return o}function $r(e,t,n,r){var i=r?zt:Ft,o=-1,s=t.length,a=e;for(e===t&&(t=Ii(t)),n&&(a=At(e,Qt(n)));++o<s;)for(var l=0,u=t[o],c=n?n(u):u;(l=i(a,c,l,r))>-1;)a!==e&&Ke.call(a,l,1),Ke.call(e,l,1);return e}function Wr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;go(i)?Ke.call(e,i,1):li(e,i)}}return e}function qr(e,t){return e+ft(bn()*(t-e+1))}function Hr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=ft(t/2))&&(e+=e)}while(t);return n}function Kr(e,t){return No(To(e,t,nl),e+"")}function Gr(e){return Qn(Fa(e))}function Qr(e,t){var n=Fa(e);return Po(n,or(t,0,n.length))}function Yr(e,t,n,r){if(!Zs(e))return e;for(var o=-1,s=(t=gi(t,e)).length,a=s-1,l=e;null!=l&&++o<s;){var u=Mo(t[o]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=a){var h=l[u];(c=r?r(h,u,l):i)===i&&(c=Zs(h)?h:go(t[o+1])?[]:{})}Zn(l,u,c),l=l[u]}return e}var Xr=On?function(e,t){return On.set(e,t),e}:nl,Jr=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Za(t),writable:!0})}:nl;function Zr(e){return Po(Fa(e))}function ei(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function ti(e,t){var n;return cr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ni(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!aa(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return ri(e,t,nl,n)}function ri(e,t,n,r){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,l=null===t,u=aa(t),c=t===i;o<s;){var h=ft((o+s)/2),d=n(e[h]),f=d!==i,p=null===d,m=d==d,g=aa(d);if(a)var v=r||m;else v=c?m&&(r||f):l?m&&f&&(r||!p):u?m&&f&&!p&&(r||!g):!p&&!g&&(r?d<=t:d<t);v?o=h+1:s=h}return vn(s,4294967294)}function ii(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Fs(a,l)){var l=a;o[i++]=0===s?0:s}}return o}function oi(e){return"number"==typeof e?e:aa(e)?d:+e}function si(e){if("string"==typeof e)return e;if($s(e))return At(e,si)+"";if(aa(e))return jn?jn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ai(e,t,n){var r=-1,i=Nt,o=e.length,s=!0,a=[],l=a;if(n)s=!1,i=xt;else if(o>=200){var u=t?null:Hi(e);if(u)return ln(u);s=!1,i=Xt,l=new Hn}else l=t?[]:a;e:for(;++r<o;){var c=e[r],h=t?t(c):c;if(c=n||0!==c?c:0,s&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),a.push(c)}else i(l,h,n)||(l!==a&&l.push(h),a.push(c))}return a}function li(e,t){return null==(e=So(e,t=gi(t,e)))||delete e[Mo(Qo(t))]}function ui(e,t,n,r){return Yr(e,t,n(Er(e,t)),r)}function ci(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ei(e,r?0:o,r?o+1:i):ei(e,r?o+1:0,r?i:o)}function hi(e,t){var n=e;return n instanceof Vn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,Pt([e],t.args))}),n)}function di(e,t,n){var i=e.length;if(i<2)return i?ai(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],l=-1;++l<i;)l!=o&&(s[o]=ur(s[o]||a,e[l],t,n));return ai(mr(s,1),t,n)}function fi(e,t,n){for(var r=-1,o=e.length,s=t.length,a={};++r<o;){var l=r<s?t[r]:i;n(a,e[r],l)}return a}function pi(e){return Hs(e)?e:[]}function mi(e){return"function"==typeof e?e:nl}function gi(e,t){return $s(e)?e:yo(e,t)?[e]:Lo(va(e))}var vi=Kr;function yi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ei(e,t,n)}var wi=st||function(e){return ht.clearTimeout(e)};function bi(e,t){if(t)return e.slice();var n=e.length,r=$e?$e(n):new e.constructor(n);return e.copy(r),r}function Ei(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function _i(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ki(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,s=aa(e),a=t!==i,l=null===t,u=t==t,c=aa(t);if(!l&&!c&&!s&&e>t||s&&a&&u&&!l&&!c||r&&a&&u||!n&&u||!o)return 1;if(!r&&!s&&!c&&e<t||c&&n&&o&&!r&&!s||l&&n&&o||!a&&o||!u)return-1}return 0}function Ti(e,t,n,i){for(var o=-1,s=e.length,a=n.length,l=-1,u=t.length,c=gn(s-a,0),h=r(u+c),d=!i;++l<u;)h[l]=t[l];for(;++o<a;)(d||o<s)&&(h[n[o]]=e[o]);for(;c--;)h[l++]=e[o++];return h}function Si(e,t,n,i){for(var o=-1,s=e.length,a=-1,l=n.length,u=-1,c=t.length,h=gn(s-l,0),d=r(h+c),f=!i;++o<h;)d[o]=e[o];for(var p=o;++u<c;)d[p+u]=t[u];for(;++a<l;)(f||o<s)&&(d[p+n[a]]=e[o++]);return d}function Ii(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Ci(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var l=t[s],u=r?r(n[l],e[l],l,n,e):i;u===i&&(u=e[l]),o?rr(n,l,u):Zn(n,l,u)}return n}function Oi(e,t){return function(n,r){var i=$s(n)?Tt:tr,o=t?t():{};return i(n,e,oo(r,2),o)}}function Ni(e){return Kr((function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&vo(n[0],n[1],a)&&(s=o<3?i:s,o=1),t=Te(t);++r<o;){var l=n[r];l&&e(t,l,r,s)}return t}))}function xi(e,t){return function(n,r){if(null==n)return n;if(!qs(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Te(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ai(e){return function(t,n,r){for(var i=-1,o=Te(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}function Pi(e){return function(t){var n=rn(t=va(t))?hn(t):i,r=n?n[0]:t.charAt(0),o=n?yi(n,1).join(""):t.slice(1);return r[e]()+o}}function Ri(e){return function(t){return Rt(Ya(Va(t).replace(Ye,"")),e,"")}}function Di(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Fn(e.prototype),r=e.apply(n,t);return Zs(r)?r:n}}function Li(e){return function(t,n,r){var o=Te(t);if(!qs(t)){var s=oo(n,3);t=xa(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[s?t[a]:a]:i}}function Mi(e){return Zi((function(t){var n=t.length,r=n,s=Bn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Ce(o);if(s&&!l&&"wrapper"==ro(a))var l=new Bn([],!0)}for(r=l?r:n;++r<n;){var u=ro(a=t[r]),c="wrapper"==u?no(a):i;l=c&&wo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[ro(c[0])].apply(l,c[3]):1==a.length&&wo(a)?l[u]():l.thru(a)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&$s(r))return l.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function ji(e,t,n,o,s,a,l,c,h,d){var f=t&u,p=1&t,m=2&t,g=24&t,v=512&t,y=m?i:Di(e);return function u(){for(var w=arguments.length,b=r(w),E=w;E--;)b[E]=arguments[E];if(g)var _=io(u),k=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,_);if(o&&(b=Ti(b,o,s,g)),a&&(b=Si(b,a,l,g)),w-=k,g&&w<d){var T=an(b,_);return Wi(e,t,ji,u.placeholder,n,b,T,c,h,d-w)}var S=p?n:this,I=m?S[e]:e;return w=b.length,c?b=function(e,t){for(var n=e.length,r=vn(t.length,n),o=Ii(e);r--;){var s=t[r];e[r]=go(s,n)?o[s]:i}return e}(b,c):v&&w>1&&b.reverse(),f&&h<w&&(b.length=h),this&&this!==ht&&this instanceof u&&(I=y||Di(I)),I.apply(S,b)}}function Ui(e,t){return function(n,r){return function(e,t,n,r){return yr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Fi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=oi(n),r=oi(r)),o=e(n,r)}return o}}function zi(e){return Zi((function(t){return t=At(t,Qt(oo())),Kr((function(n){var r=this;return e(t,(function(e){return kt(e,r,n)}))}))}))}function Bi(e,t){var n=(t=t===i?" ":si(t)).length;if(n<2)return n?Hr(t,e):t;var r=Hr(t,dt(e/cn(t)));return rn(t)?yi(hn(r),0,e).join(""):r.slice(0,e)}function Vi(e){return function(t,n,o){return o&&"number"!=typeof o&&vo(t,n,o)&&(n=o=i),t=da(t),n===i?(n=t,t=0):n=da(n),function(e,t,n,i){for(var o=-1,s=gn(dt((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,o=o===i?t<n?1:-1:da(o),e)}}function $i(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ma(t),n=ma(n)),e(t,n)}}function Wi(e,t,n,r,o,s,a,u,c,h){var d=8&t;t|=d?l:64,4&(t&=~(d?64:l))||(t&=-4);var f=[e,t,o,d?s:i,d?a:i,d?i:s,d?i:a,u,c,h],p=n.apply(i,f);return wo(e)&&Co(p,f),p.placeholder=r,xo(p,e,t)}function qi(e){var t=ke[e];return function(e,n){if(e=ma(e),(n=null==n?0:vn(fa(n),292))&&Mt(e)){var r=(va(e)+"e").split("e");return+((r=(va(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Hi=Sn&&1/ln(new Sn([,-0]))[1]==c?function(e){return new Sn(e)}:al;function Ki(e){return function(t){var n=ho(t);return n==_?on(t):n==C?un(t):function(e,t){return At(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Gi(e,t,n,s,c,h,d,f){var p=2&t;if(!p&&"function"!=typeof e)throw new Ce(o);var m=s?s.length:0;if(m||(t&=-97,s=c=i),d=d===i?d:gn(fa(d),0),f=f===i?f:fa(f),m-=c?c.length:0,64&t){var g=s,v=c;s=c=i}var y=p?i:no(e),w=[e,t,n,s,c,g,v,h,d,f];if(y&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==u&&8==n||r==u&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?Ti(c,l,t[4]):l,e[4]=c?an(e[3],a):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Si(c,l,t[6]):l,e[6]=c?an(e[5],a):t[6]),(l=t[7])&&(e[7]=l),r&u&&(e[8]=null==e[8]?t[8]:vn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(w,y),e=w[0],t=w[1],n=w[2],s=w[3],c=w[4],!(f=w[9]=w[9]===i?p?0:e.length:gn(w[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)b=8==t||16==t?function(e,t,n){var o=Di(e);return function s(){for(var a=arguments.length,l=r(a),u=a,c=io(s);u--;)l[u]=arguments[u];var h=a<3&&l[0]!==c&&l[a-1]!==c?[]:an(l,c);return(a-=h.length)<n?Wi(e,t,ji,s.placeholder,i,l,h,i,i,n-a):kt(this&&this!==ht&&this instanceof s?o:e,this,l)}}(e,t,f):t!=l&&33!=t||c.length?ji.apply(i,w):function(e,t,n,i){var o=1&t,s=Di(e);return function t(){for(var a=-1,l=arguments.length,u=-1,c=i.length,h=r(c+l),d=this&&this!==ht&&this instanceof t?s:e;++u<c;)h[u]=i[u];for(;l--;)h[u++]=arguments[++a];return kt(d,o?n:this,h)}}(e,t,n,s);else var b=function(e,t,n){var r=1&t,i=Di(e);return function t(){return(this&&this!==ht&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return xo((y?Xr:Co)(b,w),e,t)}function Qi(e,t,n,r){return e===i||Fs(e,xe[n])&&!Re.call(r,n)?t:e}function Yi(e,t,n,r,o,s){return Zs(e)&&Zs(t)&&(s.set(t,e),Fr(e,t,i,Yi,s),s.delete(t)),e}function Xi(e){return ra(e)?i:e}function Ji(e,t,n,r,o,s){var a=1&n,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var c=s.get(e),h=s.get(t);if(c&&h)return c==t&&h==e;var d=-1,f=!0,p=2&n?new Hn:i;for(s.set(e,t),s.set(t,e);++d<l;){var m=e[d],g=t[d];if(r)var v=a?r(g,m,d,t,e,s):r(m,g,d,e,t,s);if(v!==i){if(v)continue;f=!1;break}if(p){if(!Lt(t,(function(e,t){if(!Xt(p,t)&&(m===e||o(m,e,n,r,s)))return p.push(t)}))){f=!1;break}}else if(m!==g&&!o(m,g,n,r,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function Zi(e){return No(To(e,i,Wo),e+"")}function eo(e){return _r(e,xa,uo)}function to(e){return _r(e,Aa,co)}var no=On?function(e){return On.get(e)}:al;function ro(e){for(var t=e.name+"",n=Nn[t],r=Re.call(Nn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function io(e){return(Re.call(Un,"placeholder")?Un:e).placeholder}function oo(){var e=Un.iteratee||rl;return e=e===rl?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function so(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ao(e){for(var t=xa(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,_o(i)]}return t}function lo(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Pr(n)?n:i}var uo=mt?function(e){return null==e?[]:(e=Te(e),Ot(mt(e),(function(t){return He.call(e,t)})))}:pl,co=mt?function(e){for(var t=[];e;)Pt(t,uo(e)),e=We(e);return t}:pl,ho=kr;function fo(e,t,n){for(var r=-1,i=(t=gi(t,e)).length,o=!1;++r<i;){var s=Mo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Js(i)&&go(s,i)&&($s(e)||Vs(e))}function po(e){return"function"!=typeof e.constructor||Eo(e)?{}:Fn(We(e))}function mo(e){return $s(e)||Vs(e)||!!(Ge&&e&&e[Ge])}function go(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&ve.test(e))&&e>-1&&e%1==0&&e<t}function vo(e,t,n){if(!Zs(n))return!1;var r=typeof t;return!!("number"==r?qs(n)&&go(t,n.length):"string"==r&&t in n)&&Fs(n[t],e)}function yo(e,t){if($s(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!aa(e))||Z.test(e)||!J.test(e)||null!=t&&e in Te(t)}function wo(e){var t=ro(e),n=Un[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=no(n);return!!r&&e===r[0]}(_n&&ho(new _n(new ArrayBuffer(1)))!=P||kn&&ho(new kn)!=_||Tn&&ho(Tn.resolve())!=S||Sn&&ho(new Sn)!=C||In&&ho(new In)!=x)&&(ho=function(e){var t=kr(e),n=t==T?e.constructor:i,r=n?jo(n):"";if(r)switch(r){case xn:return P;case An:return _;case Pn:return S;case Rn:return C;case Dn:return x}return t});var bo=Ae?Ys:ml;function Eo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||xe)}function _o(e){return e==e&&!Zs(e)}function ko(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in Te(n))}}function To(e,t,n){return t=gn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=gn(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var l=r(t+1);++o<t;)l[o]=i[o];return l[t]=n(a),kt(e,this,l)}}function So(e,t){return t.length<2?e:Er(e,ei(t,0,-1))}function Io(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Co=Ao(Xr),Oo=ct||function(e,t){return ht.setTimeout(e,t)},No=Ao(Jr);function xo(e,t,n){var r=t+"";return No(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return St(p,(function(n){var r="_."+n[0];t&n[1]&&!Nt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ae):[]}(r),n)))}function Ao(e){var t=0,n=0;return function(){var r=yn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Po(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var s=qr(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Ro,Do,Lo=(Ro=Rs((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,i){t.push(r?i.replace(ce,"$1"):n||e)})),t}),(function(e){return 500===Do.size&&Do.clear(),e})),Do=Ro.cache,Ro);function Mo(e){if("string"==typeof e||aa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function jo(e){if(null!=e){try{return Pe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Uo(e){if(e instanceof Vn)return e.clone();var t=new Bn(e.__wrapped__,e.__chain__);return t.__actions__=Ii(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Fo=Kr((function(e,t){return Hs(e)?ur(e,mr(t,1,Hs,!0)):[]})),zo=Kr((function(e,t){var n=Qo(t);return Hs(n)&&(n=i),Hs(e)?ur(e,mr(t,1,Hs,!0),oo(n,2)):[]})),Bo=Kr((function(e,t){var n=Qo(t);return Hs(n)&&(n=i),Hs(e)?ur(e,mr(t,1,Hs,!0),i,n):[]}));function Vo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:fa(n);return i<0&&(i=gn(r+i,0)),Ut(e,oo(t,3),i)}function $o(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=fa(n),o=n<0?gn(r+o,0):vn(o,r-1)),Ut(e,oo(t,3),o,!0)}function Wo(e){return null!=e&&e.length?mr(e,1):[]}function qo(e){return e&&e.length?e[0]:i}var Ho=Kr((function(e){var t=At(e,pi);return t.length&&t[0]===e[0]?Cr(t):[]})),Ko=Kr((function(e){var t=Qo(e),n=At(e,pi);return t===Qo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Cr(n,oo(t,2)):[]})),Go=Kr((function(e){var t=Qo(e),n=At(e,pi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Cr(n,i,t):[]}));function Qo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Yo=Kr(Xo);function Xo(e,t){return e&&e.length&&t&&t.length?$r(e,t):e}var Jo=Zi((function(e,t){var n=null==e?0:e.length,r=ir(e,t);return Wr(e,At(t,(function(e){return go(e,n)?+e:e})).sort(ki)),r}));function Zo(e){return null==e?e:En.call(e)}var es=Kr((function(e){return ai(mr(e,1,Hs,!0))})),ts=Kr((function(e){var t=Qo(e);return Hs(t)&&(t=i),ai(mr(e,1,Hs,!0),oo(t,2))})),ns=Kr((function(e){var t=Qo(e);return t="function"==typeof t?t:i,ai(mr(e,1,Hs,!0),i,t)}));function rs(e){if(!e||!e.length)return[];var t=0;return e=Ot(e,(function(e){if(Hs(e))return t=gn(e.length,t),!0})),Kt(t,(function(t){return At(e,$t(t))}))}function is(e,t){if(!e||!e.length)return[];var n=rs(e);return null==t?n:At(n,(function(e){return kt(t,i,e)}))}var os=Kr((function(e,t){return Hs(e)?ur(e,t):[]})),ss=Kr((function(e){return di(Ot(e,Hs))})),as=Kr((function(e){var t=Qo(e);return Hs(t)&&(t=i),di(Ot(e,Hs),oo(t,2))})),ls=Kr((function(e){var t=Qo(e);return t="function"==typeof t?t:i,di(Ot(e,Hs),i,t)})),us=Kr(rs),cs=Kr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,is(e,n)}));function hs(e){var t=Un(e);return t.__chain__=!0,t}function ds(e,t){return t(e)}var fs=Zi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return ir(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&go(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ds,args:[o],thisArg:i}),new Bn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),ps=Oi((function(e,t,n){Re.call(e,n)?++e[n]:rr(e,n,1)})),ms=Li(Vo),gs=Li($o);function vs(e,t){return($s(e)?St:cr)(e,oo(t,3))}function ys(e,t){return($s(e)?It:hr)(e,oo(t,3))}var ws=Oi((function(e,t,n){Re.call(e,n)?e[n].push(t):rr(e,n,[t])})),bs=Kr((function(e,t,n){var i=-1,o="function"==typeof t,s=qs(e)?r(e.length):[];return cr(e,(function(e){s[++i]=o?kt(t,e,n):Or(e,t,n)})),s})),Es=Oi((function(e,t,n){rr(e,n,t)}));function _s(e,t){return($s(e)?At:Mr)(e,oo(t,3))}var ks=Oi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Ts=Kr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&vo(e,t[0],t[1])?t=[]:n>2&&vo(t[0],t[1],t[2])&&(t=[t[0]]),Br(e,mr(t,1),[])})),Ss=ut||function(){return ht.Date.now()};function Is(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Gi(e,u,i,i,i,i,t)}function Cs(e,t){var n;if("function"!=typeof t)throw new Ce(o);return e=fa(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Os=Kr((function(e,t,n){var r=1;if(n.length){var i=an(n,io(Os));r|=l}return Gi(e,r,t,n,i)})),Ns=Kr((function(e,t,n){var r=3;if(n.length){var i=an(n,io(Ns));r|=l}return Gi(t,r,e,n,i)}));function xs(e,t,n){var r,s,a,l,u,c,h=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new Ce(o);function m(t){var n=r,o=s;return r=s=i,h=t,l=e.apply(o,n)}function g(e){var n=e-c;return c===i||n>=t||n<0||f&&e-h>=a}function v(){var e=Ss();if(g(e))return y(e);u=Oo(v,function(e){var n=t-(e-c);return f?vn(n,a-(e-h)):n}(e))}function y(e){return u=i,p&&r?m(e):(r=s=i,l)}function w(){var e=Ss(),n=g(e);if(r=arguments,s=this,c=e,n){if(u===i)return function(e){return h=e,u=Oo(v,t),d?m(e):l}(c);if(f)return wi(u),u=Oo(v,t),m(c)}return u===i&&(u=Oo(v,t)),l}return t=ma(t)||0,Zs(n)&&(d=!!n.leading,a=(f="maxWait"in n)?gn(ma(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),w.cancel=function(){u!==i&&wi(u),h=0,r=c=s=u=i},w.flush=function(){return u===i?l:y(Ss())},w}var As=Kr((function(e,t){return lr(e,1,t)})),Ps=Kr((function(e,t,n){return lr(e,ma(t)||0,n)}));function Rs(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ce(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Rs.Cache||qn),n}function Ds(e){if("function"!=typeof e)throw new Ce(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Rs.Cache=qn;var Ls=vi((function(e,t){var n=(t=1==t.length&&$s(t[0])?At(t[0],Qt(oo())):At(mr(t,1),Qt(oo()))).length;return Kr((function(r){for(var i=-1,o=vn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return kt(e,this,r)}))})),Ms=Kr((function(e,t){var n=an(t,io(Ms));return Gi(e,l,i,t,n)})),js=Kr((function(e,t){var n=an(t,io(js));return Gi(e,64,i,t,n)})),Us=Zi((function(e,t){return Gi(e,256,i,i,i,t)}));function Fs(e,t){return e===t||e!=e&&t!=t}var zs=$i(Tr),Bs=$i((function(e,t){return e>=t})),Vs=Nr(function(){return arguments}())?Nr:function(e){return ea(e)&&Re.call(e,"callee")&&!He.call(e,"callee")},$s=r.isArray,Ws=vt?Qt(vt):function(e){return ea(e)&&kr(e)==A};function qs(e){return null!=e&&Js(e.length)&&!Ys(e)}function Hs(e){return ea(e)&&qs(e)}var Ks=gt||ml,Gs=yt?Qt(yt):function(e){return ea(e)&&kr(e)==y};function Qs(e){if(!ea(e))return!1;var t=kr(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ra(e)}function Ys(e){if(!Zs(e))return!1;var t=kr(e);return t==b||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Xs(e){return"number"==typeof e&&e==fa(e)}function Js(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function Zs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ea(e){return null!=e&&"object"==typeof e}var ta=wt?Qt(wt):function(e){return ea(e)&&ho(e)==_};function na(e){return"number"==typeof e||ea(e)&&kr(e)==k}function ra(e){if(!ea(e)||kr(e)!=T)return!1;var t=We(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Pe.call(n)==je}var ia=bt?Qt(bt):function(e){return ea(e)&&kr(e)==I},oa=Et?Qt(Et):function(e){return ea(e)&&ho(e)==C};function sa(e){return"string"==typeof e||!$s(e)&&ea(e)&&kr(e)==O}function aa(e){return"symbol"==typeof e||ea(e)&&kr(e)==N}var la=_t?Qt(_t):function(e){return ea(e)&&Js(e.length)&&!!it[kr(e)]},ua=$i(Lr),ca=$i((function(e,t){return e<=t}));function ha(e){if(!e)return[];if(qs(e))return sa(e)?hn(e):Ii(e);if(Qe&&e[Qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qe]());var t=ho(e);return(t==_?on:t==C?ln:Fa)(e)}function da(e){return e?(e=ma(e))===c||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function fa(e){var t=da(e),n=t%1;return t==t?n?t-n:t:0}function pa(e){return e?or(fa(e),0,f):0}function ma(e){if("number"==typeof e)return e;if(aa(e))return d;if(Zs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Zs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Gt(e);var n=pe.test(e);return n||ge.test(e)?lt(e.slice(2),n?2:8):fe.test(e)?d:+e}function ga(e){return Ci(e,Aa(e))}function va(e){return null==e?"":si(e)}var ya=Ni((function(e,t){if(Eo(t)||qs(t))Ci(t,xa(t),e);else for(var n in t)Re.call(t,n)&&Zn(e,n,t[n])})),wa=Ni((function(e,t){Ci(t,Aa(t),e)})),ba=Ni((function(e,t,n,r){Ci(t,Aa(t),e,r)})),Ea=Ni((function(e,t,n,r){Ci(t,xa(t),e,r)})),_a=Zi(ir),ka=Kr((function(e,t){e=Te(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&vo(t[0],t[1],o)&&(r=1);++n<r;)for(var s=t[n],a=Aa(s),l=-1,u=a.length;++l<u;){var c=a[l],h=e[c];(h===i||Fs(h,xe[c])&&!Re.call(e,c))&&(e[c]=s[c])}return e})),Ta=Kr((function(e){return e.push(i,Yi),kt(Ra,i,e)}));function Sa(e,t,n){var r=null==e?i:Er(e,t);return r===i?n:r}function Ia(e,t){return null!=e&&fo(e,t,Ir)}var Ca=Ui((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),e[t]=n}),Za(nl)),Oa=Ui((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]}),oo),Na=Kr(Or);function xa(e){return qs(e)?Gn(e):Dr(e)}function Aa(e){return qs(e)?Gn(e,!0):function(e){if(!Zs(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=Eo(e),n=[];for(var r in e)("constructor"!=r||!t&&Re.call(e,r))&&n.push(r);return n}(e)}var Pa=Ni((function(e,t,n){Fr(e,t,n)})),Ra=Ni((function(e,t,n,r){Fr(e,t,n,r)})),Da=Zi((function(e,t){var n={};if(null==e)return n;var r=!1;t=At(t,(function(t){return t=gi(t,e),r||(r=t.length>1),t})),Ci(e,to(e),n),r&&(n=sr(n,7,Xi));for(var i=t.length;i--;)li(n,t[i]);return n})),La=Zi((function(e,t){return null==e?{}:function(e,t){return Vr(e,t,(function(t,n){return Ia(e,n)}))}(e,t)}));function Ma(e,t){if(null==e)return{};var n=At(to(e),(function(e){return[e]}));return t=oo(t),Vr(e,n,(function(e,n){return t(e,n[0])}))}var ja=Ki(xa),Ua=Ki(Aa);function Fa(e){return null==e?[]:Yt(e,xa(e))}var za=Ri((function(e,t,n){return t=t.toLowerCase(),e+(n?Ba(t):t)}));function Ba(e){return Qa(va(e).toLowerCase())}function Va(e){return(e=va(e))&&e.replace(ye,en).replace(Xe,"")}var $a=Ri((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Wa=Ri((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),qa=Pi("toLowerCase"),Ha=Ri((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Ka=Ri((function(e,t,n){return e+(n?" ":"")+Qa(t)})),Ga=Ri((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Qa=Pi("toUpperCase");function Ya(e,t,n){return e=va(e),(t=n?i:t)===i?function(e){return tt.test(e)}(e)?function(e){return e.match(Ze)||[]}(e):function(e){return e.match(le)||[]}(e):e.match(t)||[]}var Xa=Kr((function(e,t){try{return kt(e,i,t)}catch(e){return Qs(e)?e:new Ee(e)}})),Ja=Zi((function(e,t){return St(t,(function(t){t=Mo(t),rr(e,t,Os(e[t],e))})),e}));function Za(e){return function(){return e}}var el=Mi(),tl=Mi(!0);function nl(e){return e}function rl(e){return Rr("function"==typeof e?e:sr(e,1))}var il=Kr((function(e,t){return function(n){return Or(n,e,t)}})),ol=Kr((function(e,t){return function(n){return Or(e,n,t)}}));function sl(e,t,n){var r=xa(t),i=br(t,r);null!=n||Zs(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=br(t,xa(t)));var o=!(Zs(n)&&"chain"in n&&!n.chain),s=Ys(e);return St(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Ii(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Pt([this.value()],arguments))})})),e}function al(){}var ll=zi(At),ul=zi(Ct),cl=zi(Lt);function hl(e){return yo(e)?$t(Mo(e)):function(e){return function(t){return Er(t,e)}}(e)}var dl=Vi(),fl=Vi(!0);function pl(){return[]}function ml(){return!1}var gl,vl=Fi((function(e,t){return e+t}),0),yl=qi("ceil"),wl=Fi((function(e,t){return e/t}),1),bl=qi("floor"),El=Fi((function(e,t){return e*t}),1),_l=qi("round"),kl=Fi((function(e,t){return e-t}),0);return Un.after=function(e,t){if("function"!=typeof t)throw new Ce(o);return e=fa(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=Is,Un.assign=ya,Un.assignIn=wa,Un.assignInWith=ba,Un.assignWith=Ea,Un.at=_a,Un.before=Cs,Un.bind=Os,Un.bindAll=Ja,Un.bindKey=Ns,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return $s(e)?e:[e]},Un.chain=hs,Un.chunk=function(e,t,n){t=(n?vo(e,t,n):t===i)?1:gn(fa(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,l=r(dt(o/t));s<o;)l[a++]=ei(e,s,s+=t);return l},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Pt($s(n)?Ii(n):[n],mr(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=oo();return e=t?At(e,(function(e){if("function"!=typeof e[1])throw new Ce(o);return[n(e[0]),e[1]]})):[],Kr((function(n){for(var r=-1;++r<t;){var i=e[r];if(kt(i[0],this,n))return kt(i[1],this,n)}}))},Un.conforms=function(e){return function(e){var t=xa(e);return function(n){return ar(n,e,t)}}(sr(e,1))},Un.constant=Za,Un.countBy=ps,Un.create=function(e,t){var n=Fn(e);return null==t?n:nr(n,t)},Un.curry=function e(t,n,r){var o=Gi(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Un.curryRight=function e(t,n,r){var o=Gi(t,16,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Un.debounce=xs,Un.defaults=ka,Un.defaultsDeep=Ta,Un.defer=As,Un.delay=Ps,Un.difference=Fo,Un.differenceBy=zo,Un.differenceWith=Bo,Un.drop=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=n||t===i?1:fa(t))<0?0:t,r):[]},Un.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,0,(t=r-(t=n||t===i?1:fa(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?ci(e,oo(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?ci(e,oo(t,3),!0):[]},Un.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&vo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=fa(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:fa(r))<0&&(r+=o),r=n>r?0:pa(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Un.filter=function(e,t){return($s(e)?Ot:pr)(e,oo(t,3))},Un.flatMap=function(e,t){return mr(_s(e,t),1)},Un.flatMapDeep=function(e,t){return mr(_s(e,t),c)},Un.flatMapDepth=function(e,t,n){return n=n===i?1:fa(n),mr(_s(e,t),n)},Un.flatten=Wo,Un.flattenDeep=function(e){return null!=e&&e.length?mr(e,c):[]},Un.flattenDepth=function(e,t){return null!=e&&e.length?mr(e,t=t===i?1:fa(t)):[]},Un.flip=function(e){return Gi(e,512)},Un.flow=el,Un.flowRight=tl,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Un.functions=function(e){return null==e?[]:br(e,xa(e))},Un.functionsIn=function(e){return null==e?[]:br(e,Aa(e))},Un.groupBy=ws,Un.initial=function(e){return null!=e&&e.length?ei(e,0,-1):[]},Un.intersection=Ho,Un.intersectionBy=Ko,Un.intersectionWith=Go,Un.invert=Ca,Un.invertBy=Oa,Un.invokeMap=bs,Un.iteratee=rl,Un.keyBy=Es,Un.keys=xa,Un.keysIn=Aa,Un.map=_s,Un.mapKeys=function(e,t){var n={};return t=oo(t,3),yr(e,(function(e,r,i){rr(n,t(e,r,i),e)})),n},Un.mapValues=function(e,t){var n={};return t=oo(t,3),yr(e,(function(e,r,i){rr(n,r,t(e,r,i))})),n},Un.matches=function(e){return jr(sr(e,1))},Un.matchesProperty=function(e,t){return Ur(e,sr(t,1))},Un.memoize=Rs,Un.merge=Pa,Un.mergeWith=Ra,Un.method=il,Un.methodOf=ol,Un.mixin=sl,Un.negate=Ds,Un.nthArg=function(e){return e=fa(e),Kr((function(t){return zr(t,e)}))},Un.omit=Da,Un.omitBy=function(e,t){return Ma(e,Ds(oo(t)))},Un.once=function(e){return Cs(2,e)},Un.orderBy=function(e,t,n,r){return null==e?[]:($s(t)||(t=null==t?[]:[t]),$s(n=r?i:n)||(n=null==n?[]:[n]),Br(e,t,n))},Un.over=ll,Un.overArgs=Ls,Un.overEvery=ul,Un.overSome=cl,Un.partial=Ms,Un.partialRight=js,Un.partition=ks,Un.pick=La,Un.pickBy=Ma,Un.property=hl,Un.propertyOf=function(e){return function(t){return null==e?i:Er(e,t)}},Un.pull=Yo,Un.pullAll=Xo,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,oo(n,2)):e},Un.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,i,n):e},Un.pullAt=Jo,Un.range=dl,Un.rangeRight=fl,Un.rearg=Us,Un.reject=function(e,t){return($s(e)?Ot:pr)(e,Ds(oo(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=oo(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Wr(e,i),n},Un.rest=function(e,t){if("function"!=typeof e)throw new Ce(o);return Kr(e,t=t===i?t:fa(t))},Un.reverse=Zo,Un.sampleSize=function(e,t,n){return t=(n?vo(e,t,n):t===i)?1:fa(t),($s(e)?Yn:Qr)(e,t)},Un.set=function(e,t,n){return null==e?e:Yr(e,t,n)},Un.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Yr(e,t,n,r)},Un.shuffle=function(e){return($s(e)?Xn:Zr)(e)},Un.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&vo(e,t,n)?(t=0,n=r):(t=null==t?0:fa(t),n=n===i?r:fa(n)),ei(e,t,n)):[]},Un.sortBy=Ts,Un.sortedUniq=function(e){return e&&e.length?ii(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?ii(e,oo(t,2)):[]},Un.split=function(e,t,n){return n&&"number"!=typeof n&&vo(e,t,n)&&(t=n=i),(n=n===i?f:n>>>0)?(e=va(e))&&("string"==typeof t||null!=t&&!ia(t))&&!(t=si(t))&&rn(e)?yi(hn(e),0,n):e.split(t,n):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new Ce(o);return t=null==t?0:gn(fa(t),0),Kr((function(n){var r=n[t],i=yi(n,0,t);return r&&Pt(i,r),kt(e,this,i)}))},Un.tail=function(e){var t=null==e?0:e.length;return t?ei(e,1,t):[]},Un.take=function(e,t,n){return e&&e.length?ei(e,0,(t=n||t===i?1:fa(t))<0?0:t):[]},Un.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=r-(t=n||t===i?1:fa(t)))<0?0:t,r):[]},Un.takeRightWhile=function(e,t){return e&&e.length?ci(e,oo(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?ci(e,oo(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ce(o);return Zs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),xs(e,t,{leading:r,maxWait:t,trailing:i})},Un.thru=ds,Un.toArray=ha,Un.toPairs=ja,Un.toPairsIn=Ua,Un.toPath=function(e){return $s(e)?At(e,Mo):aa(e)?[e]:Ii(Lo(va(e)))},Un.toPlainObject=ga,Un.transform=function(e,t,n){var r=$s(e),i=r||Ks(e)||la(e);if(t=oo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Zs(e)&&Ys(o)?Fn(We(e)):{}}return(i?St:yr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Un.unary=function(e){return Is(e,1)},Un.union=es,Un.unionBy=ts,Un.unionWith=ns,Un.uniq=function(e){return e&&e.length?ai(e):[]},Un.uniqBy=function(e,t){return e&&e.length?ai(e,oo(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ai(e,i,t):[]},Un.unset=function(e,t){return null==e||li(e,t)},Un.unzip=rs,Un.unzipWith=is,Un.update=function(e,t,n){return null==e?e:ui(e,t,mi(n))},Un.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ui(e,t,mi(n),r)},Un.values=Fa,Un.valuesIn=function(e){return null==e?[]:Yt(e,Aa(e))},Un.without=os,Un.words=Ya,Un.wrap=function(e,t){return Ms(mi(t),e)},Un.xor=ss,Un.xorBy=as,Un.xorWith=ls,Un.zip=us,Un.zipObject=function(e,t){return fi(e||[],t||[],Zn)},Un.zipObjectDeep=function(e,t){return fi(e||[],t||[],Yr)},Un.zipWith=cs,Un.entries=ja,Un.entriesIn=Ua,Un.extend=wa,Un.extendWith=ba,sl(Un,Un),Un.add=vl,Un.attempt=Xa,Un.camelCase=za,Un.capitalize=Ba,Un.ceil=yl,Un.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ma(n))==n?n:0),t!==i&&(t=(t=ma(t))==t?t:0),or(ma(e),t,n)},Un.clone=function(e){return sr(e,4)},Un.cloneDeep=function(e){return sr(e,5)},Un.cloneDeepWith=function(e,t){return sr(e,5,t="function"==typeof t?t:i)},Un.cloneWith=function(e,t){return sr(e,4,t="function"==typeof t?t:i)},Un.conformsTo=function(e,t){return null==t||ar(e,t,xa(t))},Un.deburr=Va,Un.defaultTo=function(e,t){return null==e||e!=e?t:e},Un.divide=wl,Un.endsWith=function(e,t,n){e=va(e),t=si(t);var r=e.length,o=n=n===i?r:or(fa(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Un.eq=Fs,Un.escape=function(e){return(e=va(e))&&G.test(e)?e.replace(H,tn):e},Un.escapeRegExp=function(e){return(e=va(e))&&ne.test(e)?e.replace(te,"\\$&"):e},Un.every=function(e,t,n){var r=$s(e)?Ct:dr;return n&&vo(e,t,n)&&(t=i),r(e,oo(t,3))},Un.find=ms,Un.findIndex=Vo,Un.findKey=function(e,t){return jt(e,oo(t,3),yr)},Un.findLast=gs,Un.findLastIndex=$o,Un.findLastKey=function(e,t){return jt(e,oo(t,3),wr)},Un.floor=bl,Un.forEach=vs,Un.forEachRight=ys,Un.forIn=function(e,t){return null==e?e:gr(e,oo(t,3),Aa)},Un.forInRight=function(e,t){return null==e?e:vr(e,oo(t,3),Aa)},Un.forOwn=function(e,t){return e&&yr(e,oo(t,3))},Un.forOwnRight=function(e,t){return e&&wr(e,oo(t,3))},Un.get=Sa,Un.gt=zs,Un.gte=Bs,Un.has=function(e,t){return null!=e&&fo(e,t,Sr)},Un.hasIn=Ia,Un.head=qo,Un.identity=nl,Un.includes=function(e,t,n,r){e=qs(e)?e:Fa(e),n=n&&!r?fa(n):0;var i=e.length;return n<0&&(n=gn(i+n,0)),sa(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ft(e,t,n)>-1},Un.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:fa(n);return i<0&&(i=gn(r+i,0)),Ft(e,t,i)},Un.inRange=function(e,t,n){return t=da(t),n===i?(n=t,t=0):n=da(n),function(e,t,n){return e>=vn(t,n)&&e<gn(t,n)}(e=ma(e),t,n)},Un.invoke=Na,Un.isArguments=Vs,Un.isArray=$s,Un.isArrayBuffer=Ws,Un.isArrayLike=qs,Un.isArrayLikeObject=Hs,Un.isBoolean=function(e){return!0===e||!1===e||ea(e)&&kr(e)==v},Un.isBuffer=Ks,Un.isDate=Gs,Un.isElement=function(e){return ea(e)&&1===e.nodeType&&!ra(e)},Un.isEmpty=function(e){if(null==e)return!0;if(qs(e)&&($s(e)||"string"==typeof e||"function"==typeof e.splice||Ks(e)||la(e)||Vs(e)))return!e.length;var t=ho(e);if(t==_||t==C)return!e.size;if(Eo(e))return!Dr(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return xr(e,t)},Un.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?xr(e,t,i,n):!!r},Un.isError=Qs,Un.isFinite=function(e){return"number"==typeof e&&Mt(e)},Un.isFunction=Ys,Un.isInteger=Xs,Un.isLength=Js,Un.isMap=ta,Un.isMatch=function(e,t){return e===t||Ar(e,t,ao(t))},Un.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Ar(e,t,ao(t),n)},Un.isNaN=function(e){return na(e)&&e!=+e},Un.isNative=function(e){if(bo(e))throw new Ee("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Pr(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=na,Un.isObject=Zs,Un.isObjectLike=ea,Un.isPlainObject=ra,Un.isRegExp=ia,Un.isSafeInteger=function(e){return Xs(e)&&e>=-9007199254740991&&e<=h},Un.isSet=oa,Un.isString=sa,Un.isSymbol=aa,Un.isTypedArray=la,Un.isUndefined=function(e){return e===i},Un.isWeakMap=function(e){return ea(e)&&ho(e)==x},Un.isWeakSet=function(e){return ea(e)&&"[object WeakSet]"==kr(e)},Un.join=function(e,t){return null==e?"":Wt.call(e,t)},Un.kebabCase=$a,Un.last=Qo,Un.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=fa(n))<0?gn(r+o,0):vn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Ut(e,Bt,o,!0)},Un.lowerCase=Wa,Un.lowerFirst=qa,Un.lt=ua,Un.lte=ca,Un.max=function(e){return e&&e.length?fr(e,nl,Tr):i},Un.maxBy=function(e,t){return e&&e.length?fr(e,oo(t,2),Tr):i},Un.mean=function(e){return Vt(e,nl)},Un.meanBy=function(e,t){return Vt(e,oo(t,2))},Un.min=function(e){return e&&e.length?fr(e,nl,Lr):i},Un.minBy=function(e,t){return e&&e.length?fr(e,oo(t,2),Lr):i},Un.stubArray=pl,Un.stubFalse=ml,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=El,Un.nth=function(e,t){return e&&e.length?zr(e,fa(t)):i},Un.noConflict=function(){return ht._===this&&(ht._=Ue),this},Un.noop=al,Un.now=Ss,Un.pad=function(e,t,n){e=va(e);var r=(t=fa(t))?cn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Bi(ft(i),n)+e+Bi(dt(i),n)},Un.padEnd=function(e,t,n){e=va(e);var r=(t=fa(t))?cn(e):0;return t&&r<t?e+Bi(t-r,n):e},Un.padStart=function(e,t,n){e=va(e);var r=(t=fa(t))?cn(e):0;return t&&r<t?Bi(t-r,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(va(e).replace(re,""),t||0)},Un.random=function(e,t,n){if(n&&"boolean"!=typeof n&&vo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=da(e),t===i?(t=e,e=0):t=da(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=bn();return vn(e+o*(t-e+at("1e-"+((o+"").length-1))),t)}return qr(e,t)},Un.reduce=function(e,t,n){var r=$s(e)?Rt:qt,i=arguments.length<3;return r(e,oo(t,4),n,i,cr)},Un.reduceRight=function(e,t,n){var r=$s(e)?Dt:qt,i=arguments.length<3;return r(e,oo(t,4),n,i,hr)},Un.repeat=function(e,t,n){return t=(n?vo(e,t,n):t===i)?1:fa(t),Hr(va(e),t)},Un.replace=function(){var e=arguments,t=va(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,n){var r=-1,o=(t=gi(t,e)).length;for(o||(o=1,e=i);++r<o;){var s=null==e?i:e[Mo(t[r])];s===i&&(r=o,s=n),e=Ys(s)?s.call(e):s}return e},Un.round=_l,Un.runInContext=e,Un.sample=function(e){return($s(e)?Qn:Gr)(e)},Un.size=function(e){if(null==e)return 0;if(qs(e))return sa(e)?cn(e):e.length;var t=ho(e);return t==_||t==C?e.size:Dr(e).length},Un.snakeCase=Ha,Un.some=function(e,t,n){var r=$s(e)?Lt:ti;return n&&vo(e,t,n)&&(t=i),r(e,oo(t,3))},Un.sortedIndex=function(e,t){return ni(e,t)},Un.sortedIndexBy=function(e,t,n){return ri(e,t,oo(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ni(e,t);if(r<n&&Fs(e[r],t))return r}return-1},Un.sortedLastIndex=function(e,t){return ni(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return ri(e,t,oo(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ni(e,t,!0)-1;if(Fs(e[n],t))return n}return-1},Un.startCase=Ka,Un.startsWith=function(e,t,n){return e=va(e),n=null==n?0:or(fa(n),0,e.length),t=si(t),e.slice(n,n+t.length)==t},Un.subtract=kl,Un.sum=function(e){return e&&e.length?Ht(e,nl):0},Un.sumBy=function(e,t){return e&&e.length?Ht(e,oo(t,2)):0},Un.template=function(e,t,n){var r=Un.templateSettings;n&&vo(e,t,n)&&(t=i),e=va(e),t=ba({},t,r,Qi);var o,s,a=ba({},t.imports,r.imports,Qi),l=xa(a),u=Yt(a,l),c=0,h=t.interpolate||we,d="__p += '",f=Se((t.escape||we).source+"|"+h.source+"|"+(h===X?he:we).source+"|"+(t.evaluate||we).source+"|$","g"),p="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(f,(function(t,n,r,i,a,l){return r||(r=i),d+=e.slice(c,l).replace(be,nn),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),d+="';\n";var m=Re.call(t,"variable")&&t.variable;if(m){if(ue.test(m))throw new Ee("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(V,""):d).replace($,"$1").replace(W,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Xa((function(){return _e(l,p+"return "+d).apply(i,u)}));if(g.source=d,Qs(g))throw g;return g},Un.times=function(e,t){if((e=fa(e))<1||e>h)return[];var n=f,r=vn(e,f);t=oo(t),e-=f;for(var i=Kt(r,t);++n<e;)t(n);return i},Un.toFinite=da,Un.toInteger=fa,Un.toLength=pa,Un.toLower=function(e){return va(e).toLowerCase()},Un.toNumber=ma,Un.toSafeInteger=function(e){return e?or(fa(e),-9007199254740991,h):0===e?e:0},Un.toString=va,Un.toUpper=function(e){return va(e).toUpperCase()},Un.trim=function(e,t,n){if((e=va(e))&&(n||t===i))return Gt(e);if(!e||!(t=si(t)))return e;var r=hn(e),o=hn(t);return yi(r,Jt(r,o),Zt(r,o)+1).join("")},Un.trimEnd=function(e,t,n){if((e=va(e))&&(n||t===i))return e.slice(0,dn(e)+1);if(!e||!(t=si(t)))return e;var r=hn(e);return yi(r,0,Zt(r,hn(t))+1).join("")},Un.trimStart=function(e,t,n){if((e=va(e))&&(n||t===i))return e.replace(re,"");if(!e||!(t=si(t)))return e;var r=hn(e);return yi(r,Jt(r,hn(t))).join("")},Un.truncate=function(e,t){var n=30,r="...";if(Zs(t)){var o="separator"in t?t.separator:o;n="length"in t?fa(t.length):n,r="omission"in t?si(t.omission):r}var s=(e=va(e)).length;if(rn(e)){var a=hn(e);s=a.length}if(n>=s)return e;var l=n-cn(r);if(l<1)return r;var u=a?yi(a,0,l).join(""):e.slice(0,l);if(o===i)return u+r;if(a&&(l+=u.length-l),ia(o)){if(e.slice(l).search(o)){var c,h=u;for(o.global||(o=Se(o.source,va(de.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var d=c.index;u=u.slice(0,d===i?l:d)}}else if(e.indexOf(si(o),l)!=l){var f=u.lastIndexOf(o);f>-1&&(u=u.slice(0,f))}return u+r},Un.unescape=function(e){return(e=va(e))&&K.test(e)?e.replace(q,fn):e},Un.uniqueId=function(e){var t=++De;return va(e)+t},Un.upperCase=Ga,Un.upperFirst=Qa,Un.each=vs,Un.eachRight=ys,Un.first=qo,sl(Un,(gl={},yr(Un,(function(e,t){Re.call(Un.prototype,t)||(gl[t]=e)})),gl),{chain:!1}),Un.VERSION="4.17.21",St(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Un[e].placeholder=Un})),St(["drop","take"],(function(e,t){Vn.prototype[e]=function(n){n=n===i?1:gn(fa(n),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=vn(n,r.__takeCount__):r.__views__.push({size:vn(n,f),type:e+(r.__dir__<0?"Right":"")}),r},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),St(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:oo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),St(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),St(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(nl)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Kr((function(e,t){return"function"==typeof e?new Vn(this):this.map((function(n){return Or(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(Ds(oo(e)))},Vn.prototype.slice=function(e,t){e=fa(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=fa(t))<0?n.dropRight(-t):n.take(t-e)),n)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(f)},yr(Vn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Un[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&(Un.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,l=t instanceof Vn,u=a[0],c=l||$s(t),h=function(e){var t=o.apply(Un,Pt([e],a));return r&&d?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,f=!!this.__actions__.length,p=s&&!d,m=l&&!f;if(!s&&c){t=m?t:new Vn(this);var g=e.apply(t,a);return g.__actions__.push({func:ds,args:[h],thisArg:i}),new Bn(g,d)}return p&&m?e.apply(this,a):(g=this.thru(h),p?r?g.value()[0]:g.value():g)})})),St(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Oe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply($s(i)?i:[],e)}return this[n]((function(n){return t.apply($s(n)?n:[],e)}))}})),yr(Vn.prototype,(function(e,t){var n=Un[t];if(n){var r=n.name+"";Re.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:t,func:n})}})),Nn[ji(i,2).name]=[{name:"wrapper",func:i}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Ii(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ii(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ii(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=$s(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=vn(t,e+s);break;case"takeRight":e=gn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,l=a-s,u=r?a:s-1,c=this.__iteratees__,h=c.length,d=0,f=vn(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return hi(e,this.__actions__);var p=[];e:for(;l--&&d<f;){for(var m=-1,g=e[u+=t];++m<h;){var v=c[m],y=v.iteratee,w=v.type,b=y(g);if(2==w)g=b;else if(!b){if(1==w)continue e;break e}}p[d++]=g}return p},Un.prototype.at=fs,Un.prototype.chain=function(){return hs(this)},Un.prototype.commit=function(){return new Bn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===i&&(this.__values__=ha(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,n=this;n instanceof zn;){var r=Uo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:ds,args:[Zo],thisArg:i}),new Bn(t,this.__chain__)}return this.thru(Zo)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Qe&&(Un.prototype[Qe]=function(){return this}),Un}();ht._=pn,(r=function(){return pn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var o,s,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in o=Object(arguments[l]))n.call(o,u)&&(a[u]=o[u]);if(t){s=t(o);for(var c=0;c<s.length;c++)r.call(o,s[c])&&(a[s[c]]=o[s[c]])}}return a}},703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},448:(e,t,n)=>{"use strict";var r=n(294),i=n(418),o=n(840);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var a=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(d.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,w);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,w);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,w);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,k=60106,T=60107,S=60108,I=60114,C=60109,O=60110,N=60112,x=60113,A=60120,P=60115,R=60116,D=60121,L=60128,M=60129,j=60130,U=60131;if("function"==typeof Symbol&&Symbol.for){var F=Symbol.for;_=F("react.element"),k=F("react.portal"),T=F("react.fragment"),S=F("react.strict_mode"),I=F("react.profiler"),C=F("react.provider"),O=F("react.context"),N=F("react.forward_ref"),x=F("react.suspense"),A=F("react.suspense_list"),P=F("react.memo"),R=F("react.lazy"),D=F("react.block"),F("react.scope"),L=F("react.opaque.id"),M=F("react.debug_trace_mode"),j=F("react.offscreen"),U=F("react.legacy_hidden")}var z,B="function"==typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=B&&e[B]||e["@@iterator"])?e:null}function $(e){if(void 0===z)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var W=!1;function q(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a])return"\n"+i[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$(e):""}function H(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return q(e.type,!1);case 11:return q(e.type.render,!1);case 22:return q(e.type._render,!1);case 1:return q(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case T:return"Fragment";case k:return"Portal";case I:return"Profiler";case S:return"StrictMode";case x:return"Suspense";case A:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return K(e.type);case D:return K(e._render);case R:t=e._payload,e=e._init;try{return K(e(t))}catch(e){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function se(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ue(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if(e.namespaceURI!==he.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(s(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ce=null,Oe=null;function Ne(e){if(e=ni(e)){if("function"!=typeof Ie)throw Error(s(280));var t=e.stateNode;t&&(t=ii(t),Ie(e.stateNode,e.type,t))}}function xe(e){Ce?Oe?Oe.push(e):Oe=[e]:Ce=e}function Ae(){if(Ce){var e=Ce,t=Oe;if(Oe=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Pe(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Pe,Me=!1,je=!1;function Ue(){null===Ce&&null===Oe||(De(),Ae())}function Fe(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var ze=!1;if(h)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){ze=!1}function Ve(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var $e=!1,We=null,qe=!1,He=null,Ke={onError:function(e){$e=!0,We=e}};function Ge(e,t,n,r,i,o,s,a,l){$e=!1,We=null,Ve.apply(Ke,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Xe(e){if(Qe(e)!==e)throw Error(s(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xe(i),e;if(o===r)return Xe(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],st=null,at=null,lt=null,ut=new Map,ct=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ft(t,n,r,i,o),null!==t&&null!==(t=ni(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ti(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){vt(e)&&n.delete(t)}function wt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&vt(st)&&(st=null),null!==at&&vt(at)&&(at=null),null!==lt&&vt(lt)&&(lt=null),ut.forEach(yt),ct.forEach(yt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wt)))}function Et(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&bt(st,e),null!==at&&bt(at,e),null!==lt&&bt(lt,e),ut.forEach(t),ct.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},Tt={},St={};function It(e){if(Tt[e])return Tt[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Tt[e]=n[t];return e}h&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var Ct=It("animationend"),Ot=It("animationiteration"),Nt=It("animationstart"),xt=It("transitionend"),At=new Map,Pt=new Map,Rt=["abort","abort",Ct,"animationEnd",Ot,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",xt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),At.set(r,i),u(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!=(o=134217727&n)){var l=o&~s;0!==l?(r=Mt(l),i=Lt):0!=(a&=o)&&(r=Mt(a),i=Lt)}else 0!=(o=n&~s)?(r=Mt(o),i=Lt):0!==a&&(r=Mt(a),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-$t(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&s)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-$t(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ft(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Ft(10,t):e;case 10:return 0===(e=zt(192&~t))?Ft(8,t):e;case 8:return 0===(e=zt(3584&~t))&&0===(e=zt(4186112&~t))&&(e=512),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-$t(t)]=n}var $t=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/qt|0)|0},Wt=Math.log,qt=Math.LN2,Ht=o.unstable_UserBlockingPriority,Kt=o.unstable_runWithPriority,Gt=!0;function Qt(e,t,n,r){Me||De();var i=Xt,o=Me;Me=!0;try{Re(i,e,t,n,r)}finally{(Me=o)||Ue()}}function Yt(e,t,n,r){Kt(Ht,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Gt)if((i=0==(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=ft(null,e,t,n,r),ot.push(e);else{var o=Jt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=ft(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return at=mt(at,e,t,n,r,i),!0;case"mouseover":return lt=mt(lt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ut.set(o,mt(ut.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Dr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Se(r);if(null!==(i=ti(i))){var o=Qe(i);if(null===o)i=null;else{var s=o.tag;if(13===s){if(null!==(i=Ye(o)))return i;i=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function an(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,un,cn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(hn),fn=i({},hn,{view:0,detail:0}),pn=an(fn),mn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(ln=e.screenX-cn.screenX,un=e.screenY-cn.screenY):un=ln=0,cn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:un}}),gn=an(mn),vn=an(i({},mn,{dataTransfer:0})),yn=an(i({},fn,{relatedTarget:0})),wn=an(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=an(bn),_n=an(i({},hn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return In}var On=i({},fn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=an(On),xn=an(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=an(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Rn),Ln=[9,13,27,32],Mn=h&&"CompositionEvent"in window,jn=null;h&&"documentMode"in document&&(jn=document.documentMode);var Un=h&&"TextEvent"in window&&!jn,Fn=h&&(!Mn||jn&&8<jn&&11>=jn),zn=String.fromCharCode(32),Bn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1,qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){xe(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Qn=null;function Yn(e){Or(e,0)}function Xn(e){if(X(ri(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(h){var er;if(h){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"==typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Gn&&(Gn.detachEvent("onpropertychange",ir),Qn=Gn=null)}function ir(e){if("value"===e.propertyName&&Xn(Qn)){var t=[];if(Kn(t,Qn,e,Se(e)),e=Yn,Me)e(t);else{Me=!0;try{Pe(e,t)}finally{Me=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(rr(),Qn=n,(Gn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Qn)}function ar(e,t){if("click"===e)return Xn(t)}function lr(e,t){if("input"===e||"change"===e)return Xn(t)}var ur="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},cr=Object.prototype.hasOwnProperty;function hr(e,t){if(ur(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cr.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=h&&"documentMode"in document&&11>=document.documentMode,yr=null,wr=null,br=null,Er=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==yr||yr!==J(r)||(r="selectionStart"in(r=yr)&&gr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=Mr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Rt,2);for(var kr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<kr.length;Tr++)Pt.set(kr[Tr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,u){if(Ge.apply(this,arguments),$e){if(!$e)throw Error(s(198));var c=We;$e=!1,We=null,qe||(qe=!0,He=c)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Cr(i,a,u),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Cr(i,a,u),o=l}}}if(qe)throw e=He,qe=!1,He=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var xr="_reactListening"+Math.random().toString(36).slice(2);function Ar(e){e[xr]||(e[xr]=!0,a.forEach((function(t){Ir.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,o=r}var s=oi(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(i|=4),Rr(o,e,i,t),s.add(a))}function Rr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=Yt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=ti(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(je)return e();je=!0;try{return Le(e,t,n)}finally{je=!1,Ue()}}((function(){var r=o,i=Se(n),s=[];e:{var a=At.get(e);if(void 0!==a){var l=dn,u=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":u="focus",l=yn;break;case"focusout":u="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Ct:case Ot:case Nt:l=wn;break;case xt:l=Pn;break;case"scroll":l=pn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var c=0!=(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&null!=(m=Fe(p,d))&&c.push(Lr(p,m,f))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),s.push({event:a,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!ti(u)&&!u[Zr])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ti(u):null)&&(u!==(h=Qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=gn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=xn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:ri(l),f=null==u?a:ri(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,ti(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=jr(f))p++;for(f=0,m=d;m;m=jr(m))f++;for(;0<p-f;)c=jr(c),p--;for(;0<f-p;)d=jr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=jr(c),d=jr(d)}c=null}else c=null;null!==l&&Ur(s,a,l,c,!1),null!==u&&null!==h&&Ur(s,h,u,c,!0)}if("select"===(l=(a=r?ri(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Jn;else if(Hn(a))if(Zn)g=lr;else{g=sr;var v=or}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ar);switch(g&&(g=g(e,r))?Kn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ie(a,"number",a.value)),v=r?ri(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(yr=v,wr=r,br=null);break;case"focusout":br=wr=yr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,_r(s,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(s,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Wn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Wn&&(y=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Wn=!0)),0<(v=Mr(r,w)).length&&(w=new _n(w,e,null,n,i),s.push({event:w,listeners:v}),(y||null!==(y=$n(n)))&&(w.data=y))),(y=Un?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Mn&&Vn(e,t)?(e=nn(),tn=en=Zt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Mr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y)}Or(s,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Fe(e,n))&&r.unshift(Lr(e,o,i)),null!=(o=Fe(e,t))&&r.push(Lr(e,o,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Fe(n,o))&&s.unshift(Lr(n,l,a)):i||null!=(l=Fe(n,o))&&s.push(Lr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function Fr(){}var zr=null,Br=null;function Vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function $r(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"==typeof setTimeout?setTimeout:void 0,qr="function"==typeof clearTimeout?clearTimeout:void 0;function Hr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qr=0,Yr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Yr,Jr="__reactProps$"+Yr,Zr="__reactContainer$"+Yr,ei="__reactEvents$"+Yr;function ti(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[Xr])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Xr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ii(e){return e[Jr]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var si=[],ai=-1;function li(e){return{current:e}}function ui(e){0>ai||(e.current=si[ai],si[ai]=null,ai--)}function ci(e,t){ai++,si[ai]=e.current,e.current=t}var hi={},di=li(hi),fi=li(!1),pi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!=e.childContextTypes}function vi(){ui(fi),ui(di)}function yi(e,t,n){if(di.current!==hi)throw Error(s(168));ci(di,t),ci(fi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,K(t)||"Unknown",o));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,pi=di.current,ci(di,e),ci(fi,fi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=wi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ui(fi),ui(di),ci(di,e)):ui(fi),ci(fi,n)}var _i=null,ki=null,Ti=o.unstable_runWithPriority,Si=o.unstable_scheduleCallback,Ii=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,Oi=o.unstable_requestPaint,Ni=o.unstable_now,xi=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Ri=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Mi={},ji=void 0!==Oi?Oi:function(){},Ui=null,Fi=null,zi=!1,Bi=Ni(),Vi=1e4>Bi?Ni:function(){return Ni()-Bi};function $i(){switch(xi()){case Ai:return 99;case Pi:return 98;case Ri:return 97;case Di:return 96;case Li:return 95;default:throw Error(s(332))}}function Wi(e){switch(e){case 99:return Ai;case 98:return Pi;case 97:return Ri;case 96:return Di;case 95:return Li;default:throw Error(s(332))}}function qi(e,t){return e=Wi(e),Ti(e,t)}function Hi(e,t,n){return e=Wi(e),Si(e,t,n)}function Ki(){if(null!==Fi){var e=Fi;Fi=null,Ii(e)}Gi()}function Gi(){if(!zi&&null!==Ui){zi=!0;var e=0;try{var t=Ui;qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(t){throw null!==Ui&&(Ui=Ui.slice(e+1)),Si(Ai,Ki),t}finally{zi=!1}}}var Qi=E.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=li(null),Ji=null,Zi=null,eo=null;function to(){eo=Zi=Ji=null}function no(e){var t=Xi.current;ui(Xi),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function io(e,t){Ji=e,eo=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ms=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Ji)throw Error(s(308));Zi=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var so=!1;function ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function co(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fo(e,t,n,r){var o=e.updateQueue;so=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===a?s=c:a.next=c,a=u;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==a&&(null===d?h.firstBaseUpdate=c:d.next=c,h.lastBaseUpdate=u)}}if(null!==s){for(d=o.baseState,a=0,h=c=u=null;;){l=s.lane;var f=s.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(l=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,l);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(l="function"==typeof(p=m.payload)?p.call(f,d,l):p))break e;d=i({},d,l);break e;case 2:so=!0}}null!==s.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[s]:l.push(s))}else f={eventTime:f,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===h?(c=h=f,u=d):h=h.next=f,a|=l;if(null===(s=s.next)){if(null===(l=o.shared.pending))break;s=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===h&&(u=d),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=h,Fa|=a,e.lanes=a,e.memoizedState=d}}function po(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(s(191,i));i.call(r)}}}var mo=(new r.Component).refs;function go(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cl(),i=hl(e),o=uo(r,i);o.payload=t,null!=n&&(o.callback=n),co(e,o),dl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cl(),i=hl(e),o=uo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),co(e,o),dl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cl(),r=hl(e),i=uo(n,r);i.tag=2,null!=t&&(i.callback=t),co(e,i),dl(e,r,n)}};function yo(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&hr(n,r)&&hr(i,o))}function wo(e,t,n){var r=!1,i=hi,o=t.contextType;return"object"==typeof o&&null!==o?o=oo(o):(i=gi(t)?pi:di.current,o=(r=null!=(r=t.contextTypes))?mi(e,i):hi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function Eo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,ao(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=oo(o):(o=gi(t)?pi:di.current,i.context=mi(e,o)),fo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&vo.enqueueReplaceState(i,i.state,null),fo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var _o=Array.isArray;function ko(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function To(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function So(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Wl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Gl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ko(e,t,n),r.return=e,r):((r=ql(n.type,n.key,n.props,null,e.mode,r)).ref=ko(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ql(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Hl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Gl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case _:return(n=ql(t.type,t.key,t.props,null,e.mode,n)).ref=ko(e,null,t),n.return=e,n;case k:return(t=Ql(t,e.mode,n)).return=e,t}if(_o(t)||V(t))return(t=Hl(t,e.mode,n,null)).return=e,t;To(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===T?h(e,t,n.props.children,r,i):u(e,t,n,r):null;case k:return n.key===i?c(e,t,n,r):null}if(_o(n)||V(n))return null!==i?null:h(e,t,n,r,null);To(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===T?h(t,e,r.props.children,i,r.key):u(t,e,r,i);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_o(r)||V(r))return h(t,e=e.get(n)||null,r,i,null);To(t,r)}return null}function m(i,s,a,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===a.length)return n(i,h),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),u}function g(i,a,l,u){var c=V(l);if("function"!=typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,u);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===h?c=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,u))&&(a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,o,l){var u="object"==typeof o&&null!==o&&o.type===T&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case _:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(o.type===T){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}}else if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=ko(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===T?((r=Hl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=ql(o.type,o.key,o.props,null,e.mode,l)).ref=ko(e,r,o),l.return=e,e=l)}return a(e);case k:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ql(o,e.mode,l)).return=e,e=r}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Gl(o,e.mode,l)).return=e,e=r),a(e);if(_o(o))return m(e,r,o,l);if(V(o))return g(e,r,o,l);if(c&&To(e,o),void 0===o&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,K(e.type)||"Component"))}return n(e,r)}}var Io=So(!0),Co=So(!1),Oo={},No=li(Oo),xo=li(Oo),Ao=li(Oo);function Po(e){if(e===Oo)throw Error(s(174));return e}function Ro(e,t){switch(ci(Ao,t),ci(xo,e),ci(No,Oo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(No),ci(No,t)}function Do(){ui(No),ui(xo),ui(Ao)}function Lo(e){Po(Ao.current);var t=Po(No.current),n=fe(t,e.type);t!==n&&(ci(xo,e),ci(No,n))}function Mo(e){xo.current===e&&(ui(No),ui(xo))}var jo=li(0);function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fo=null,zo=null,Bo=!1;function Vo(e,t){var n=Vl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function $o(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wo(e){if(Bo){var t=zo;if(t){var n=t;if(!$o(e,t)){if(!(t=Kr(n.nextSibling))||!$o(e,t))return e.flags=-1025&e.flags|2,Bo=!1,void(Fo=e);Vo(Fo,n)}Fo=e,zo=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,Bo=!1,Fo=e}}function qo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fo=e}function Ho(e){if(e!==Fo)return!1;if(!Bo)return qo(e),Bo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!$r(t,e.memoizedProps))for(t=zo;t;)Vo(e,t),t=Kr(t.nextSibling);if(qo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){zo=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}zo=null}}else zo=Fo?Kr(e.stateNode.nextSibling):null;return!0}function Ko(){zo=Fo=null,Bo=!1}var Go=[];function Qo(){for(var e=0;e<Go.length;e++)Go[e]._workInProgressVersionPrimary=null;Go.length=0}var Yo=E.ReactCurrentDispatcher,Xo=E.ReactCurrentBatchConfig,Jo=0,Zo=null,es=null,ts=null,ns=!1,rs=!1;function is(){throw Error(s(321))}function os(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function ss(e,t,n,r,i,o){if(Jo=o,Zo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=null===e||null===e.memoizedState?Ps:Rs,e=n(r,i),rs){o=0;do{if(rs=!1,!(25>o))throw Error(s(301));o+=1,ts=es=null,t.updateQueue=null,Yo.current=Ds,e=n(r,i)}while(rs)}if(Yo.current=As,t=null!==es&&null!==es.next,Jo=0,ts=es=Zo=null,ns=!1,t)throw Error(s(300));return e}function as(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ts?Zo.memoizedState=ts=e:ts=ts.next=e,ts}function ls(){if(null===es){var e=Zo.alternate;e=null!==e?e.memoizedState:null}else e=es.next;var t=null===ts?Zo.memoizedState:ts.next;if(null!==t)ts=t,es=e;else{if(null===e)throw Error(s(310));e={memoizedState:(es=e).memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},null===ts?Zo.memoizedState=ts=e:ts=ts.next=e}return ts}function us(e,t){return"function"==typeof t?t(e):t}function cs(e){var t=ls(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=es,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=o=null,u=i;do{var c=u.lane;if((Jo&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=h,o=r):l=l.next=h,Zo.lanes|=c,Fa|=c}u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=a,ur(r,t.memoizedState)||(Ms=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function hs(e){var t=ls(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ur(o,t.memoizedState)||(Ms=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ds(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Jo&e)===e)&&(t._workInProgressVersionPrimary=r,Go.push(t))),e)return n(t._source);throw Go.push(t),Error(s(350))}function fs(e,t,n,r){var i=Aa;if(null===i)throw Error(s(349));var o=t._getVersion,a=o(t._source),l=Yo.current,u=l.useState((function(){return ds(i,t,n)})),c=u[1],h=u[0];u=ts;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,m=d.source;d=d.subscribe;var g=Zo;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=o(t._source);if(!ur(a,e)){e=n(t._source),ur(h,e)||(c(e),e=hl(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var l=31-$t(s),u=1<<l;r[l]|=e,s&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=hl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ur(p,n)&&ur(m,t)&&ur(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:us,lastRenderedState:h}).dispatch=c=xs.bind(null,Zo,e),u.queue=e,u.baseQueue=null,h=ds(i,t,n),u.memoizedState=u.baseState=h),h}function ps(e,t,n){return fs(ls(),e,t,n)}function ms(e){var t=as();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:us,lastRenderedState:e}).dispatch=xs.bind(null,Zo,e),[t.memoizedState,e]}function gs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Zo.updateQueue)?(t={lastEffect:null},Zo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function vs(e){return e={current:e},as().memoizedState=e}function ys(){return ls().memoizedState}function ws(e,t,n,r){var i=as();Zo.flags|=e,i.memoizedState=gs(1|t,n,void 0,void 0===r?null:r)}function bs(e,t,n,r){var i=ls();r=void 0===r?null:r;var o=void 0;if(null!==es){var s=es.memoizedState;if(o=s.destroy,null!==r&&os(r,s.deps))return void gs(t,n,o,r)}Zo.flags|=e,i.memoizedState=gs(1|t,n,o,r)}function Es(e,t){return ws(516,4,e,t)}function _s(e,t){return bs(516,4,e,t)}function ks(e,t){return bs(4,2,e,t)}function Ts(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ss(e,t,n){return n=null!=n?n.concat([e]):null,bs(4,2,Ts.bind(null,t,e),n)}function Is(){}function Cs(e,t){var n=ls();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&os(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Os(e,t){var n=ls();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&os(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ns(e,t){var n=$i();qi(98>n?98:n,(function(){e(!0)})),qi(97<n?97:n,(function(){var n=Xo.transition;Xo.transition=1;try{e(!1),t()}finally{Xo.transition=n}}))}function xs(e,t,n){var r=cl(),i=hl(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===Zo||null!==s&&s===Zo)rs=ns=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=s(a,n);if(o.eagerReducer=s,o.eagerState=l,ur(l,a))return}catch(e){}dl(e,i,r)}}var As={readContext:oo,useCallback:is,useContext:is,useEffect:is,useImperativeHandle:is,useLayoutEffect:is,useMemo:is,useReducer:is,useRef:is,useState:is,useDebugValue:is,useDeferredValue:is,useTransition:is,useMutableSource:is,useOpaqueIdentifier:is,unstable_isNewReconciler:!1},Ps={readContext:oo,useCallback:function(e,t){return as().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:Es,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ws(4,2,Ts.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ws(4,2,e,t)},useMemo:function(e,t){var n=as();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=as();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=xs.bind(null,Zo,e),[r.memoizedState,e]},useRef:vs,useState:ms,useDebugValue:Is,useDeferredValue:function(e){var t=ms(e),n=t[0],r=t[1];return Es((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=ms(!1),t=e[0];return vs(e=Ns.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=as();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fs(r,e,t,n)},useOpaqueIdentifier:function(){if(Bo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Qr++).toString(36))),Error(s(355))})),n=ms(t)[1];return 0==(2&Zo.mode)&&(Zo.flags|=516,gs(5,(function(){n("r:"+(Qr++).toString(36))}),void 0,null)),t}return ms(t="r:"+(Qr++).toString(36)),t},unstable_isNewReconciler:!1},Rs={readContext:oo,useCallback:Cs,useContext:oo,useEffect:_s,useImperativeHandle:Ss,useLayoutEffect:ks,useMemo:Os,useReducer:cs,useRef:ys,useState:function(){return cs(us)},useDebugValue:Is,useDeferredValue:function(e){var t=cs(us),n=t[0],r=t[1];return _s((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=cs(us)[0];return[ys().current,e]},useMutableSource:ps,useOpaqueIdentifier:function(){return cs(us)[0]},unstable_isNewReconciler:!1},Ds={readContext:oo,useCallback:Cs,useContext:oo,useEffect:_s,useImperativeHandle:Ss,useLayoutEffect:ks,useMemo:Os,useReducer:hs,useRef:ys,useState:function(){return hs(us)},useDebugValue:Is,useDeferredValue:function(e){var t=hs(us),n=t[0],r=t[1];return _s((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=hs(us)[0];return[ys().current,e]},useMutableSource:ps,useOpaqueIdentifier:function(){return hs(us)[0]},unstable_isNewReconciler:!1},Ls=E.ReactCurrentOwner,Ms=!1;function js(e,t,n,r){t.child=null===e?Co(t,null,n,r):Io(t,e.child,n,r)}function Us(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=ss(e,t,n,r,o,i),null===e||Ms?(t.flags|=1,js(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ra(e,t,i))}function Fs(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!=typeof s||$l(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ql(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,zs(e,t,s,r,i,o))}return s=e.child,0==(i&o)&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?ra(e,t,o):(t.flags|=1,(e=Wl(s,r)).ref=t.ref,e.return=t,t.child=e)}function zs(e,t,n,r,i,o){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Ms=!1,0==(o&i))return t.lanes=e.lanes,ra(e,t,o);0!=(16384&e.flags)&&(Ms=!0)}return $s(e,t,n,r,o)}function Bs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},bl(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bl(0,e),null;t.memoizedState={baseLanes:0},bl(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,bl(0,r);return js(e,t,i,n),t.child}function Vs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function $s(e,t,n,r,i){var o=gi(n)?pi:di.current;return o=mi(t,o),io(t,i),n=ss(e,t,n,r,o,i),null===e||Ms?(t.flags|=1,js(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ra(e,t,i))}function Ws(e,t,n,r,i){if(gi(n)){var o=!0;bi(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),wo(t,n,r),Eo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;u="object"==typeof u&&null!==u?oo(u):mi(t,u=gi(n)?pi:di.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||l!==u)&&bo(t,s,r,u),so=!1;var d=t.memoizedState;s.state=d,fo(t,r,s,i),l=t.memoizedState,a!==r||d!==l||fi.current||so?("function"==typeof c&&(go(t,n,c,r),l=t.memoizedState),(a=so||yo(t,n,a,r,d,l,u))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4)):("function"==typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):("function"==typeof s.componentDidMount&&(t.flags|=4),r=!1)}else{s=t.stateNode,lo(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Yi(t.type,a),s.props=u,h=t.pendingProps,d=s.context,l="object"==typeof(l=n.contextType)&&null!==l?oo(l):mi(t,l=gi(n)?pi:di.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==h||d!==l)&&bo(t,s,r,l),so=!1,d=t.memoizedState,s.state=d,fo(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||fi.current||so?("function"==typeof f&&(go(t,n,f,r),p=t.memoizedState),(u=so||yo(t,n,u,r,d,p,l))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return qs(e,t,n,r,o,i)}function qs(e,t,n,r,i,o){Vs(e,t);var s=0!=(64&t.flags);if(!r&&!s)return i&&Ei(t,n,!1),ra(e,t,o);r=t.stateNode,Ls.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Io(t,e.child,null,o),t.child=Io(t,null,a,o)):js(e,t,a,o),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Hs(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Ro(e,t.containerInfo)}var Ks,Gs,Qs,Ys,Xs={dehydrated:null,retryLane:0};function Js(e,t,n){var r,i=t.pendingProps,o=jo.current,s=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ci(jo,1&o),null===e?(void 0!==i.fallback&&Wo(t),e=i.children,o=i.fallback,s?(e=Zs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xs,e):"number"==typeof i.unstable_expectedLoadTime?(e=Zs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xs,t.lanes=33554432,e):((n=Kl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,s?(i=function(e,t,n,r,i){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return 0==(2&o)&&t.child!==s?((n=t.child).childLanes=0,n.pendingProps=a,null!==(s=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wl(s,a),null!==e?r=Wl(e,r):(r=Hl(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Xs,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=Wl(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Zs(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Kl(t,i,0,null),n=Hl(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function ea(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function ta(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function na(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(js(e,t,r.children,n),0!=(2&(r=jo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ea(e,n);else if(19===e.tag)ea(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(jo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ta(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ta(t,!0,n,null,o,t.lastEffect);break;case"together":ta(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ra(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fa|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Wl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ia(e,t){if(!Bo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function oa(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&vi(),null;case 3:return Do(),ui(fi),ui(di),Qo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ho(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Gs(t),null;case 5:Mo(t);var o=Po(Ao.current);if(n=t.type,null!==e&&null!=t.stateNode)Qs(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Po(No.current),Ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Xr]=t,r[Jr]=a,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Nr(Sr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,a),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Nr("invalid",r);break;case"textarea":le(r,a),Nr("invalid",r)}for(var u in ke(n,a),e=null,a)a.hasOwnProperty(u)&&(o=a[u],"children"===u?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,a,!0);break;case"textarea":Y(r),ce(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Fr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,e===he.html&&(e=de(n)),e===he.html?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Xr]=t,e[Jr]=r,Ks(e,t,!1,!1),t.stateNode=e,u=Te(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),o=r;break;case"iframe":case"object":case"embed":Nr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Sr.length;o++)Nr(Sr[o],e);o=r;break;case"source":Nr("error",e),o=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),o=r;break;case"details":Nr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Nr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":le(e,r),o=ae(e,r),Nr("invalid",e);break;default:o=r}ke(n,o);var c=o;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?Ee(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===a?"string"==typeof h?("textarea"!==n||""!==h)&&ve(e,h):"number"==typeof h&&ve(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Nr("scroll",e):null!=h&&b(e,a,h,u))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?se(e,!!r.multiple,a,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Fr)}Vr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ys(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(s(166));n=Po(Ao.current),Po(No.current),Ho(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return ui(jo),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ho(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&jo.current)?0===Ma&&(Ma=3):(0!==Ma&&3!==Ma||(Ma=4),null===Aa||0==(134217727&Fa)&&0==(134217727&za)||gl(Aa,Ra))),(r||n)&&(t.flags|=4),null);case 4:return Do(),Gs(t),null===e&&Ar(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(ui(jo),null===(r=t.memoizedState))return null;if(a=0!=(64&t.flags),null===(u=r.rendering))if(a)ia(r,!1);else{if(0!==Ma||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Uo(e))){for(t.flags|=64,ia(r,!1),null!==(a=u.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ci(jo,1&jo.current|2),t.child}e=e.sibling}null!==r.tail&&Vi()>Wa&&(t.flags|=64,a=!0,ia(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Uo(u))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ia(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Bo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>Wa&&1073741824!==n&&(t.flags|=64,a=!0,ia(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,t=jo.current,ci(jo,a?1&t|2:1&t),n):null;case 23:case 24:return El(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function sa(e){switch(e.tag){case 1:gi(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),ui(fi),ui(di),Qo(),0!=(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return ui(jo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ui(jo),null;case 4:return Do(),null;case 10:return no(e),null;case 23:case 24:return El(),null;default:return null}}function aa(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function la(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ks=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Gs=function(){},Qs=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Po(No.current);var s,a=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),a=[];break;case"option":o=oe(e,o),r=oe(e,r),a=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":o=ae(e,o),r=ae(e,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Fr)}for(h in ke(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var u=o[h];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var c=r[h];if(u=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(null!=c||null!=u))if("style"===h)if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(h,c)):"children"===h?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Nr("scroll",e),a||u===c||(a=[])):"object"==typeof c&&null!==c&&c.$$typeof===L?c.toString():(a=a||[]).push(h,c))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},Ys=function(e,t,n,r){n!==r&&(t.flags|=4)};var ua="function"==typeof WeakMap?WeakMap:Map;function ca(e,t,n){(n=uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ga||(Ga=!0,Qa=r),la(0,t)},n}function ha(e,t,n){(n=uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return la(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ya?Ya=new Set([this]):Ya.add(this),la(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var da="function"==typeof WeakSet?WeakSet:Set;function fa(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ul(e,t)}else t.current=null}function pa(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(s(163))}function ma(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Ll(n,e),Dl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&po(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}po(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Vr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(s(163))}function ga(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function va(e,t){if(ki&&"function"==typeof ki.onCommitFiberUnmount)try{ki.onCommitFiberUnmount(_i,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Ll(t,n);else{r=t;try{i()}catch(e){Ul(r,e)}}n=n.next}while(n!==e)}break;case 1:if(fa(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ul(t,e)}break;case 5:fa(t);break;case 4:ka(e,t)}}function ya(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wa(e){return 5===e.tag||3===e.tag||4===e.tag}function ba(e){e:{for(var t=e.return;null!==t;){if(wa(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wa(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ea(e,n,t):_a(e,n,t)}function Ea(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Fr));else if(4!==r&&null!==(e=e.child))for(Ea(e,t,n),e=e.sibling;null!==e;)Ea(e,t,n),e=e.sibling}function _a(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_a(e,t,n),e=e.sibling;null!==e;)_a(e,t,n),e=e.sibling}function ka(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,l=i,u=l;;)if(va(a,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(va(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ta(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<o.length;i+=2){var a=o[i],l=o[i+1];"style"===a?Ee(n,l):"dangerouslySetInnerHTML"===a?ge(n,l):"children"===a?ve(n,l):b(n,a,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?se(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?se(n,!!r.multiple,r.defaultValue,!0):se(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&($a=Vi(),ga(t.child,!0)),void Sa(t);case 19:return void Sa(t);case 23:case 24:return void ga(t,null!==t.memoizedState)}throw Error(s(163))}function Sa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new da),t.forEach((function(t){var r=zl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ia(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Ca=Math.ceil,Oa=E.ReactCurrentDispatcher,Na=E.ReactCurrentOwner,xa=0,Aa=null,Pa=null,Ra=0,Da=0,La=li(0),Ma=0,ja=null,Ua=0,Fa=0,za=0,Ba=0,Va=null,$a=0,Wa=1/0;function qa(){Wa=Vi()+500}var Ha,Ka=null,Ga=!1,Qa=null,Ya=null,Xa=!1,Ja=null,Za=90,el=[],tl=[],nl=null,rl=0,il=null,ol=-1,sl=0,al=0,ll=null,ul=!1;function cl(){return 0!=(48&xa)?Vi():-1!==ol?ol:ol=Vi()}function hl(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===$i()?1:2;if(0===sl&&(sl=Ua),0!==Qi.transition){0!==al&&(al=null!==Va?Va.pendingLanes:0),e=sl;var t=4186112&~al;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=$i(),e=Ft(0!=(4&xa)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),sl)}function dl(e,t,n){if(50<rl)throw rl=0,il=null,Error(s(185));if(null===(e=fl(e,t)))return null;Vt(e,t,n),e===Aa&&(za|=t,4===Ma&&gl(e,Ra));var r=$i();1===t?0!=(8&xa)&&0==(48&xa)?vl(e):(pl(e,n),0===xa&&(qa(),Ki())):(0==(4&xa)||98!==r&&99!==r||(null===nl?nl=new Set([e]):nl.add(e)),pl(e,n)),Va=e}function fl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function pl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-$t(a),u=1<<l,c=o[l];if(-1===c){if(0==(u&r)||0!=(u&i)){c=t,Mt(u);var h=Lt;o[l]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);a&=~u}if(r=jt(e,e===Aa?Ra:0),t=Lt,0===r)null!==n&&(n!==Mi&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ii(n)}15===t?(n=vl.bind(null,e),null===Ui?(Ui=[n],Fi=Si(Ai,Gi)):Ui.push(n),n=Mi):14===t?n=Hi(99,vl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),n=Hi(n,ml.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ml(e){if(ol=-1,al=sl=0,0!=(48&xa))throw Error(s(327));var t=e.callbackNode;if(Rl()&&e.callbackNode!==t)return null;var n=jt(e,e===Aa?Ra:0);if(0===n)return null;var r=n,i=xa;xa|=16;var o=Tl();for(Aa===e&&Ra===r||(qa(),_l(e,r));;)try{Cl();break}catch(t){kl(e,t)}if(to(),Oa.current=o,xa=i,null!==Pa?r=0:(Aa=null,Ra=0,r=Ma),0!=(Ua&za))_l(e,0);else if(0!==r){if(2===r&&(xa|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Ut(e))&&(r=Sl(e,n))),1===r)throw t=ja,_l(e,0),gl(e,n),pl(e,Vi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:case 5:xl(e);break;case 3:if(gl(e,n),(62914560&n)===n&&10<(r=$a+500-Vi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){cl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(xl.bind(null,e),r);break}xl(e);break;case 4:if(gl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-$t(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ca(n/1960))-n)){e.timeoutHandle=Wr(xl.bind(null,e),n);break}xl(e);break;default:throw Error(s(329))}}return pl(e,Vi()),e.callbackNode===t?ml.bind(null,e):null}function gl(e,t){for(t&=~Ba,t&=~za,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function vl(e){if(0!=(48&xa))throw Error(s(327));if(Rl(),e===Aa&&0!=(e.expiredLanes&Ra)){var t=Ra,n=Sl(e,t);0!=(Ua&za)&&(n=Sl(e,t=jt(e,t)))}else n=Sl(e,t=jt(e,0));if(0!==e.tag&&2===n&&(xa|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Ut(e))&&(n=Sl(e,t))),1===n)throw n=ja,_l(e,0),gl(e,t),pl(e,Vi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,xl(e),pl(e,Vi()),null}function yl(e,t){var n=xa;xa|=1;try{return e(t)}finally{0===(xa=n)&&(qa(),Ki())}}function wl(e,t){var n=xa;xa&=-2,xa|=8;try{return e(t)}finally{0===(xa=n)&&(qa(),Ki())}}function bl(e,t){ci(La,Da),Da|=t,Ua|=t}function El(){Da=La.current,ui(La)}function _l(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,qr(n)),null!==Pa)for(n=Pa.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&vi();break;case 3:Do(),ui(fi),ui(di),Qo();break;case 5:Mo(r);break;case 4:Do();break;case 13:case 19:ui(jo);break;case 10:no(r);break;case 23:case 24:El()}n=n.return}Aa=e,Pa=Wl(e.current,null),Ra=Da=Ua=t,Ma=0,ja=null,Ba=za=Fa=0}function kl(e,t){for(;;){var n=Pa;try{if(to(),Yo.current=As,ns){for(var r=Zo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ns=!1}if(Jo=0,ts=es=Zo=null,rs=!1,Na.current=null,null===n||null===n.return){Ma=1,ja=t,Pa=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Ra,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!=(1&jo.current),d=s;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=d.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(f){var g=d.updateQueue;if(null===g){var v=new Set;v.add(u),d.updateQueue=v}else g.add(u);if(0==(2&d.mode)){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=uo(-1,1);y.tag=2,co(a,y)}a.lanes|=1;break e}l=void 0,a=t;var w=o.pingCache;if(null===w?(w=o.pingCache=new ua,l=new Set,w.set(u,l)):void 0===(l=w.get(u))&&(l=new Set,w.set(u,l)),!l.has(a)){l.add(a);var b=Fl.bind(null,o,u,a);u.then(b,b)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((K(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ma&&(Ma=2),l=aa(l,a),d=s;do{switch(d.tag){case 3:o=l,d.flags|=4096,t&=-t,d.lanes|=t,ho(d,ca(0,o,t));break e;case 1:o=l;var E=d.type,_=d.stateNode;if(0==(64&d.flags)&&("function"==typeof E.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===Ya||!Ya.has(_)))){d.flags|=4096,t&=-t,d.lanes|=t,ho(d,ha(d,o,t));break e}}d=d.return}while(null!==d)}Nl(n)}catch(e){t=e,Pa===n&&null!==n&&(Pa=n=n.return);continue}break}}function Tl(){var e=Oa.current;return Oa.current=As,null===e?As:e}function Sl(e,t){var n=xa;xa|=16;var r=Tl();for(Aa===e&&Ra===t||_l(e,t);;)try{Il();break}catch(t){kl(e,t)}if(to(),xa=n,Oa.current=r,null!==Pa)throw Error(s(261));return Aa=null,Ra=0,Ma}function Il(){for(;null!==Pa;)Ol(Pa)}function Cl(){for(;null!==Pa&&!Ci();)Ol(Pa)}function Ol(e){var t=Ha(e.alternate,e,Da);e.memoizedProps=e.pendingProps,null===t?Nl(e):Pa=t,Na.current=null}function Nl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=oa(n,t,Da)))return void(Pa=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Da)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=sa(t)))return n.flags&=2047,void(Pa=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Pa=t);Pa=t=e}while(null!==t);0===Ma&&(Ma=5)}function xl(e){var t=$i();return qi(99,Al.bind(null,e,t)),null}function Al(e,t){do{Rl()}while(null!==Ja);if(0!=(48&xa))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<o;){var u=31-$t(o),c=1<<u;i[u]=0,a[u]=-1,l[u]=-1,o&=~c}if(null!==nl&&0==(24&r)&&nl.has(e)&&nl.delete(e),e===Aa&&(Pa=Aa=null,Ra=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=xa,xa|=32,Na.current=null,zr=Gt,gr(a=mr())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(e){l=null;break e}var h=0,d=-1,f=-1,p=0,m=0,g=a,v=null;t:for(;;){for(var y;g!==l||0!==o&&3!==g.nodeType||(d=h+o),g!==u||0!==c&&3!==g.nodeType||(f=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===a)break t;if(v===l&&++p===o&&(d=h),v===u&&++m===c&&(f=h),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}l=-1===d||-1===f?null:{start:d,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Br={focusedElem:a,selectionRange:l},Gt=!1,ll=null,ul=!1,Ka=r;do{try{Pl()}catch(e){if(null===Ka)throw Error(s(330));Ul(Ka,e),Ka=Ka.nextEffect}}while(null!==Ka);ll=null,Ka=r;do{try{for(a=e;null!==Ka;){var w=Ka.flags;if(16&w&&ve(Ka.stateNode,""),128&w){var b=Ka.alternate;if(null!==b){var E=b.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&w){case 2:ba(Ka),Ka.flags&=-3;break;case 6:ba(Ka),Ka.flags&=-3,Ta(Ka.alternate,Ka);break;case 1024:Ka.flags&=-1025;break;case 1028:Ka.flags&=-1025,Ta(Ka.alternate,Ka);break;case 4:Ta(Ka.alternate,Ka);break;case 8:ka(a,l=Ka);var _=l.alternate;ya(l),null!==_&&ya(_)}Ka=Ka.nextEffect}}catch(e){if(null===Ka)throw Error(s(330));Ul(Ka,e),Ka=Ka.nextEffect}}while(null!==Ka);if(E=Br,b=mr(),w=E.focusedElem,a=E.selectionRange,b!==w&&w&&w.ownerDocument&&pr(w.ownerDocument.documentElement,w)){null!==a&&gr(w)&&(b=a.start,void 0===(E=a.end)&&(E=b),"selectionStart"in w?(w.selectionStart=b,w.selectionEnd=Math.min(E,w.value.length)):(E=(b=w.ownerDocument||document)&&b.defaultView||window).getSelection&&(E=E.getSelection(),l=w.textContent.length,_=Math.min(a.start,l),a=void 0===a.end?_:Math.min(a.end,l),!E.extend&&_>a&&(l=a,a=_,_=l),l=fr(w,_),o=fr(w,a),l&&o&&(1!==E.rangeCount||E.anchorNode!==l.node||E.anchorOffset!==l.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&((b=b.createRange()).setStart(l.node,l.offset),E.removeAllRanges(),_>a?(E.addRange(b),E.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),E.addRange(b))))),b=[];for(E=w;E=E.parentNode;)1===E.nodeType&&b.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<b.length;w++)(E=b[w]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Gt=!!zr,Br=zr=null,e.current=n,Ka=r;do{try{for(w=e;null!==Ka;){var k=Ka.flags;if(36&k&&ma(w,Ka.alternate,Ka),128&k){b=void 0;var T=Ka.ref;if(null!==T){var S=Ka.stateNode;Ka.tag,b=S,"function"==typeof T?T(b):T.current=b}}Ka=Ka.nextEffect}}catch(e){if(null===Ka)throw Error(s(330));Ul(Ka,e),Ka=Ka.nextEffect}}while(null!==Ka);Ka=null,ji(),xa=i}else e.current=n;if(Xa)Xa=!1,Ja=e,Za=t;else for(Ka=r;null!==Ka;)t=Ka.nextEffect,Ka.nextEffect=null,8&Ka.flags&&((k=Ka).sibling=null,k.stateNode=null),Ka=t;if(0===(r=e.pendingLanes)&&(Ya=null),1===r?e===il?rl++:(rl=0,il=e):rl=0,n=n.stateNode,ki&&"function"==typeof ki.onCommitFiberRoot)try{ki.onCommitFiberRoot(_i,n,void 0,64==(64&n.current.flags))}catch(e){}if(pl(e,Vi()),Ga)throw Ga=!1,e=Qa,Qa=null,e;return 0!=(8&xa)||Ki(),null}function Pl(){for(;null!==Ka;){var e=Ka.alternate;ul||null===ll||(0!=(8&Ka.flags)?Ze(Ka,ll)&&(ul=!0):13===Ka.tag&&Ia(e,Ka)&&Ze(Ka,ll)&&(ul=!0));var t=Ka.flags;0!=(256&t)&&pa(e,Ka),0==(512&t)||Xa||(Xa=!0,Hi(97,(function(){return Rl(),null}))),Ka=Ka.nextEffect}}function Rl(){if(90!==Za){var e=97<Za?97:Za;return Za=90,qi(e,Ml)}return!1}function Dl(e,t){el.push(t,e),Xa||(Xa=!0,Hi(97,(function(){return Rl(),null})))}function Ll(e,t){tl.push(t,e),Xa||(Xa=!0,Hi(97,(function(){return Rl(),null})))}function Ml(){if(null===Ja)return!1;var e=Ja;if(Ja=null,0!=(48&xa))throw Error(s(331));var t=xa;xa|=32;var n=tl;tl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===o)throw Error(s(330));Ul(o,e)}}for(n=el,el=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===o)throw Error(s(330));Ul(o,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return xa=t,Ki(),!0}function jl(e,t,n){co(e,t=ca(0,t=aa(n,t),1)),t=cl(),null!==(e=fl(e,1))&&(Vt(e,1,t),pl(e,t))}function Ul(e,t){if(3===e.tag)jl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){jl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ya||!Ya.has(r))){var i=ha(n,e=aa(t,e),1);if(co(n,i),i=cl(),null!==(n=fl(n,1)))Vt(n,1,i),pl(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ya||!Ya.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Fl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cl(),e.pingedLanes|=e.suspendedLanes&n,Aa===e&&(Ra&n)===n&&(4===Ma||3===Ma&&(62914560&Ra)===Ra&&500>Vi()-$a?_l(e,0):Ba|=n),pl(e,t)}function zl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===$i()?1:2:(0===sl&&(sl=Ua),0===(t=zt(62914560&~sl))&&(t=4194304))),n=cl(),null!==(e=fl(e,t))&&(Vt(e,t,n),pl(e,n))}function Bl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vl(e,t,n,r){return new Bl(e,t,n,r)}function $l(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wl(e,t){var n=e.alternate;return null===n?((n=Vl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ql(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)$l(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case T:return Hl(n.children,i,o,t);case M:a=8,i|=16;break;case S:a=8,i|=1;break;case I:return(e=Vl(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=o,e;case x:return(e=Vl(13,n,t,i)).type=x,e.elementType=x,e.lanes=o,e;case A:return(e=Vl(19,n,t,i)).elementType=A,e.lanes=o,e;case j:return Kl(n,i,o,t);case U:return(e=Vl(24,n,t,i)).elementType=U,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case O:a=9;break e;case N:a=11;break e;case P:a=14;break e;case R:a=16,r=null;break e;case D:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Vl(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Hl(e,t,n,r){return(e=Vl(7,e,r,t)).lanes=n,e}function Kl(e,t,n,r){return(e=Vl(23,e,r,t)).elementType=j,e.lanes=n,e}function Gl(e,t,n){return(e=Vl(6,e,null,t)).lanes=n,e}function Ql(e,t,n){return(t=Vl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Xl(e,t,n,r){var i=t.current,o=cl(),a=hl(i);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var u=n.type;if(gi(u)){n=wi(n,u,l);break e}}n=l}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=uo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),co(i,t),dl(i,a,o),a}function Jl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eu(e,t){Zl(e,t),(e=e.alternate)&&Zl(e,t)}function tu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Yl(e,t,null!=n&&!0===n.hydrate),t=Vl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ao(t),e[Zr]=n.current,Ar(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ru(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=Jl(s);a.call(e)}}Xl(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tu(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Jl(s);l.call(e)}}wl((function(){Xl(t,s,e,i)}))}return Jl(s)}function iu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ha=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Ms=!0;else{if(0==(n&r)){switch(Ms=!1,t.tag){case 3:Hs(t),Ko();break;case 5:Lo(t);break;case 1:gi(t.type)&&bi(t);break;case 4:Ro(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ci(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Js(e,t,n):(ci(jo,1&jo.current),null!==(t=ra(e,t,n))?t.sibling:null);ci(jo,1&jo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return na(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ci(jo,jo.current),r)break;return null;case 23:case 24:return t.lanes=0,Bs(e,t,n)}return ra(e,t,n)}Ms=0!=(16384&e.flags)}else Ms=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),io(t,n),i=ss(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ao(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&go(t,r,a,e),i.updater=vo,t.stateNode=i,i._reactInternals=t,Eo(t,r,e,n),t=qs(null,t,r,!0,o,n)}else t.tag=0,js(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return $l(e)?1:0;if(null!=e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=$s(null,t,i,e,n);break e;case 1:t=Ws(null,t,i,e,n);break e;case 11:t=Us(null,t,i,e,n);break e;case 14:t=Fs(null,t,i,Yi(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,$s(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ws(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Hs(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,lo(e,t),fo(t,r,null,n),(r=t.memoizedState.element)===i)Ko(),t=ra(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(zo=Kr(t.stateNode.containerInfo.firstChild),Fo=t,o=Bo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Go.push(o);for(n=Co(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else js(e,t,r,n),Ko();t=t.child}return t;case 5:return Lo(t),null===e&&Wo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,$r(r,i)?a=null:null!==o&&$r(r,o)&&(t.flags|=16),Vs(e,t),js(e,t,a,n),t.child;case 6:return null===e&&Wo(t),null;case 13:return Js(e,t,n);case 4:return Ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Io(t,null,r,n):js(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Us(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return js(e,t,t.pendingProps,n),t.child;case 8:case 12:return js(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var l=t.type._context;if(ci(Xi,l._currentValue),l._currentValue=o,null!==a)if(l=a.value,0==(o=ur(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(a.children===i.children&&!fi.current){t=ra(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===l.tag&&((c=uo(-1,n&-n)).tag=2,co(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),ro(l.return,n),u.lanes|=n;break}c=c.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}js(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.flags|=1,js(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),Fs(e,t,i,o=Yi(i.type,o),r,n);case 15:return zs(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,bi(t)):e=!1,io(t,n),wo(t,r,i),Eo(t,r,i,n),qs(null,t,r,!0,e,n);case 19:return na(e,t,n);case 23:case 24:return Bs(e,t,n)}throw Error(s(156,t.tag))},tu.prototype.render=function(e){Xl(e,this._internalRoot,null,null)},tu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Xl(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(dl(e,4,cl()),eu(e,4))},tt=function(e){13===e.tag&&(dl(e,67108864,cl()),eu(e,67108864))},nt=function(e){if(13===e.tag){var t=cl(),n=hl(e);dl(e,n,t),eu(e,n)}},rt=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(s(90));X(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&se(e,!!n.multiple,t,!1)}},Pe=yl,Re=function(e,t,n,r,i){var o=xa;xa|=4;try{return qi(98,e.bind(null,t,n,r,i))}finally{0===(xa=o)&&(qa(),Ki())}},De=function(){0==(49&xa)&&(function(){if(null!==nl){var e=nl;nl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,pl(e,Vi())}))}Ki()}(),Rl())},Le=function(e,t){var n=xa;xa|=2;try{return e(t)}finally{0===(xa=n)&&(qa(),Ki())}};var ou={Events:[ni,ri,ii,xe,Ae,Rl,{current:!1}]},su={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},au={bundleType:su.bundleType,version:su.version,rendererPackageName:su.rendererPackageName,rendererConfig:su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:su.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{_i=lu.inject(au),ki=lu}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ou,t.createPortal=iu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=xa;if(0!=(48&n))return e(t);xa|=1;try{if(e)return qi(99,e.bind(null,t))}finally{xa=n,Ki()}},t.hydrate=function(e,t,n){if(!nu(t))throw Error(s(200));return ru(null,e,t,!0,n)},t.render=function(e,t,n){if(!nu(t))throw Error(s(200));return ru(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nu(e))throw Error(s(40));return!!e._reactRootContainer&&(wl((function(){ru(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=yl,t.unstable_createPortal=function(e,t){return iu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ru(e,t,n,!1,r)},t.version="17.0.2"},935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},408:(e,t,n)=>{"use strict";var r=n(418),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),s=h("react.provider"),a=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),u=h("react.memo"),c=h("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var w=y.prototype=new v;w.constructor=y,r(w,g.prototype),w.isPureReactComponent=!0;var b={current:null},E=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,r)&&!_.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:s,ref:a,props:o,_owner:b.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return s=s(l=e),e=""===r?"."+I(l,0):r,Array.isArray(s)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),C(s,t,n,"",(function(e){return e}))):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(S,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+I(a=e[u],u);l+=C(a,t,n,c,s)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=C(a=a.value,t,n,c=r+I(a,u++),s);else if("object"===a)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function O(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var x={current:null};function A(){var e=x.current;if(null===e)throw Error(f(321));return e}var P={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var o=r({},e.props),s=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=b.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)E.call(t,c)&&!_.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];o.children=u}return{$$typeof:i,type:e.type,key:s,ref:a,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},294:(e,t,n)=>{"use strict";e.exports=n(408)},53:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,h=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(h,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,y=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,E=b.port2;b.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();w=e+y;try{g(!0,e)?E.postMessage(null):(m=!1,g=null)}catch(e){throw E.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,E.postMessage(null))},r=function(e,n){v=d((function(){e(t.unstable_now())}),n)},i=function(){f(v),v=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,l=e[a];if(void 0!==s&&0>S(s,n))void 0!==l&&0>S(l,s)?(e[r]=l,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==l&&0>S(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],C=[],O=1,N=null,x=3,A=!1,P=!1,R=!1;function D(e){for(var t=k(C);null!==t;){if(null===t.callback)T(C);else{if(!(t.startTime<=e))break;T(C),t.sortIndex=t.expirationTime,_(I,t)}t=k(C)}}function L(e){if(R=!1,D(e),!P)if(null!==k(I))P=!0,n(M);else{var t=k(C);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,R&&(R=!1,i()),A=!0;var o=x;try{for(D(n),N=k(I);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=N.callback;if("function"==typeof s){N.callback=null,x=N.priorityLevel;var a=s(N.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?N.callback=a:N===k(I)&&T(I),D(n)}else T(I);N=k(I)}if(null!==N)var l=!0;else{var u=k(C);null!==u&&r(L,u.startTime-n),l=!1}return l}finally{N=null,x=o,A=!1}}var j=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||A||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return k(I)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var n=x;x=t;try{return e()}finally{x=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=x;x=e;try{return t()}finally{x=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?a+s:a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:O++,callback:o,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>a?(e.sortIndex=s,_(C,e),null===k(I)&&e===k(C)&&(R?i():R=!0,r(L,s-a))):(e.sortIndex=l,_(I,e),P||A||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=x;return function(){var n=x;x=t;try{return e.apply(this,arguments)}finally{x=n}}}},840:(e,t,n)=>{"use strict";e.exports=n(53)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{"use strict";var e=n(294),t=n(935),r=n(486),i=n.n(r),o=n(697),s=n.n(o);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var l=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",a({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),e.createElement("polyline",{points:"17 11 12 6 7 11"}),e.createElement("polyline",{points:"17 18 12 13 7 18"}))}));l.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},l.displayName="ChevronsUp";const u=l;function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h{resume(){this.startTime=Date.now(),clearTimeout(this.id),this.id=setTimeout(this.callback,this.remainingTime)}pause(){clearTimeout(this.id),this.remainingTime-=Date.now()-this.startTime}end(){clearTimeout(this.id),this.callback()}constructor(e,t,n=!0){c(this,"id",void 0),c(this,"startTime",void 0),c(this,"remainingTime",void 0),c(this,"callback",void 0),c(this,"duration",void 0),this.callback=e,this.duration=t,this.remainingTime=t,n&&this.resume()}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f({children:t,type:n,life:r,remove:i,callback:o,color:s,fixedTime:a=!1}){const l=()=>{c(!0),setTimeout(i,500)},[u,c]=e.useState(!1),d=e.useMemo((()=>new h(l,1e3*r,!1)),[]),f=e.useRef(),p=()=>{d.pause(),f.current.style.animationPlayState="paused"},g=()=>{d.resume(),f.current.style.animationPlayState="running"};return e.useEffect((()=>{const e=()=>!a&&g(),t=()=>!a&&p();return window.addEventListener("focus",e),window.addEventListener("blur",t),(a||document.hasFocus())&&g(),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",t)}})),e.createElement("div",{className:m("Toast",[u,"Closing"],n),onMouseEnter:a?null:p,onMouseLeave:a?null:g,onClick:o?e=>{o(e),d.end()}:()=>{d.end()},style:{cursor:o?"pointer":null,backgroundColor:s}},t,e.createElement("div",{className:"ProgressBarContainer"},e.createElement("div",{ref:f,className:"ProgressBar",style:{animationDuration:r+"s"}})))}class p extends e.Component{componentDidMount(){p.instance=this}static showToast(t,n="",r=5,i={}){const{callback:o=null,color:s=null,fixedTime:a=!1}=i,l=e.createElement(f,{key:v(),children:t,type:n,life:r,color:s,fixedTime:a,remove:()=>{this.instance.setState({toasts:this.instance.state.toasts.filter((e=>e!==l))})},callback:o});return this.instance.setState({toasts:[...this.instance.state.toasts,l]}),l}get horizontalStyle(){return"Center"}get verticalStyle(){return"Bottom"}render(){return e.createElement("div",{ref:p.ref,className:m("ToastsContainer",this.horizontalStyle,this.verticalStyle)},e.createElement("div",{className:m("ClearButton",[!!this.state.toasts?.length,"Visible"]),onClick:()=>this.setState({toasts:[]})},e.createElement("u",null,"Close all")),this.state.toasts)}constructor(...e){super(...e),d(this,"state",{toasts:[]})}}function m(){let e="";for(let t=0;t<arguments.length;t++)typeof arguments[t]===(Array.isArray(arguments[t])&&"boolean"==typeof arguments[t][0]&&"object")?!0===arguments[t][0]?e+=arguments[t][1]:arguments[t][2]&&(e+=arguments[t][2]):arguments[t]&&(e+=arguments[t]),e+=" ";return e.trim()}function g(e){return fetch("https://cors-proxy.htmldriven.com/?url="+encodeURIComponent(e)).then((e=>e.blob())).then((t=>{const n=Object.assign(document.createElement("a"),{style:{display:"none"},href:URL.createObjectURL(t),download:e.split("/")[e.split("/").length-1]});n.click(),window.URL.revokeObjectURL(n.href)})).catch((e=>(console.error(e),p.showToast("Failed to save image!","Failure"))))}function v(){return Math.random().toString(36).substr(7)}d(p,"instance",void 0),d(p,"ref",e.createRef());const y={UPDATE_ROUTE:"UPDATE_ROUTE",UPDATE_PAGE:"UPDATE_PAGE",UPDATE_QUERY:"UPDATE_QUERY",UPDATE_USER:"UPDATE_USER",UPDATE_LOCAL_USER:"UPDATE_LOCAL_USER",UPDATE_SETTINGS:"UPDATE_SETTINGS"},w=new class{subscribe(e,t){return this._callbacks[e]||(this._callbacks[e]=new Set),this._callbacks[e].add(t),this.unsubscribe.bind(this,e,t)}unsubscribe(e,t){this._callbacks[e]&&this._callbacks[e].delete(t)}dispatch(e){const t=e.type;if(this._callbacks[t])for(const n of this._callbacks[t])try{n(e)}catch(e){console.error(e)}}get useForceUpdater(){return(t,n=null,r=[],o={})=>{let[,s]=e.useReducer((e=>e+1),0);"number"==typeof o.debounce&&(s=i().debounce(s,o.debounce)),e.useEffect((()=>this.subscribe(t,(e=>{"function"==typeof n?n(e)&&s():s()}))),r)}}constructor(){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"_callbacks",{})}};function b(t,n,r={}){const{target:i=document,dependencies:o=[],init:s=!1}=r;e.useEffect((()=>(i.addEventListener(t,n),s&&n(),()=>i.removeEventListener(t,n))),o)}function E(t){e.useEffect((()=>t),[])}function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}var T=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",k({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polyline",{points:"15 18 9 12 15 6"}))}));T.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},T.displayName="ChevronLeft";const S=T;function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}var C=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",I({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"}))}));C.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},C.displayName="Minimize";const O=C;function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}var x=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",N({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}))}));x.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},x.displayName="Maximize";const A=x;function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}var R=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",P({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),e.createElement("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}))}));R.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},R.displayName="Clipboard";const D=R;function L(){return L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L.apply(this,arguments)}var M=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",L({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),e.createElement("polyline",{points:"15 3 21 3 21 9"}),e.createElement("line",{x1:"10",y1:"14",x2:"21",y2:"3"}))}));M.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},M.displayName="ExternalLink";const j=M;function U(){return U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U.apply(this,arguments)}var F=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",U({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polyline",{points:"9 18 15 12 9 6"}))}));F.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},F.displayName="ChevronRight";const z=F;function B(){return B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}var V=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",B({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"6"}),e.createElement("line",{x1:"12",y1:"18",x2:"12",y2:"22"}),e.createElement("line",{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}),e.createElement("line",{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}),e.createElement("line",{x1:"2",y1:"12",x2:"6",y2:"12"}),e.createElement("line",{x1:"18",y1:"12",x2:"22",y2:"12"}),e.createElement("line",{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}),e.createElement("line",{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"}))}));V.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},V.displayName="Loader";const $=V,W=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],o=t+1<e.length,s=o?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,u=i>>2,c=(3&i)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(W(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==s||null==a)throw new H;const l=i<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class H extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K=function(e){return function(e){const t=W(e);return q.encodeByteArray(t,!0)}(e).replace(/\./g,"")},G=function(e){try{return q.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Q=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&G(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},Y=e=>{var t,n;return null===(n=null===(t=Q())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},X=e=>{const t=Y(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},J=()=>{var e;return null===(e=Q())||void 0===e?void 0:e.config},Z=e=>{var t;return null===(t=Q())||void 0===t?void 0:t[`_${e}`]};class ee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function te(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[K(JSON.stringify({alg:"none",type:"JWT"})),K(JSON.stringify(o)),""].join(".")}function ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function re(){try{return"object"==typeof indexedDB}catch(e){return!1}}function ie(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}class oe extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,se.prototype.create)}}class se{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(ae,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new oe(r,s,n)}}const ae=/\{\$([^}]+)}/g;function le(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(ue(n)&&ue(o)){if(!le(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function ue(e){return null!==e&&"object"==typeof e}function ce(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function he(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function de(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class fe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=pe),void 0===r.error&&(r.error=pe),void 0===r.complete&&(r.complete=pe);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function pe(){}function me(e){return e&&e._delegate?e._delegate:e}class ge{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ve="[DEFAULT]";class ye{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new ee;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ve})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=ve){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=ve){return this.instances.has(e)}getOptions(e=ve){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===ve?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e=ve){return this.component?this.component.multipleInstances?e:ve:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class we{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ye(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const be=[];var Ee,_e;(_e=Ee||(Ee={}))[_e.DEBUG=0]="DEBUG",_e[_e.VERBOSE=1]="VERBOSE",_e[_e.INFO=2]="INFO",_e[_e.WARN=3]="WARN",_e[_e.ERROR=4]="ERROR",_e[_e.SILENT=5]="SILENT";const ke={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},Te=Ee.INFO,Se={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},Ie=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=Se[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Ce{constructor(e){this.name=e,this._logLevel=Te,this._logHandler=Ie,this._userLogHandler=null,be.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ke[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const Oe=(e,t)=>t.some((t=>e instanceof t));let Ne,xe;const Ae=new WeakMap,Pe=new WeakMap,Re=new WeakMap,De=new WeakMap,Le=new WeakMap;let Me={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Pe.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Re.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ue(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function je(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(xe||(xe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Fe(this),e),Ue(Ae.get(this))}:function(...e){return Ue(t.apply(Fe(this),e))}:function(e,...n){const r=t.call(Fe(this),e,...n);return Re.set(r,e.sort?e.sort():[e]),Ue(r)}:(e instanceof IDBTransaction&&function(e){if(Pe.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Pe.set(e,t)}(e),Oe(e,Ne||(Ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Me):e);var t}function Ue(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Ue(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Ae.set(t,e)})).catch((()=>{})),Le.set(t,e),t}(e);if(De.has(e))return De.get(e);const t=je(e);return t!==e&&(De.set(e,t),Le.set(t,e)),t}const Fe=e=>Le.get(e),ze=["get","getKey","getAll","getAllKeys","count"],Be=["put","add","delete","clear"],Ve=new Map;function $e(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Ve.get(t))return Ve.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Be.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ze.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return Ve.set(t,o),o}var We;We=Me,Me={...We,get:(e,t,n)=>$e(e,t)||We.get(e,t,n),has:(e,t)=>!!$e(e,t)||We.has(e,t)};class qe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const He="@firebase/app",Ke="0.9.13",Ge=new Ce("@firebase/app"),Qe="[DEFAULT]",Ye={[He]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,Je=new Map;function Ze(e,t){try{e.container.addComponent(t)}catch(n){Ge.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function et(e){const t=e.name;if(Je.has(t))return Ge.debug(`There were multiple attempts to register component ${t}.`),!1;Je.set(t,e);for(const t of Xe.values())Ze(t,e);return!0}function tt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const nt=new se("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class rt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ge("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nt.create("app-deleted",{appName:this._name})}}const it="9.23.0";function ot(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:Qe,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw nt.create("bad-app-name",{appName:String(i)});if(n||(n=J()),!n)throw nt.create("no-options");const o=Xe.get(i);if(o){if(le(n,o.options)&&le(r,o.config))return o;throw nt.create("duplicate-app",{appName:i})}const s=new we(i);for(const e of Je.values())s.addComponent(e);const a=new rt(n,r,s);return Xe.set(i,a),a}function st(e=Qe){const t=Xe.get(e);if(!t&&e===Qe&&J())return ot();if(!t)throw nt.create("no-app",{appName:e});return t}function at(e,t,n){var r;let i=null!==(r=Ye[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ge.warn(e.join(" "))}et(new ge(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const lt="firebase-heartbeat-database",ut=1,ct="firebase-heartbeat-store";let ht=null;function dt(){return ht||(ht=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Ue(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Ue(s.result),e.oldVersion,e.newVersion,Ue(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(lt,ut,{upgrade:(e,t)=>{0===t&&e.createObjectStore(ct)}}).catch((e=>{throw nt.create("idb-open",{originalErrorMessage:e.message})}))),ht}async function ft(e,t){try{const n=(await dt()).transaction(ct,"readwrite"),r=n.objectStore(ct);await r.put(t,pt(e)),await n.done}catch(e){if(e instanceof oe)Ge.warn(e.message);else{const t=nt.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});Ge.warn(t.message)}}}function pt(e){return`${e.name}!${e.options.appId}`}class mt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vt(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=gt();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=gt(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),yt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=K(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function gt(){return(new Date).toISOString().substring(0,10)}class vt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!re()&&ie().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await dt();return await t.transaction(ct).objectStore(ct).get(pt(e))}catch(e){if(e instanceof oe)Ge.warn(e.message);else{const t=nt.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});Ge.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ft(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ft(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function yt(e){return K(JSON.stringify({version:2,heartbeats:e})).length}function wt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}et(new ge("platform-logger",(e=>new qe(e)),"PRIVATE")),et(new ge("heartbeat",(e=>new mt(e)),"PRIVATE")),at(He,Ke,""),at(He,Ke,"esm2017"),at("fire-js",""),Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;const bt=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Et=new se("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_t=new Ce("@firebase/auth");function kt(e,...t){_t.logLevel<=Ee.ERROR&&_t.error(`Auth (${it}): ${e}`,...t)}function Tt(e,...t){throw It(e,...t)}function St(e,...t){return It(e,...t)}function It(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Et.create(e,...t)}function Ct(e,t,...n){if(!e)throw It(t,...n)}function Ot(e){const t="INTERNAL ASSERTION FAILED: "+e;throw kt(t),new Error(t)}function Nt(e,t){e||Ot(t)}function xt(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function At(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Pt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===At()||"https:"===At()||function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Rt{constructor(e,t){this.shortDelay=e,this.longDelay=t,Nt(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ne())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return Pt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dt(e,t){Nt(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Lt{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ot("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ot("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ot("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},jt=new Rt(3e4,6e4);function Ut(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ft(e,t,n,r,i={}){return zt(e,i,(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=ce(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Lt.fetch()(Vt(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function zt(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Mt),t);try{const t=new $t(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Wt(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Wt(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Wt(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Wt(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw function(e,t,n){const r=Object.assign(Object.assign({},bt()),{[t]:n});return new se("auth","Firebase",r).create(t,{appName:e.name})}(e,a,s);Tt(e,a)}}catch(t){if(t instanceof oe)throw t;Tt(e,"network-request-failed",{message:String(t)})}}async function Bt(e,t,n,r,i={}){const o=await Ft(e,t,n,r,i);return"mfaPendingCredential"in o&&Tt(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Vt(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Dt(e.config,i):`${e.config.apiScheme}://${i}`}class $t{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(St(this.auth,"network-request-failed"))),jt.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wt(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=St(e,t,r);return i.customData._tokenResponse=n,i}function qt(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function Ht(e){return 1e3*Number(e)}function Kt(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return kt("JWT malformed, contained fewer than 3 sections"),null;try{const e=G(n);return e?JSON.parse(e):(kt("Failed to decode base64 JWT payload"),null)}catch(e){return kt("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}async function Gt(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof oe&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class Qt{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class Yt{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qt(this.lastLoginAt),this.creationTime=qt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xt(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Gt(e,async function(e,t){return Ft(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Ct(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=wt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],a=(l=e.providerData,u=s,[...l.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&o.passwordHash||(null==a?void 0:a.length)),d=!!c&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Yt(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class Jt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ct(e.idToken,"internal-error"),Ct(void 0!==e.idToken,"internal-error"),Ct(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Kt(e);return Ct(t,"internal-error"),Ct(void 0!==t.exp,"internal-error"),Ct(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Ct(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await zt(e,{},(async()=>{const n=ce({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Vt(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Lt.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Jt;return n&&(Ct("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Ct("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Ct("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jt,this.toJSON())}_performRefresh(){return Ot("not implemented")}}function Zt(e,t){Ct("string"==typeof e||void 0===e,"internal-error",{appName:t})}class en{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=wt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Yt(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Gt(this,this.stsTokenManager.getToken(this.auth,e));return Ct(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=me(e),r=await n.getIdToken(t),i=Kt(r);Ct(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:qt(Ht(i.auth_time)),issuedAtTime:qt(Ht(i.iat)),expirationTime:qt(Ht(i.exp)),signInProvider:s||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=me(e);await Xt(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new en(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Xt(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Gt(this,async function(e,t){return Ft(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:E,stsTokenManager:_}=t;Ct(y&&_,e,"internal-error");const k=Jt.fromJSON(this.name,_);Ct("string"==typeof y,e,"internal-error"),Zt(c,e.name),Zt(h,e.name),Ct("boolean"==typeof w,e,"internal-error"),Ct("boolean"==typeof b,e,"internal-error"),Zt(d,e.name),Zt(f,e.name),Zt(p,e.name),Zt(m,e.name),Zt(g,e.name),Zt(v,e.name);const T=new en({uid:y,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return E&&Array.isArray(E)&&(T.providerData=E.map((e=>Object.assign({},e)))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t,n=!1){const r=new Jt;r.updateFromServerResponse(t);const i=new en({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Xt(i),i}}const tn=new Map;function nn(e){Nt(e instanceof Function,"Expected a class definition");let t=tn.get(e);return t?(Nt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,tn.set(e,t),t)}class rn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}rn.type="NONE";const on=rn;function sn(e,t,n){return`firebase:${e}:${t}:${n}`}class an{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=sn(this.userKey,r.apiKey,i),this.fullPersistenceKey=sn("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?en._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new an(nn(on),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||nn(on);const o=sn(n,e.config.apiKey,e.name);let s=null;for(const n of t)try{const t=await n._get(o);if(t){const r=en._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(e){}}))),new an(i,e,n)):new an(i,e,n)}}function ln(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(un(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pn(t))return"Blackberry";if(mn(t))return"Webos";if(cn(t))return"Safari";if((t.includes("chrome/")||hn(t))&&!t.includes("edge/"))return"Chrome";if(fn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function un(e=ne()){return/firefox\//i.test(e)}function cn(e=ne()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hn(e=ne()){return/crios\//i.test(e)}function dn(e=ne()){return/iemobile/i.test(e)}function fn(e=ne()){return/android/i.test(e)}function pn(e=ne()){return/blackberry/i.test(e)}function mn(e=ne()){return/webos/i.test(e)}function gn(e=ne()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function vn(e=ne()){return gn(e)||fn(e)||mn(e)||pn(e)||/windows phone/i.test(e)||dn(e)}function yn(e,t=[]){let n;switch(e){case"Browser":n=ln(ne());break;case"Worker":n=`${ln(ne())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${it}/${r}`}async function wn(e,t){return Ft(e,"GET","/v2/recaptchaConfig",Ut(e,t))}function bn(e){return void 0!==e&&void 0!==e.enterprise}class En{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function _n(e){return new Promise(((t,n)=>{const r=document.createElement("script");var i,o;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=St("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(o=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==o?o:document).appendChild(r)}))}function kn(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Tn{constructor(e){this.type="recaptcha-enterprise",this.auth=On(e)}async verify(e="verify",t=!1){function n(t,n,r){const i=window.grecaptcha;bn(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{wn(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new En(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&bn(window.grecaptcha))n(i,e,r);else{if("undefined"==typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));_n("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Sn(e,t,n,r=!1){const i=new Tn(e);let o;try{o=await i.verify(n)}catch(e){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}class In{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(e){r(e)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}class Cn{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nn(this),this.idTokenSubscription=new Nn(this),this.beforeStateQueue=new In(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Et,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=nn(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await an.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null==s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(e)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xt(e)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?me(e):null;return t&&Ct(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(nn(e))}))}async initializeRecaptchaConfig(){const e=await wn(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new En(e);null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled&&new Tn(this).verify()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new se("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&nn(e)||this._popupRedirectResolver;Ct(t,this,"argument-error"),this.redirectPersistenceManager=await an.create(this,[nn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ct(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){_t.logLevel<=Ee.WARN&&_t.warn(`Auth (${it}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function On(e){return me(e)}class Nn{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new fe(e,void 0);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xn(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function An(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Pn{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ot("not implemented")}_getIdTokenResponse(e){return Ot("not implemented")}_linkToIdToken(e,t){return Ot("not implemented")}_getReauthenticationResolver(e){return Ot("not implemented")}}async function Rn(e,t){return Bt(e,"POST","/v1/accounts:signInWithPassword",Ut(e,t))}class Dn extends Pn{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Dn(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Dn(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Sn(e,n,"signInWithPassword");return Rn(e,t)}return Rn(e,n).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Sn(e,n,"signInWithPassword");return Rn(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return Bt(e,"POST","/v1/accounts:signInWithEmailLink",Ut(e,t))}(e,{email:this._email,oobCode:this._password});default:Tt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return async function(e,t){return Ft(e,"POST","/v1/accounts:update",t)}(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Bt(e,"POST","/v1/accounts:signInWithEmailLink",Ut(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Tt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ln(e,t){return Bt(e,"POST","/v1/accounts:signInWithIdp",Ut(e,t))}class Mn extends Pn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Mn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Tt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=wt(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Mn(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Ln(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ln(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ln(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ce(t)}return e}}const jn={USER_NOT_FOUND:"user-not-found"};class Un extends Pn{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Un({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Un({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Bt(e,"POST","/v1/accounts:signInWithPhoneNumber",Ut(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Bt(e,"POST","/v1/accounts:signInWithPhoneNumber",Ut(e,t));if(n.temporaryProof)throw Wt(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Bt(e,"POST","/v1/accounts:signInWithPhoneNumber",Ut(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),jn)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Un({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Fn{constructor(e){var t,n,r,i,o,s;const a=he(de(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Ct(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=he(de(e)).link,n=t?he(de(t)).deep_link_id:null,r=he(de(e)).deep_link_id;return(r?he(de(r)).link:null)||r||n||t||e}(e);try{return new Fn(t)}catch(e){return null}}}class zn{constructor(){this.providerId=zn.PROVIDER_ID}static credential(e,t){return Dn._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Fn.parseLink(t);return Ct(n,"argument-error"),Dn._fromEmailAndCode(e,n.code,n.tenantId)}}zn.PROVIDER_ID="password",zn.EMAIL_PASSWORD_SIGN_IN_METHOD="password",zn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Bn{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vn extends Bn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $n extends Vn{constructor(){super("facebook.com")}static credential(e){return Mn._fromParams({providerId:$n.PROVIDER_ID,signInMethod:$n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $n.credentialFromTaggedObject(e)}static credentialFromError(e){return $n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return $n.credential(e.oauthAccessToken)}catch(e){return null}}}$n.FACEBOOK_SIGN_IN_METHOD="facebook.com",$n.PROVIDER_ID="facebook.com";class Wn extends Vn{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Mn._fromParams({providerId:Wn.PROVIDER_ID,signInMethod:Wn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wn.credentialFromTaggedObject(e)}static credentialFromError(e){return Wn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Wn.credential(t,n)}catch(e){return null}}}Wn.GOOGLE_SIGN_IN_METHOD="google.com",Wn.PROVIDER_ID="google.com";class qn extends Vn{constructor(){super("github.com")}static credential(e){return Mn._fromParams({providerId:qn.PROVIDER_ID,signInMethod:qn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qn.credentialFromTaggedObject(e)}static credentialFromError(e){return qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return qn.credential(e.oauthAccessToken)}catch(e){return null}}}qn.GITHUB_SIGN_IN_METHOD="github.com",qn.PROVIDER_ID="github.com";class Hn extends Vn{constructor(){super("twitter.com")}static credential(e,t){return Mn._fromParams({providerId:Hn.PROVIDER_ID,signInMethod:Hn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Hn.credentialFromTaggedObject(e)}static credentialFromError(e){return Hn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Hn.credential(t,n)}catch(e){return null}}}async function Kn(e,t){return Bt(e,"POST","/v1/accounts:signUp",Ut(e,t))}Hn.TWITTER_SIGN_IN_METHOD="twitter.com",Hn.PROVIDER_ID="twitter.com";class Gn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await en._fromIdTokenResponse(e,n,r),o=Qn(n);return new Gn({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Qn(n);return new Gn({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Qn(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Yn extends oe{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Yn.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Yn(e,t,n,r)}}function Xn(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Yn._fromErrorAndOperation(e,n,t,r);throw n}))}async function Jn(e,t,n=!1){const r="signIn",i=await Xn(e,r,t),o=await Gn._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}new WeakMap;const Zn="__sak";class er{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zn,"1"),this.storage.removeItem(Zn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class tr extends er{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=ne();return cn(e)||gn(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=vn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);!function(){const e=ne();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||10!==document.documentMode||i===e.newValue||e.newValue===e.oldValue?r():setTimeout(r,10)}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}tr.type="LOCAL";const nr=tr;class rr extends er{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rr.type="SESSION";const ir=rr;class or{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new or(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function sr(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}or.receivers=[];class ar{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=sr("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function lr(){return window}function ur(){return void 0!==lr().WorkerGlobalScope&&"function"==typeof lr().importScripts}const cr="firebaseLocalStorageDb",hr="firebaseLocalStorage",dr="fbase_key";class fr{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function pr(e,t){return e.transaction([hr],t?"readwrite":"readonly").objectStore(hr)}function mr(){const e=indexedDB.open(cr,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(hr,{keyPath:dr})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(hr)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(cr);return new fr(e).toPromise()}(),t(await mr()))}))}))}async function gr(e,t,n){const r=pr(e,!0).put({[dr]:t,value:n});return new fr(r).toPromise()}function vr(e,t){const n=pr(e,!0).delete(t);return new fr(n).toPromise()}class yr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await mr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ur()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=or._getInstance(ur()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ar(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}var t}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mr();return await gr(e,Zn,"1"),await vr(e,Zn),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>gr(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=pr(e,!1).get(t),r=await new fr(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>vr(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=pr(e,!1).getAll();return new fr(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}yr.type="LOCAL";const wr=yr;kn("rcb"),new Rt(3e4,6e4);class br{constructor(e){this.providerId=br.PROVIDER_ID,this.auth=On(e)}verifyPhoneNumber(e,t){return async function(e,t,n){var r;const i=await n.verify();try{let o;if(Ct("string"==typeof i,e,"argument-error"),Ct("recaptcha"===n.type,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Ct("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ft(e,"POST","/v2/accounts/mfaEnrollment:start",Ut(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Ct("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Ct(n,e,"missing-multi-factor-info");const s=await function(e,t){return Ft(e,"POST","/v2/accounts/mfaSignIn:start",Ut(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ft(e,"POST","/v1/accounts:sendVerificationCode",Ut(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}(this.auth,e,me(t))}static credential(e,t){return Un._fromVerification(e,t)}static credentialFromResult(e){const t=e;return br.credentialFromTaggedObject(t)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Un._fromTokenResponse(t,n):null}}br.PROVIDER_ID="phone",br.PHONE_SIGN_IN_METHOD="phone";class Er extends Pn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ln(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ln(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ln(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _r(e){return Jn(e.auth,new Er(e),e.bypassAuthState)}function kr(e){const{auth:t,user:n}=e;return Ct(n,t,"internal-error"),async function(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await Gt(e,Xn(r,i,t,e),n);Ct(o.idToken,r,"internal-error");const s=Kt(o.idToken);Ct(s,r,"internal-error");const{sub:a}=s;return Ct(e.uid===a,r,"user-mismatch"),Gn._forOperation(e,i,o)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&Tt(r,"user-mismatch"),e}}(n,new Er(e),e.bypassAuthState)}async function Tr(e){const{auth:t,user:n}=e;return Ct(n,t,"internal-error"),async function(e,t,n=!1){const r=await Gt(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Gn._forOperation(e,"link",r)}(n,new Er(e),e.bypassAuthState)}class Sr{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _r;case"linkViaPopup":case"linkViaRedirect":return Tr;case"reauthViaPopup":case"reauthViaRedirect":return kr;default:Tt(this.auth,"internal-error")}}resolve(e){Nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ir=new Rt(2e3,1e4);class Cr extends Sr{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Cr.currentPopupAction&&Cr.currentPopupAction.cancel(),Cr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ct(e,this.auth,"internal-error"),e}async onExecution(){Nt(1===this.filter.length,"Popup operations only handle one event");const e=sr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(St(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(St(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(St(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ir.get())};e()}}Cr.currentPopupAction=null;const Or="pendingRedirect",Nr=new Map;class xr extends Sr{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Nr.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return sn(Or,e.config.apiKey,e.name)}(t),r=function(e){return nn(e._redirectPersistence)}(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Nr.set(this.auth._key(),e)}return this.bypassAuthState||Nr.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ar(e,t){Nr.set(e._key(),t)}async function Pr(e,t,n=!1){const r=On(e),i=function(e,t){return t?nn(t):(Ct(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),o=new xr(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Rr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Lr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(St(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dr(e))}saveEventToCache(e){this.cachedEventUids.add(Dr(e)),this.lastProcessedEventTime=Date.now()}}function Dr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Lr({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const Mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jr=/^https?/;function Ur(e){const t=xt(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!jr.test(n))return!1;if(Mr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Fr=new Rt(3e4,6e4);function zr(){const e=lr().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let Br=null;function Vr(e){return Br=Br||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){zr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zr(),n(St(e,"network-request-failed"))},timeout:Fr.get()})}if(null===(i=null===(r=lr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=lr().gapi)||void 0===o?void 0:o.load)){const t=kn("iframefcb");return lr()[t]=()=>{gapi.load?s():n(St(e,"network-request-failed"))},_n(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw Br=null,e}))}(e),Br}const $r=new Rt(5e3,15e3),Wr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hr(e){const t=e.config;Ct(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Dt(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:it},i=qr.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ce(r).slice(1)}`}const Kr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const Qr=encodeURIComponent("fac");async function Yr(e,t,n,r,i,o){Ct(e.config.authDomain,e,"auth-domain-config-required"),Ct(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:it,eventId:i};if(t instanceof Bn){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Vn){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];const l=await e._getAppCheckToken(),u=l?`#${Qr}=${encodeURIComponent(l)}`:"";return`${function({config:e}){return e.emulator?Dt(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${ce(a).slice(1)}${u}`}const Xr="webStorageSupport",Jr=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ir,this._completeRedirectFn=Pr,this._overrideRedirectResult=Ar}async _openPopup(e,t,n,r){var i;return Nt(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Kr),{width:r.toString(),height:i.toString(),top:o,left:s}),u=ne().toLowerCase();n&&(a=hn(u)?"_blank":n),un(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=ne()){var t;return gn(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Gr(null);const h=window.open(t||"",a,c);Ct(h,e,"popup-blocked");try{h.focus()}catch(e){}return new Gr(h)}(e,await Yr(e,t,n,xt(),r),sr())}async _openRedirect(e,t,n,r){return await this._originValidation(e),i=await Yr(e,t,n,xt(),r),lr().location.href=i,new Promise((()=>{}));var i}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Nt(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Vr(e),n=lr().gapi;return Ct(n,e,"internal-error"),t.open({where:document.body,url:Hr(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wr,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=St(e,"network-request-failed"),o=lr().setTimeout((()=>{r(i)}),$r.get());function s(){lr().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new Rr(e);return t.register("authEvent",(t=>(Ct(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xr,{type:Xr},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[Xr];void 0!==i&&t(!!i),Tt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return Ft(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(Ur(e))return}catch(e){}Tt(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vn()||cn()||gn()}};var Zr="@firebase/auth",ei="0.23.2";class ti{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ni=Z("authIdTokenMaxAge")||300;let ri=null;function ii(e=st()){const t=tt(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=tt(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(le(n.getOptions(),null!=t?t:{}))return e;Tt(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Jr,persistence:[wr,nr,ir]}),r=Z("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ni)return;const r=null==t?void 0:t.token;ri!==r&&(ri=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){me(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(t,n,r,i){me(t).onIdTokenChanged((t=>e(t)),void 0,void 0)}(n)}var i;const o=Y("auth");return o&&function(e,t,n){const r=On(e);Ct(r._canInitEmulator,r,"emulator-config-failed"),Ct(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),o=xn(t),{host:s,port:a}=function(e){const t=xn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:An(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:An(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${o}`),n}var oi;oi="Browser",et(new ge("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;Ct(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:o,authDomain:s,clientPlatform:oi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yn(oi)},l=new Cn(n,r,i,a);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(nn);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),et(new ge("auth-internal",(e=>{return t=On(e.getProvider("auth").getImmediate()),new ti(t);var t}),"PRIVATE").setInstantiationMode("EXPLICIT")),at(Zr,ei,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(oi)),at(Zr,ei,"esm2017");var si,ai="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},li={},ui=ui||{},ci=ai||self;function hi(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function di(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var fi="closure_uid_"+(1e9*Math.random()>>>0),pi=0;function mi(e,t,n){return e.call.apply(e.bind,arguments)}function gi(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function vi(e,t,n){return(vi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mi:gi).apply(null,arguments)}function yi(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function wi(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function bi(){this.s=this.s,this.o=this.o}bi.prototype.s=!1,bi.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,fi)&&e[fi]||(e[fi]=++pi))},bi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ei=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function _i(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function ki(e,t){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(hi(n)){const t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function Ti(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ti.prototype.h=function(){this.defaultPrevented=!0};var Si=function(){if(!ci.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ci.addEventListener("test",(()=>{}),t),ci.removeEventListener("test",(()=>{}),t)}catch(e){}return e}();function Ii(e){return/^[\s\xa0]*$/.test(e)}function Ci(){var e=ci.navigator;return e&&(e=e.userAgent)?e:""}function Oi(e){return-1!=Ci().indexOf(e)}function Ni(e){return Ni[" "](e),e}Ni[" "]=function(){};var xi,Ai,Pi,Ri=Oi("Opera"),Di=Oi("Trident")||Oi("MSIE"),Li=Oi("Edge"),Mi=Li||Di,ji=Oi("Gecko")&&!(-1!=Ci().toLowerCase().indexOf("webkit")&&!Oi("Edge"))&&!(Oi("Trident")||Oi("MSIE"))&&!Oi("Edge"),Ui=-1!=Ci().toLowerCase().indexOf("webkit")&&!Oi("Edge");function Fi(){var e=ci.document;return e?e.documentMode:void 0}e:{var zi="",Bi=(Ai=Ci(),ji?/rv:([^\);]+)(\)|;)/.exec(Ai):Li?/Edge\/([\d\.]+)/.exec(Ai):Di?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ai):Ui?/WebKit\/(\S+)/.exec(Ai):Ri?/(?:Version)[ \/]?(\S+)/.exec(Ai):void 0);if(Bi&&(zi=Bi?Bi[1]:""),Di){var Vi=Fi();if(null!=Vi&&Vi>parseFloat(zi)){xi=String(Vi);break e}}xi=zi}ci.document&&Di?Pi=Fi()||parseInt(xi,10)||void 0:Pi=void 0;var $i=Pi;function Wi(e,t){if(Ti.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ji){e:{try{Ni(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:qi[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Wi.$.h.call(this)}}wi(Wi,Ti);var qi={2:"touch",3:"pen",4:"mouse"};Wi.prototype.h=function(){Wi.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Hi="closure_listenable_"+(1e6*Math.random()|0),Ki=0;function Gi(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Ki,this.fa=this.ia=!1}function Qi(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Yi(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Xi(e){const t={};for(const n in e)t[n]=e[n];return t}const Ji="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zi(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<Ji.length;t++)n=Ji[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function eo(e){this.src=e,this.g={},this.h=0}function to(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Ei(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Qi(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function no(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}eo.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=no(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new Gi(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var ro="closure_lm_"+(1e6*Math.random()|0),io={};function oo(e,t,n,r,i){if(r&&r.once)return ao(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)oo(e,t[o],n,r,i);return null}return n=mo(n),e&&e[Hi]?e.O(t,n,di(r)?!!r.capture:!!r,i):so(e,t,n,!1,r,i)}function so(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=di(i)?!!i.capture:!!i,a=fo(e);if(a||(e[ro]=a=new eo(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){const e=ho;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Si||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(co(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ao(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ao(e,t[o],n,r,i);return null}return n=mo(n),e&&e[Hi]?e.P(t,n,di(r)?!!r.capture:!!r,i):so(e,t,n,!0,r,i)}function lo(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)lo(e,t[o],n,r,i);else r=di(r)?!!r.capture:!!r,n=mo(n),e&&e[Hi]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=no(o=e.g[t],n,r,i))&&(Qi(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=fo(e))&&(t=e.g[t.toString()],e=-1,t&&(e=no(t,n,r,i)),(n=-1<e?t[e]:null)&&uo(n))}function uo(e){if("number"!=typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Hi])to(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(co(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=fo(t))?(to(n,e),0==n.h&&(n.src=null,t[ro]=null)):Qi(e)}}}function co(e){return e in io?io[e]:io[e]="on"+e}function ho(e,t){if(e.fa)e=!0;else{t=new Wi(t,this);var n=e.listener,r=e.la||e.src;e.ia&&uo(e),e=n.call(r,t)}return e}function fo(e){return(e=e[ro])instanceof eo?e:null}var po="__closure_events_fn_"+(1e9*Math.random()>>>0);function mo(e){return"function"==typeof e?e:(e[po]||(e[po]=function(t){return e.handleEvent(t)}),e[po])}function go(){bi.call(this),this.i=new eo(this),this.S=this,this.J=null}function vo(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"==typeof t)t=new Ti(t,e);else if(t instanceof Ti)t.target=t.target||e;else{var i=t;Zi(t=new Ti(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=yo(s,r,!0,t)&&i}if(i=yo(s=t.g=e,r,!0,t)&&i,i=yo(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=yo(s=t.g=n[o],r,!1,t)&&i}function yo(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&to(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}wi(go,bi),go.prototype[Hi]=!0,go.prototype.removeEventListener=function(e,t,n,r){lo(this,e,t,n,r)},go.prototype.N=function(){if(go.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Qi(n[r]);delete t.g[e],t.h--}}this.J=null},go.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},go.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var wo=ci.JSON.stringify;function bo(){var e=Co;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Eo=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new _o),(e=>e.reset()));class _o{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ko(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function To(e){ci.setTimeout((()=>{throw e}),0)}let So,Io=!1,Co=new class{constructor(){this.h=this.g=null}add(e,t){const n=Eo.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Oo=()=>{const e=ci.Promise.resolve(void 0);So=()=>{e.then(No)}};var No=()=>{for(var e;e=bo();){try{e.h.call(e.g)}catch(e){To(e)}var t=Eo;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Io=!1};function xo(e,t){go.call(this),this.h=e||1,this.g=t||ci,this.j=vi(this.qb,this),this.l=Date.now()}function Ao(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Po(e,t,n){if("function"==typeof e)n&&(e=vi(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=vi(e.handleEvent,e)}return 2147483647<Number(t)?-1:ci.setTimeout(e,t||0)}function Ro(e){e.g=Po((()=>{e.g=null,e.i&&(e.i=!1,Ro(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}wi(xo,go),(si=xo.prototype).ga=!1,si.T=null,si.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vo(this,"tick"),this.ga&&(Ao(this),this.start()))}},si.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},si.N=function(){xo.$.N.call(this),Ao(this),delete this.g};class Do extends bi{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ro(this)}N(){super.N(),this.g&&(ci.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lo(e){bi.call(this),this.h=e,this.g={}}wi(Lo,bi);var Mo=[];function jo(e,t,n,r){Array.isArray(n)||(n&&(Mo[0]=n.toString()),n=Mo);for(var i=0;i<n.length;i++){var o=oo(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Uo(e){Yi(e.g,(function(e,t){this.g.hasOwnProperty(t)&&uo(e)}),e),e.g={}}function Fo(){this.g=!0}function zo(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return wo(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Lo.prototype.N=function(){Lo.$.N.call(this),Uo(this)},Lo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fo.prototype.Ea=function(){this.g=!1},Fo.prototype.info=function(){};var Bo={},Vo=null;function $o(){return Vo=Vo||new go}function Wo(e){Ti.call(this,Bo.Ta,e)}function qo(e){const t=$o();vo(t,new Wo(t))}function Ho(e,t){Ti.call(this,Bo.STAT_EVENT,e),this.stat=t}function Ko(e){const t=$o();vo(t,new Ho(t,e))}function Go(e,t){Ti.call(this,Bo.Ua,e),this.size=t}function Qo(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return ci.setTimeout((function(){e()}),t)}Bo.Ta="serverreachability",wi(Wo,Ti),Bo.STAT_EVENT="statevent",wi(Ho,Ti),Bo.Ua="timingevent",wi(Go,Ti);var Yo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Xo={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Jo(){}function Zo(e){return e.h||(e.h=e.i())}function es(){}Jo.prototype.h=null;var ts,ns={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rs(){Ti.call(this,"d")}function is(){Ti.call(this,"c")}function os(){}function ss(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Lo(this),this.P=ls,e=Mi?125:void 0,this.V=new xo(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new as}function as(){this.i=null,this.g="",this.h=!1}wi(rs,Ti),wi(is,Ti),wi(os,Jo),os.prototype.g=function(){return new XMLHttpRequest},os.prototype.i=function(){return{}},ts=new os;var ls=45e3,us={},cs={};function hs(e,t,n){e.L=1,e.v=xs(Ss(t)),e.s=n,e.S=!0,ds(e,null)}function ds(e,t){e.G=Date.now(),gs(e),e.A=Ss(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),$s(n.i,"t",r),e.C=0,n=e.l.J,e.h=new as,e.g=Va(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Do(vi(e.Pa,e,e.g),e.O)),jo(e.U,e.g,"readystatechange",e.nb),t=e.I?Xi(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),qo(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&"type"==h[1]?s+(c+"=")+u+"&":s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function fs(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.l.Ha}function ps(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=ms(e,n),r==cs){4==t&&(e.o=4,Ko(14),i=!1),zo(e.j,e.m,null,"[Incomplete Response]");break}if(r==us){e.o=4,Ko(15),zo(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}zo(e.j,e.m,r,null),Es(e,r)}fs(e)&&r!=cs&&r!=us&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ko(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Da(t),t.M=!0,Ko(11))):(zo(e.j,e.m,n,"[Invalid Chunked Response]"),bs(e),ws(e))}function ms(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?cs:(n=Number(t.substring(n,r)),isNaN(n)?us:(r+=1)+n>t.length?cs:(t=t.slice(r,r+n),e.C=r+n,t))}function gs(e){e.Y=Date.now()+e.P,vs(e,e.P)}function vs(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Qo(vi(e.lb,e),t)}function ys(e){e.B&&(ci.clearTimeout(e.B),e.B=null)}function ws(e){0==e.l.H||e.J||ja(e.l,e)}function bs(e){ys(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Ao(e.V),Uo(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Es(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Qs(n.i,e)))if(!e.K&&Qs(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Ma(n),Ia(n)}Ra(n),Ko(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Qo(vi(n.ib,n),6e3));if(1>=Gs(n.i)&&n.oa){try{n.oa()}catch(e){}n.oa=void 0}}else Fa(n,11)}else if((e.K||n.g==e)&&Ma(n),!Ii(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"==typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Ys(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Ns(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=Ba(r,r.J?r.pa:null,r.Y),s.K){Xs(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(ys(a),gs(a)),r.g=s}else Pa(r);0<n.j.length&&Oa(n)}else"stop"!=u[0]&&"close"!=u[0]||Fa(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Fa(n,7):Sa(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}qo()}catch(e){}}function _s(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(hi(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(hi(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(hi(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(si=ss.prototype).setTimeout=function(e){this.P=e},si.nb=function(e){e=e.target;const t=this.M;t&&3==wa(e)?t.l():this.Pa(e)},si.Pa=function(e){try{if(e==this.g)e:{const c=wa(this.g);var t=this.g.Ia();if(this.g.da(),!(3>c)&&(3!=c||Mi||this.g&&(this.h.h||this.g.ja()||ba(this.g)))){this.J||4!=c||7==t||qo(),ys(this);var n=this.g.da();this.ca=n;t:if(fs(this)){var r=ba(this.g);e="";var i=r.length,o=4==wa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){bs(this),ws(this);var s="";break t}this.h.i=new ci.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ii(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Ko(12),bs(this),ws(this);break e}zo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Es(this,n)}this.S?(ps(this,c,s),Mi&&this.i&&3==c&&(jo(this.U,this.V,"tick",this.mb),this.V.start())):(zo(this.j,this.m,s,null),Es(this,s)),4==c&&bs(this),this.i&&!this.J&&(4==c?ja(this.l,this):(this.i=!1,gs(this)))}else(function(e){const t={};e=(e.g&&2<=wa(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Ii(e[r]))continue;var n=ko(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Ko(12)):(this.o=0,Ko(13)),bs(this),ws(this)}}}catch(e){}},si.mb=function(){if(this.g){var e=wa(this.g),t=this.g.ja();this.C<t.length&&(ys(this),ps(this,e,t),this.i&&4!=e&&gs(this))}},si.cancel=function(){this.J=!0,bs(this)},si.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(qo(),Ko(17)),bs(this),this.o=2,ws(this)):vs(this,this.Y-e)};var ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ts(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ts){this.h=e.h,Is(this,e.j),this.s=e.s,this.g=e.g,Cs(this,e.m),this.l=e.l;var t=e.i,n=new Fs;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Os(this,n),this.o=e.o}else e&&(t=String(e).match(ks))?(this.h=!1,Is(this,t[1]||"",!0),this.s=As(t[2]||""),this.g=As(t[3]||"",!0),Cs(this,t[4]),this.l=As(t[5]||"",!0),Os(this,t[6]||"",!0),this.o=As(t[7]||"")):(this.h=!1,this.i=new Fs(null,this.h))}function Ss(e){return new Ts(e)}function Is(e,t,n){e.j=n?As(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Cs(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Os(e,t,n){t instanceof Fs?(e.i=t,function(e,t){t&&!e.j&&(zs(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Bs(this,t),$s(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ps(t,js)),e.i=new Fs(t,e.h))}function Ns(e,t,n){e.i.set(t,n)}function xs(e){return Ns(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function As(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ps(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Rs),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Rs(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ts.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ps(t,Ds,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ps(t,Ds,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ps(n,"/"==n.charAt(0)?Ms:Ls,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ps(n,Us)),e.join("")};var Ds=/[#\/\?@]/g,Ls=/[#\?:]/g,Ms=/[#\?]/g,js=/[#\?@]/g,Us=/#/g;function Fs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function zs(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Bs(e,t){zs(e),t=Ws(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Vs(e,t){return zs(e),t=Ws(e,t),e.g.has(t)}function $s(e,t,n){Bs(e,t),0<n.length&&(e.i=null,e.g.set(Ws(e,t),_i(n)),e.h+=n.length)}function Ws(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function qs(e){this.l=e||Hs,e=ci.PerformanceNavigationTiming?0<(e=ci.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(ci.g&&ci.g.Ka&&ci.g.Ka()&&ci.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(si=Fs.prototype).add=function(e,t){zs(this),this.i=null,e=Ws(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},si.forEach=function(e,t){zs(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},si.ta=function(){zs(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},si.Z=function(e){zs(this);let t=[];if("string"==typeof e)Vs(this,e)&&(t=t.concat(this.g.get(Ws(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},si.set=function(e,t){return zs(this),this.i=null,Vs(this,e=Ws(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},si.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},si.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var Hs=10;function Ks(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Gs(e){return e.h?1:e.g?e.g.size:0}function Qs(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ys(e,t){e.g?e.g.add(t):e.h=t}function Xs(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Js(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return _i(e.i)}qs.prototype.cancel=function(){if(this.i=Js(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Zs=class{stringify(e){return ci.JSON.stringify(e,void 0)}parse(e){return ci.JSON.parse(e,void 0)}};function ea(){this.g=new Zs}function ta(e,t,n){const r=n||"";try{_s(e,(function(e,n){let i=e;di(e)&&(i=wo(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function na(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function ra(e){this.l=e.fc||null,this.j=e.ob||!1}function ia(e,t){go.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=oa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wi(ra,Jo),ra.prototype.g=function(){return new ia(this.l,this.j)},ra.prototype.i=function(e){return function(){return e}}({}),wi(ia,go);var oa=0;function sa(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function aa(e){e.readyState=4,e.l=null,e.j=null,e.A=null,la(e)}function la(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(si=ia.prototype).open=function(e,t){if(this.readyState!=oa)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,la(this)},si.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ci).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},si.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,aa(this)),this.readyState=oa},si.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,la(this)),this.g&&(this.readyState=3,la(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==ci.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sa(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},si.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?aa(this):la(this),3==this.readyState&&sa(this)}},si.Za=function(e){this.g&&(this.response=this.responseText=e,aa(this))},si.Ya=function(e){this.g&&(this.response=e,aa(this))},si.ka=function(){this.g&&aa(this)},si.setRequestHeader=function(e,t){this.v.append(e,t)},si.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},si.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ia.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ua=ci.JSON.parse;function ca(e){go.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ha,this.L=this.M=!1}wi(ca,go);var ha="",da=/^https?$/i,fa=["POST","PUT"];function pa(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ma(e),va(e)}function ma(e){e.F||(e.F=!0,vo(e,"complete"),vo(e,"error"))}function ga(e){if(e.h&&void 0!==ui&&(!e.C[1]||4!=wa(e)||2!=e.da()))if(e.v&&4==wa(e))Po(e.La,0,e);else if(vo(e,"readystatechange"),4==wa(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.I).match(ks)[1]||null;!i&&ci.self&&ci.self.location&&(i=ci.self.location.protocol.slice(0,-1)),r=!da.test(i?i.toLowerCase():"")}n=r}if(n)vo(e,"complete"),vo(e,"success");else{e.m=6;try{var o=2<wa(e)?e.g.statusText:""}catch(e){o=""}e.j=o+" ["+e.da()+"]",ma(e)}}finally{va(e)}}}function va(e,t){if(e.g){ya(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||vo(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function ya(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ci.clearTimeout(e.A),e.A=null)}function wa(e){return e.g?e.g.readyState:0}function ba(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case ha:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ea(e){let t="";return Yi(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function _a(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ea(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Ns(e,t,n))}function ka(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ta(e){this.Ga=0,this.j=[],this.l=new Fo,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ka("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ka("baseRetryDelayMs",5e3,e),this.hb=ka("retryDelaySeedMs",1e4,e),this.eb=ka("forwardChannelMaxRetries",2,e),this.xa=ka("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new qs(e&&e.concurrentRequestLimit),this.Ja=new ea,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Sa(e){if(Ca(e),3==e.H){var t=e.W++,n=Ss(e.I);if(Ns(n,"SID",e.K),Ns(n,"RID",t),Ns(n,"TYPE","terminate"),xa(e,n),(t=new ss(e,e.l,t)).L=2,t.v=xs(Ss(n)),n=!1,ci.navigator&&ci.navigator.sendBeacon)try{n=ci.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!n&&ci.Image&&((new Image).src=t.v,n=!0),n||(t.g=Va(t.l,null),t.g.ha(t.v)),t.G=Date.now(),gs(t)}za(e)}function Ia(e){e.g&&(Da(e),e.g.cancel(),e.g=null)}function Ca(e){Ia(e),e.u&&(ci.clearTimeout(e.u),e.u=null),Ma(e),e.i.cancel(),e.m&&("number"==typeof e.m&&ci.clearTimeout(e.m),e.m=null)}function Oa(e){if(!Ks(e.i)&&!e.m){e.m=!0;var t=e.Na;So||Oo(),Io||(So(),Io=!0),Co.add(t,e),e.C=0}}function Na(e,t){var n;n=t?t.m:e.W++;const r=Ss(e.I);Ns(r,"SID",e.K),Ns(r,"RID",n),Ns(r,"AID",e.V),xa(e,r),e.o&&e.s&&_a(r,e.o,e.s),n=new ss(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Aa(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Ys(e.i,n),hs(n,r,t)}function xa(e,t){e.na&&Yi(e.na,(function(e,n){Ns(t,n,e)})),e.h&&_s({},(function(e,n){Ns(t,n,e)}))}function Aa(e,t,n){n=Math.min(e.j.length,n);var r=e.h?vi(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{ta(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Pa(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;So||Oo(),Io||(So(),Io=!0),Co.add(t,e),e.A=0}}function Ra(e){return!(e.g||e.u||3<=e.A||(e.ba++,e.u=Qo(vi(e.Ma,e),Ua(e,e.A)),e.A++,0))}function Da(e){null!=e.B&&(ci.clearTimeout(e.B),e.B=null)}function La(e){e.g=new ss(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Ss(e.wa);Ns(t,"RID","rpc"),Ns(t,"SID",e.K),Ns(t,"AID",e.V),Ns(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Ns(t,"TO",e.qa),Ns(t,"TYPE","xmlhttp"),xa(e,t),e.o&&e.s&&_a(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=xs(Ss(t)),n.s=null,n.S=!0,ds(n,e)}function Ma(e){null!=e.v&&(ci.clearTimeout(e.v),e.v=null)}function ja(e,t){var n=null;if(e.g==t){Ma(e),Da(e),e.g=null;var r=2}else{if(!Qs(e.i,t))return;n=t.F,Xs(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;vo(r=$o(),new Go(r,n)),Oa(e)}else Pa(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Gs(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.j=t.F.concat(e.j),0):1==e.H||2==e.H||e.C>=(e.cb?0:e.eb)||(e.m=Qo(vi(e.Na,e,t),Ua(e,e.C)),e.C++,0)))}(e,t)||2==r&&Ra(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Fa(e,5);break;case 4:Fa(e,10);break;case 3:Fa(e,6);break;default:Fa(e,2)}}function Ua(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Fa(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=vi(e.pb,e);n||(n=new Ts("//www.google.com/images/cleardot.gif"),ci.location&&"http"==ci.location.protocol||Is(n,"https"),xs(n)),function(e,t){const n=new Fo;if(ci.Image){const r=new Image;r.onload=yi(na,n,r,"TestLoadImage: loaded",!0,t),r.onerror=yi(na,n,r,"TestLoadImage: error",!1,t),r.onabort=yi(na,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=yi(na,n,r,"TestLoadImage: timeout",!1,t),ci.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ko(2);e.H=0,e.h&&e.h.za(t),za(e),Ca(e)}function za(e){if(e.H=0,e.ma=[],e.h){const t=Js(e.i);0==t.length&&0==e.j.length||(ki(e.ma,t),ki(e.ma,e.j),e.i.i.length=0,_i(e.j),e.j.length=0),e.h.ya()}}function Ba(e,t,n){var r=n instanceof Ts?Ss(n):new Ts(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Cs(r,r.m);else{var i=ci.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Ts(null);r&&Is(o,r),t&&(o.g=t),i&&Cs(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Ns(r,n,t),Ns(r,"VER",e.ra),xa(e,r),r}function Va(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new ca(new ra({ob:!0})):new ca(e.va)).Oa(e.J),t}function $a(){}function Wa(){if(Di&&!(10<=Number($i)))throw Error("Environmental error: no available transport.")}function qa(e,t){go.call(this),this.g=new Ta(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ii(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ii(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Ga(this)}function Ha(e){rs.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ka(){is.call(this),this.status=1}function Ga(e){this.g=e}function Qa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ya(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Xa(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(si=ca.prototype).Oa=function(e){this.M=e},si.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ts.g(),this.C=this.u?Zo(this.u):Zo(ts),this.g.onreadystatechange=vi(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(e){return void pa(this,e)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=ci.FormData&&e instanceof ci.FormData,!(0<=Ei(fa,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of n)this.g.setRequestHeader(e,t);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ya(this),0<this.B&&((this.L=function(e){return Di&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vi(this.ua,this)):this.A=Po(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){pa(this,e)}},si.ua=function(){void 0!==ui&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vo(this,"timeout"),this.abort(8))},si.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,vo(this,"complete"),vo(this,"abort"),va(this))},si.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),va(this,!0)),ca.$.N.call(this)},si.La=function(){this.s||(this.G||this.v||this.l?ga(this):this.kb())},si.kb=function(){ga(this)},si.isActive=function(){return!!this.g},si.da=function(){try{return 2<wa(this)?this.g.status:-1}catch(e){return-1}},si.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},si.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ua(t)}},si.Ia=function(){return this.m},si.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(si=Ta.prototype).ra=8,si.H=1,si.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new ss(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Xi(o),Zi(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Aa(this,i,t),Ns(n=Ss(this.I),"RID",e),Ns(n,"CVER",22),this.F&&Ns(n,"X-HTTP-Session-Id",this.F),xa(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Ea(o)))+"&"+t:this.o&&_a(n,this.o,o)),Ys(this.i,i),this.bb&&Ns(n,"TYPE","init"),this.P?(Ns(n,"$req",t),Ns(n,"SID","null"),i.aa=!0,hs(i,n,null)):hs(i,n,t),this.H=2}}else 3==this.H&&(e?Na(this,e):0==this.j.length||Ks(this.i)||Na(this))},si.Ma=function(){if(this.u=null,La(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Qo(vi(this.jb,this),e)}},si.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ko(10),Ia(this),La(this))},si.ib=function(){null!=this.v&&(this.v=null,Ia(this),Ra(this),Ko(19))},si.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ko(2)):(this.l.info("Failed to ping google.com"),Ko(1))},si.isActive=function(){return!!this.h&&this.h.isActive(this)},(si=$a.prototype).Ba=function(){},si.Aa=function(){},si.za=function(){},si.ya=function(){},si.isActive=function(){return!0},si.Va=function(){},Wa.prototype.g=function(e,t){return new qa(e,t)},wi(qa,go),qa.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ko(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Ba(e,null,e.Y),Oa(e)},qa.prototype.close=function(){Sa(this.g)},qa.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=wo(e),e=n);t.j.push(new class{constructor(e,t){this.g=e,this.map=t}}(t.fb++,e)),3==t.H&&Oa(t)},qa.prototype.N=function(){this.g.h=null,delete this.j,Sa(this.g),delete this.g,qa.$.N.call(this)},wi(Ha,rs),wi(Ka,is),wi(Ga,$a),Ga.prototype.Ba=function(){vo(this.g,"a")},Ga.prototype.Aa=function(e){vo(this.g,new Ha(e))},Ga.prototype.za=function(e){vo(this.g,new Ka)},Ga.prototype.ya=function(){vo(this.g,"b")},wi(Qa,(function(){this.blockSize=-1})),Qa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Qa.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Ya(this,e,o),o+=this.blockSize;if("string"==typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Ya(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Ya(this,r),i=0;break}}this.h=i,this.i+=t},Qa.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Ja={};function Za(e){return-128<=e&&128>e?function(e,t){var n=Ja;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=function(e){return new Xa([0|e],0>e?-1:0)}(e)}(e):new Xa([0|e],0>e?-1:0)}function el(e){if(isNaN(e)||!isFinite(e))return nl;if(0>e)return al(el(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=tl;return new Xa(t,0)}var tl=4294967296,nl=Za(0),rl=Za(1),il=Za(16777216);function ol(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function sl(e){return-1==e.h}function al(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Xa(n,~e.h).add(rl)}function ll(e,t){return e.add(al(t))}function ul(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function cl(e,t){this.g=e,this.h=t}function hl(e,t){if(ol(t))throw Error("division by zero");if(ol(e))return new cl(nl,nl);if(sl(e))return t=hl(al(e),t),new cl(al(t.g),al(t.h));if(sl(t))return t=hl(e,al(t)),new cl(al(t.g),t.h);if(30<e.g.length){if(sl(e)||sl(t))throw Error("slowDivide_ only works with positive integers.");for(var n=rl,r=t;0>=r.X(e);)n=dl(n),r=dl(r);var i=fl(n,1),o=fl(r,1);for(r=fl(r,2),n=fl(n,2);!ol(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=fl(r,1),n=fl(n,1)}return t=ll(e,i.R(t)),new cl(i,t)}for(i=nl;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=el(n)).R(t);sl(s)||0<s.X(e);)s=(o=el(n-=r)).R(t);ol(o)&&(o=rl),i=i.add(o),e=ll(e,s)}return new cl(i,e)}function dl(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Xa(n,e.h)}function fl(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Xa(i,e.h)}(si=Xa.prototype).ea=function(){if(sl(this))return-al(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:tl+r)*t,t*=tl}return e},si.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(ol(this))return"0";if(sl(this))return"-"+al(this).toString(e);for(var t=el(Math.pow(e,6)),n=this,r="";;){var i=hl(n,t).g,o=((0<(n=ll(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(ol(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},si.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},si.X=function(e){return sl(e=ll(this,e))?-1:ol(e)?0:1},si.abs=function(){return sl(this)?al(this):this},si.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Xa(n,-2147483648&n[n.length-1]?-1:0)},si.R=function(e){if(ol(this)||ol(e))return nl;if(sl(this))return sl(e)?al(this).R(al(e)):al(al(this).R(e));if(sl(e))return al(this.R(al(e)));if(0>this.X(il)&&0>e.X(il))return el(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,ul(n,2*r+2*i),n[2*r+2*i+1]+=o*l,ul(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,ul(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,ul(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Xa(n,0)},si.gb=function(e){return hl(this,e).h},si.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Xa(n,this.h&e.h)},si.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Xa(n,this.h|e.h)},si.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Xa(n,this.h^e.h)},Wa.prototype.createWebChannel=Wa.prototype.g,qa.prototype.send=qa.prototype.u,qa.prototype.open=qa.prototype.m,qa.prototype.close=qa.prototype.close,Yo.NO_ERROR=0,Yo.TIMEOUT=8,Yo.HTTP_ERROR=6,Xo.COMPLETE="complete",es.EventType=ns,ns.OPEN="a",ns.CLOSE="b",ns.ERROR="c",ns.MESSAGE="d",go.prototype.listen=go.prototype.O,ca.prototype.listenOnce=ca.prototype.P,ca.prototype.getLastError=ca.prototype.Sa,ca.prototype.getLastErrorCode=ca.prototype.Ia,ca.prototype.getStatus=ca.prototype.da,ca.prototype.getResponseJson=ca.prototype.Wa,ca.prototype.getResponseText=ca.prototype.ja,ca.prototype.send=ca.prototype.ha,ca.prototype.setWithCredentials=ca.prototype.Oa,Qa.prototype.digest=Qa.prototype.l,Qa.prototype.reset=Qa.prototype.reset,Qa.prototype.update=Qa.prototype.j,Xa.prototype.add=Xa.prototype.add,Xa.prototype.multiply=Xa.prototype.R,Xa.prototype.modulo=Xa.prototype.gb,Xa.prototype.compare=Xa.prototype.X,Xa.prototype.toNumber=Xa.prototype.ea,Xa.prototype.toString=Xa.prototype.toString,Xa.prototype.getBits=Xa.prototype.D,Xa.fromNumber=el,Xa.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return al(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=el(Math.pow(n,8)),i=nl,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=el(Math.pow(n,s)),i=i.R(s).add(el(a))):i=(i=i.R(r)).add(el(a))}return i};var pl=li.createWebChannelTransport=function(){return new Wa},ml=li.getStatEventTarget=function(){return $o()},gl=li.ErrorCode=Yo,vl=li.EventType=Xo,yl=li.Event=Bo,wl=li.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},bl=li.FetchXmlHttpFactory=ra,El=li.WebChannel=es,_l=li.XhrIo=ca,kl=li.Md5=Qa,Tl=li.Integer=Xa;const Sl="@firebase/firestore";class Il{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Il.UNAUTHENTICATED=new Il(null),Il.GOOGLE_CREDENTIALS=new Il("google-credentials-uid"),Il.FIRST_PARTY=new Il("first-party-uid"),Il.MOCK_USER=new Il("mock-user");let Cl="9.23.0";const Ol=new Ce("@firebase/firestore");function Nl(){return Ol.logLevel}function xl(e,...t){if(Ol.logLevel<=Ee.DEBUG){const n=t.map(Rl);Ol.debug(`Firestore (${Cl}): ${e}`,...n)}}function Al(e,...t){if(Ol.logLevel<=Ee.ERROR){const n=t.map(Rl);Ol.error(`Firestore (${Cl}): ${e}`,...n)}}function Pl(e,...t){if(Ol.logLevel<=Ee.WARN){const n=t.map(Rl);Ol.warn(`Firestore (${Cl}): ${e}`,...n)}}function Rl(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Dl(e="Unexpected state"){const t=`FIRESTORE (${Cl}) INTERNAL ASSERTION FAILED: `+e;throw Al(t),new Error(t)}function Ll(e,t){e||Dl()}function Ml(e,t){return e}const jl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ul extends oe{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fl{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class zl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Il.UNAUTHENTICATED)))}shutdown(){}}class Vl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class $l{constructor(e){this.t=e,this.currentUser=Il.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Fl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Fl,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{xl("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(xl("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Fl)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(xl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ll("string"==typeof t.accessToken),new zl(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ll(null===e||"string"==typeof e),new Il(e)}}class Wl{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Il.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ql{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Wl(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Il.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Hl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kl{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&xl("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.T;return this.T=e.token,xl("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{xl("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):xl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Ll("string"==typeof e.token),this.T=e.token,new Hl(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Gl(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}class Ql{static A(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Gl(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Yl(e,t){return e<t?-1:e>t?1:0}function Xl(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Jl{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ul(jl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ul(jl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ul(jl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ul(jl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jl.fromMillis(Date.now())}static fromDate(e){return Jl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Jl(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yl(this.nanoseconds,e.nanoseconds):Yl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Zl{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Zl(e)}static min(){return new Zl(new Jl(0,0))}static max(){return new Zl(new Jl(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class eu{constructor(e,t,n){void 0===t?t=0:t>e.length&&Dl(),void 0===n?n=e.length-t:n>e.length-t&&Dl(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===eu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof eu?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tu extends eu{construct(e,t,n){return new tu(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ul(jl.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new tu(t)}static emptyPath(){return new tu([])}}const nu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ru extends eu{construct(e,t,n){return new ru(e,t,n)}static isValidIdentifier(e){return nu.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ru.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ru(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ul(jl.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ul(jl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ul(jl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Ul(jl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ru(t)}static emptyPath(){return new ru([])}}class iu{constructor(e){this.path=e}static fromPath(e){return new iu(tu.fromString(e))}static fromName(e){return new iu(tu.fromString(e).popFirst(5))}static empty(){return new iu(tu.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tu.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tu.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new iu(new tu(e.slice()))}}function ou(e){return new su(e.readTime,e.key,-1)}class su{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new su(Zl.min(),iu.empty(),-1)}static max(){return new su(Zl.max(),iu.empty(),-1)}}function au(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=iu.comparator(e.documentKey,t.documentKey),0!==n?n:Yl(e.largestBatchId,t.largestBatchId))}const lu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function cu(e){if(e.code!==jl.FAILED_PRECONDITION||e.message!==lu)throw e;xl("LocalStore","Unexpectedly lost primary lease")}class hu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Dl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new hu(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof hu?t:hu.resolve(t)}catch(e){return hu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):hu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):hu.reject(t)}static resolve(e){return new hu(((t,n)=>{t(e)}))}static reject(e){return new hu(((t,n)=>{n(e)}))}static waitFor(e){return new hu(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=hu.resolve(!1);for(const n of e)t=t.next((e=>e?hu.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new hu(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new hu(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function du(e){return"IndexedDbTransactionError"===e.name}class fu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function pu(e){return null==e}function mu(e){return 0===e&&1/e==-1/0}fu.ct=-1;function gu(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function vu(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function yu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class wu{constructor(e,t){this.comparator=e,this.root=t||Eu.EMPTY}insert(e,t){return new wu(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Eu.BLACK,null,null))}remove(e){return new wu(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Eu.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bu(this.root,e,this.comparator,!0)}}class bu{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Eu{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Eu.RED,this.left=null!=r?r:Eu.EMPTY,this.right=null!=i?i:Eu.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Eu(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Eu.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Eu.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Eu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Eu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dl();if(this.right.isRed())throw Dl();const e=this.left.check();if(e!==this.right.check())throw Dl();return e+(this.isRed()?0:1)}}Eu.EMPTY=null,Eu.RED=!0,Eu.BLACK=!1,Eu.EMPTY=new class{constructor(){this.size=0}get key(){throw Dl()}get value(){throw Dl()}get color(){throw Dl()}get left(){throw Dl()}get right(){throw Dl()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Eu(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _u{constructor(e){this.comparator=e,this.data=new wu(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ku(this.data.getIterator())}getIteratorFrom(e){return new ku(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof _u))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new _u(this.comparator);return t.data=e,t}}class ku{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tu{constructor(e){this.fields=e,e.sort(ru.comparator)}static empty(){return new Tu([])}unionWith(e){let t=new _u(ru.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new Tu(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xl(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Su extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Iu{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Su("Invalid base64 string: "+e):e}}(e);return new Iu(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Iu(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Iu.EMPTY_BYTE_STRING=new Iu("");const Cu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ou(e){if(Ll(!!e),"string"==typeof e){let t=0;const n=Cu.exec(e);if(Ll(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Nu(e.seconds),nanos:Nu(e.nanos)}}function Nu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function xu(e){return"string"==typeof e?Iu.fromBase64String(e):Iu.fromUint8Array(e)}function Au(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Pu(e){const t=e.mapValue.fields.__previous_value__;return Au(t)?Pu(t):t}function Ru(e){const t=Ou(e.mapValue.fields.__local_write_time__.timestampValue);return new Jl(t.seconds,t.nanos)}class Du{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class Lu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Lu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Lu&&e.projectId===this.projectId&&e.database===this.database}}const Mu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ju(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Au(e)?4:Yu(e)?9007199254740991:10:Dl()}function Uu(e,t){if(e===t)return!0;const n=ju(e);if(n!==ju(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ru(e).isEqual(Ru(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ou(e.timestampValue),r=Ou(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return xu(e.bytesValue).isEqual(xu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Nu(e.geoPointValue.latitude)===Nu(t.geoPointValue.latitude)&&Nu(e.geoPointValue.longitude)===Nu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Nu(e.integerValue)===Nu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Nu(e.doubleValue),r=Nu(t.doubleValue);return n===r?mu(n)===mu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Xl(e.arrayValue.values||[],t.arrayValue.values||[],Uu);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(gu(n)!==gu(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Uu(n[e],r[e])))return!1;return!0}(e,t);default:return Dl()}}function Fu(e,t){return void 0!==(e.values||[]).find((e=>Uu(e,t)))}function zu(e,t){if(e===t)return 0;const n=ju(e),r=ju(t);if(n!==r)return Yl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Yl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Nu(e.integerValue||e.doubleValue),r=Nu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Bu(e.timestampValue,t.timestampValue);case 4:return Bu(Ru(e),Ru(t));case 5:return Yl(e.stringValue,t.stringValue);case 6:return function(e,t){const n=xu(e),r=xu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=Yl(n[e],r[e]);if(0!==t)return t}return Yl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Yl(Nu(e.latitude),Nu(t.latitude));return 0!==n?n:Yl(Nu(e.longitude),Nu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=zu(n[e],r[e]);if(t)return t}return Yl(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Mu.mapValue&&t===Mu.mapValue)return 0;if(e===Mu.mapValue)return 1;if(t===Mu.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let e=0;e<r.length&&e<o.length;++e){const t=Yl(r[e],o[e]);if(0!==t)return t;const s=zu(n[r[e]],i[o[e]]);if(0!==s)return s}return Yl(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Dl()}}function Bu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Yl(e,t);const n=Ou(e),r=Ou(t),i=Yl(n.seconds,r.seconds);return 0!==i?i:Yl(n.nanos,r.nanos)}function Vu(e){return $u(e)}function $u(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ou(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?xu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,iu.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=$u(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${$u(e.fields[i])}`;return n+"}"}(e.mapValue):Dl();var t,n}function Wu(e){return!!e&&"integerValue"in e}function qu(e){return!!e&&"arrayValue"in e}function Hu(e){return!!e&&"nullValue"in e}function Ku(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Gu(e){return!!e&&"mapValue"in e}function Qu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return vu(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Qu(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Qu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Yu(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Xu{constructor(e){this.value=e}static empty(){return new Xu({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Gu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qu(t)}setAll(e){let t=ru.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Qu(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Gu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Uu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Gu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){vu(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new Xu(Qu(this.value))}}function Ju(e){const t=[];return vu(e.fields,((e,n)=>{const r=new ru([e]);if(Gu(n)){const e=Ju(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Tu(t)}class Zu{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Zu(e,0,Zl.min(),Zl.min(),Zl.min(),Xu.empty(),0)}static newFoundDocument(e,t,n,r){return new Zu(e,1,t,Zl.min(),n,r,0)}static newNoDocument(e,t){return new Zu(e,2,t,Zl.min(),Zl.min(),Xu.empty(),0)}static newUnknownDocument(e,t){return new Zu(e,3,t,Zl.min(),Zl.min(),Xu.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Zl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xu.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zl.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Zu&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zu(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ec{constructor(e,t){this.position=e,this.inclusive=t}}function tc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?iu.comparator(iu.fromName(s.referenceValue),n.key):zu(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function nc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Uu(e.position[n],t.position[n]))return!1;return!0}class rc{constructor(e,t="asc"){this.field=e,this.dir=t}}function ic(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class oc{}class sc extends oc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new fc(e,t,n):"array-contains"===t?new vc(e,n):"in"===t?new yc(e,n):"not-in"===t?new wc(e,n):"array-contains-any"===t?new bc(e,n):new sc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new pc(e,n):new mc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(zu(t,this.value)):null!==t&&ju(this.value)===ju(t)&&this.matchesComparison(zu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dl()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ac extends oc{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new ac(e,t)}matches(e){return lc(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function lc(e){return"and"===e.op}function uc(e){return function(e){for(const t of e.filters)if(t instanceof ac)return!1;return!0}(e)&&lc(e)}function cc(e){if(e instanceof sc)return e.field.canonicalString()+e.op.toString()+Vu(e.value);if(uc(e))return e.filters.map((e=>cc(e))).join(",");{const t=e.filters.map((e=>cc(e))).join(",");return`${e.op}(${t})`}}function hc(e,t){return e instanceof sc?function(e,t){return t instanceof sc&&e.op===t.op&&e.field.isEqual(t.field)&&Uu(e.value,t.value)}(e,t):e instanceof ac?function(e,t){return t instanceof ac&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&hc(n,t.filters[r])),!0)}(e,t):void Dl()}function dc(e){return e instanceof sc?function(e){return`${e.field.canonicalString()} ${e.op} ${Vu(e.value)}`}(e):e instanceof ac?function(e){return e.op.toString()+" {"+e.getFilters().map(dc).join(" ,")+"}"}(e):"Filter"}class fc extends sc{constructor(e,t,n){super(e,t,n),this.key=iu.fromName(n.referenceValue)}matches(e){const t=iu.comparator(e.key,this.key);return this.matchesComparison(t)}}class pc extends sc{constructor(e,t){super(e,"in",t),this.keys=gc(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class mc extends sc{constructor(e,t){super(e,"not-in",t),this.keys=gc(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function gc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>iu.fromName(e.referenceValue)))}class vc extends sc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qu(t)&&Fu(t.arrayValue,this.value)}}class yc extends sc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Fu(this.value.arrayValue,t)}}class wc extends sc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Fu(this.value.arrayValue,t)}}class bc extends sc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qu(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Fu(this.value.arrayValue,e)))}}class Ec{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.dt=null}}function _c(e,t=null,n=[],r=[],i=null,o=null,s=null){return new Ec(e,t,n,r,i,o,s)}function kc(e){const t=Ml(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>cc(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),pu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Vu(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Vu(e))).join(",")),t.dt=e}return t.dt}function Tc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ic(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!hc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nc(e.startAt,t.startAt)&&nc(e.endAt,t.endAt)}function Sc(e){return iu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Ic{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function Cc(e){return new Ic(e)}function Oc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Nc(e){const t=Ml(e);if(null===t.wt){t.wt=[];const e=function(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}(t),n=function(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new rc(e)),t.wt.push(new rc(ru.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new rc(ru.keyField(),e))}}}return t.wt}function xc(e){const t=Ml(e);if(!t._t)if("F"===t.limitType)t._t=_c(t.path,t.collectionGroup,Nc(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of Nc(t)){const t="desc"===n.dir?"asc":"desc";e.push(new rc(n.field,t))}const n=t.endAt?new ec(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ec(t.startAt.position,t.startAt.inclusive):null;t._t=_c(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Ac(e,t,n){return new Ic(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Pc(e,t){return Tc(xc(e),xc(t))&&e.limitType===t.limitType}function Rc(e){return`${kc(xc(e))}|lt:${e.limitType}`}function Dc(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>dc(e))).join(", ")}]`),pu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Vu(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Vu(e))).join(",")),`Target(${t})`}(xc(e))}; limitType=${e.limitType})`}function Lc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):iu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Nc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=tc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Nc(e),t)||e.endAt&&!function(e,t,n){const r=tc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Nc(e),t))}(e,t)}function Mc(e){return(t,n)=>{let r=!1;for(const i of Nc(e)){const e=jc(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function jc(e,t,n){const r=e.field.isKeyField()?iu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?zu(r,i):Dl()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Dl()}}class Uc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){vu(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return yu(this.inner)}size(){return this.innerSize}}const Fc=new wu(iu.comparator);function zc(){return Fc}const Bc=new wu(iu.comparator);function Vc(...e){let t=Bc;for(const n of e)t=t.insert(n.key,n);return t}function $c(e){let t=Bc;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Wc(){return Hc()}function qc(){return Hc()}function Hc(){return new Uc((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Kc=new wu(iu.comparator),Gc=new _u(iu.comparator);function Qc(...e){let t=Gc;for(const n of e)t=t.add(n);return t}const Yc=new _u(Yl);function Xc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mu(t)?"-0":t}}function Jc(e){return{integerValue:""+e}}function Zc(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!mu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?Jc(t):Xc(e,t)}class eh{constructor(){this._=void 0}}function th(e,t,n){return e instanceof ih?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Au(t)&&(t=Pu(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof oh?sh(e,t):e instanceof ah?lh(e,t):function(e,t){const n=rh(e,t),r=ch(n)+ch(e.gt);return Wu(n)&&Wu(e.gt)?Jc(r):Xc(e.serializer,r)}(e,t)}function nh(e,t,n){return e instanceof oh?sh(e,t):e instanceof ah?lh(e,t):n}function rh(e,t){return e instanceof uh?Wu(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class ih extends eh{}class oh extends eh{constructor(e){super(),this.elements=e}}function sh(e,t){const n=hh(t);for(const t of e.elements)n.some((e=>Uu(e,t)))||n.push(t);return{arrayValue:{values:n}}}class ah extends eh{constructor(e){super(),this.elements=e}}function lh(e,t){let n=hh(t);for(const t of e.elements)n=n.filter((e=>!Uu(e,t)));return{arrayValue:{values:n}}}class uh extends eh{constructor(e,t){super(),this.serializer=e,this.gt=t}}function ch(e){return Nu(e.integerValue||e.doubleValue)}function hh(e){return qu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class dh{constructor(e,t){this.field=e,this.transform=t}}class fh{constructor(e,t){this.version=e,this.transformResults=t}}class ph{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ph}static exists(e){return new ph(void 0,e)}static updateTime(e){return new ph(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class gh{}function vh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ch(e.key,ph.none()):new _h(e.key,e.data,ph.none());{const n=e.data,r=Xu.empty();let i=new _u(ru.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new kh(e.key,r,new Tu(i.toArray()),ph.none())}}function yh(e,t,n){e instanceof _h?function(e,t,n){const r=e.value.clone(),i=Sh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof kh?function(e,t,n){if(!mh(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Sh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Th(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function wh(e,t,n,r){return e instanceof _h?function(e,t,n,r){if(!mh(e.precondition,t))return n;const i=e.value.clone(),o=Ih(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof kh?function(e,t,n,r){if(!mh(e.precondition,t))return n;const i=Ih(e.fieldTransforms,r,t),o=t.data;return o.setAll(Th(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return mh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function bh(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=rh(r.transform,e||null);null!=i&&(null===n&&(n=Xu.empty()),n.set(r.field,i))}return n||null}function Eh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Xl(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof oh&&t instanceof oh||e instanceof ah&&t instanceof ah?Xl(e.elements,t.elements,Uu):e instanceof uh&&t instanceof uh?Uu(e.gt,t.gt):e instanceof ih&&t instanceof ih}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class _h extends gh{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class kh extends gh{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Th(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Sh(e,t,n){const r=new Map;Ll(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,nh(s,a,n[i]))}return r}function Ih(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,th(e,o,t))}return r}class Ch extends gh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Oh extends gh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Nh{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&yh(r,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=wh(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=wh(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=qc();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=vh(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Zl.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Qc())}isEqual(e){return this.batchId===e.batchId&&Xl(this.mutations,e.mutations,((e,t)=>Eh(e,t)))&&Xl(this.baseMutations,e.baseMutations,((e,t)=>Eh(e,t)))}}class xh{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ll(e.mutations.length===n.length);let r=Kc;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new xh(e,t,n,r)}}class Ah{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ph{constructor(e,t){this.count=e,this.unchangedNames=t}}var Rh,Dh;function Lh(e){if(void 0===e)return Al("GRPC error has no .code"),jl.UNKNOWN;switch(e){case Rh.OK:return jl.OK;case Rh.CANCELLED:return jl.CANCELLED;case Rh.UNKNOWN:return jl.UNKNOWN;case Rh.DEADLINE_EXCEEDED:return jl.DEADLINE_EXCEEDED;case Rh.RESOURCE_EXHAUSTED:return jl.RESOURCE_EXHAUSTED;case Rh.INTERNAL:return jl.INTERNAL;case Rh.UNAVAILABLE:return jl.UNAVAILABLE;case Rh.UNAUTHENTICATED:return jl.UNAUTHENTICATED;case Rh.INVALID_ARGUMENT:return jl.INVALID_ARGUMENT;case Rh.NOT_FOUND:return jl.NOT_FOUND;case Rh.ALREADY_EXISTS:return jl.ALREADY_EXISTS;case Rh.PERMISSION_DENIED:return jl.PERMISSION_DENIED;case Rh.FAILED_PRECONDITION:return jl.FAILED_PRECONDITION;case Rh.ABORTED:return jl.ABORTED;case Rh.OUT_OF_RANGE:return jl.OUT_OF_RANGE;case Rh.UNIMPLEMENTED:return jl.UNIMPLEMENTED;case Rh.DATA_LOSS:return jl.DATA_LOSS;default:return Dl()}}(Dh=Rh||(Rh={}))[Dh.OK=0]="OK",Dh[Dh.CANCELLED=1]="CANCELLED",Dh[Dh.UNKNOWN=2]="UNKNOWN",Dh[Dh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dh[Dh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dh[Dh.NOT_FOUND=5]="NOT_FOUND",Dh[Dh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dh[Dh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dh[Dh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dh[Dh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dh[Dh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dh[Dh.ABORTED=10]="ABORTED",Dh[Dh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dh[Dh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dh[Dh.INTERNAL=13]="INTERNAL",Dh[Dh.UNAVAILABLE=14]="UNAVAILABLE",Dh[Dh.DATA_LOSS=15]="DATA_LOSS";class Mh{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return jh}static getOrCreateInstance(){return null===jh&&(jh=new Mh),jh}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let jh=null;const Uh=new Tl([4294967295,4294967295],0);function Fh(e){const t=(new TextEncoder).encode(e),n=new kl;return n.update(t),new Uint8Array(n.digest())}function zh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Tl([n,r],0),new Tl([i,o],0)]}class Bh{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Vh(`Invalid padding: ${t}`);if(n<0)throw new Vh(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Vh(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Vh(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Tl.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(Tl.fromNumber(n)));return 1===r.compare(Uh)&&(r=new Tl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Fh(e),[n,r]=zh(t);for(let e=0;e<this.hashCount;e++){const t=this.Et(n,r,e);if(!this.At(t))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Bh(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.It)return;const t=Fh(e),[n,r]=zh(t);for(let e=0;e<this.hashCount;e++){const t=this.Et(n,r,e);this.Rt(t)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Vh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $h{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Wh.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new $h(Zl.min(),r,new wu(Yl),zc(),Qc())}}class Wh{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Wh(n,t,Qc(),Qc(),Qc())}}class qh{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Hh{constructor(e,t){this.targetId=e,this.Vt=t}}class Kh{constructor(e,t,n=Iu.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Gh{constructor(){this.St=0,this.Dt=Xh(),this.Ct=Iu.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Qc(),t=Qc(),n=Qc();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Dl()}})),new Wh(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Xh()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Qh{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=zc(),this.zt=Yh(),this.Wt=new wu(Yl)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Dl()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const o=i.target;if(Sc(o))if(0===r){const e=new iu(o.path);this.Yt(n,e,Zu.newNoDocument(e,Zl.min()))}else Ll(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Mh.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,o,s,a,l;const u={localCacheCount:t,existenceFilterCount:n.count},c=n.unchangedNames;return c&&(u.bloomFilter={applied:0===e,hashCount:null!==(r=null==c?void 0:c.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(s=null===(o=null===(i=null==c?void 0:c.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==s?s:0,padding:null!==(l=null===(a=null==c?void 0:c.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),u}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:s=0}=n;let a,l;try{a=xu(i).toUint8Array()}catch(e){if(e instanceof Su)return Pl("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new Bh(a,o,s)}catch(e){return Pl(e instanceof Vh?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.vt(o)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&Sc(i.target)){const t=new iu(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Zu.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=Qc();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new $h(e,t,this.Wt,this.jt,n);return this.jt=zc(),this.zt=Yh(),this.Wt=new wu(Yl),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Gh,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new _u(Yl),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||xl("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Gh),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Yh(){return new wu(iu.comparator)}function Xh(){return new wu(iu.comparator)}const Jh={asc:"ASCENDING",desc:"DESCENDING"},Zh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ed={and:"AND",or:"OR"};class td{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function nd(e,t){return e.useProto3Json||pu(t)?t:{value:t}}function rd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function id(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function od(e,t){return rd(e,t.toTimestamp())}function sd(e){return Ll(!!e),Zl.fromTimestamp(function(e){const t=Ou(e);return new Jl(t.seconds,t.nanos)}(e))}function ad(e,t){return function(e){return new tu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ld(e){const t=tu.fromString(e);return Ll(Id(t)),t}function ud(e,t){return ad(e.databaseId,t.path)}function cd(e,t){const n=ld(t);if(n.get(1)!==e.databaseId.projectId)throw new Ul(jl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ul(jl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new iu(fd(n))}function hd(e,t){return ad(e.databaseId,t)}function dd(e){return new tu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fd(e){return Ll(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function pd(e,t,n){return{name:ud(e,t),fields:n.value.mapValue.fields}}function md(e,t){return{documents:[hd(e,t.path)]}}function gd(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=hd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=hd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Td(ac.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:_d(e.field),direction:wd(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=nd(e,t.limit);var a;return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function vd(e){let t=function(e){const t=ld(e);return 4===t.length?tu.emptyPath():fd(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ll(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=yd(e);return t instanceof ac&&uc(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((e=>function(e){return new rc(kd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,pu(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ec(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new ec(n,t)}(n.endAt)),function(e,t,n,r,i,o,s,a){return new Ic(e,t,n,r,i,o,s,a)}(t,i,s,o,a,"F",l,u)}function yd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=kd(e.unaryFilter.field);return sc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=kd(e.unaryFilter.field);return sc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=kd(e.unaryFilter.field);return sc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=kd(e.unaryFilter.field);return sc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Dl()}}(e):void 0!==e.fieldFilter?function(e){return sc.create(kd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dl()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ac.create(e.compositeFilter.filters.map((e=>yd(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Dl()}}(e.compositeFilter.op))}(e):Dl()}function wd(e){return Jh[e]}function bd(e){return Zh[e]}function Ed(e){return ed[e]}function _d(e){return{fieldPath:e.canonicalString()}}function kd(e){return ru.fromServerFormat(e.fieldPath)}function Td(e){return e instanceof sc?function(e){if("=="===e.op){if(Ku(e.value))return{unaryFilter:{field:_d(e.field),op:"IS_NAN"}};if(Hu(e.value))return{unaryFilter:{field:_d(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ku(e.value))return{unaryFilter:{field:_d(e.field),op:"IS_NOT_NAN"}};if(Hu(e.value))return{unaryFilter:{field:_d(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_d(e.field),op:bd(e.op),value:e.value}}}(e):e instanceof ac?function(e){const t=e.getFilters().map((e=>Td(e)));return 1===t.length?t[0]:{compositeFilter:{op:Ed(e.op),filters:t}}}(e):Dl()}function Sd(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Id(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Cd{constructor(e,t,n,r,i=Zl.min(),o=Zl.min(),s=Iu.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Cd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Od{constructor(e){this.fe=e}}function Nd(e){const t=vd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ac(t,t.limit,"L"):t}class xd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Nu(e.integerValue));else if("doubleValue"in e){const n=Nu(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),mu(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(xu(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Yu(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Dl()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const e of Object.keys(n))this.Te(e,t),this.me(n[e],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const e of n)this.me(e,t)}ve(e,t){this.ye(t,37),iu.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}xd.Ve=new xd;class Ad{constructor(){this.rn=new Pd}addToCollectionParentIndex(e,t){return this.rn.add(t),hu.resolve()}getCollectionParents(e,t){return hu.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return hu.resolve()}deleteFieldIndex(e,t){return hu.resolve()}getDocumentsMatchingTarget(e,t){return hu.resolve(null)}getIndexType(e,t){return hu.resolve(0)}getFieldIndexes(e,t){return hu.resolve([])}getNextCollectionGroupToUpdate(e){return hu.resolve(null)}getMinOffset(e,t){return hu.resolve(su.min())}getMinOffsetFromCollectionGroup(e,t){return hu.resolve(su.min())}updateCollectionGroup(e,t,n){return hu.resolve()}updateIndexEntries(e,t){return hu.resolve()}}class Pd{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new _u(tu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new _u(tu.comparator)).toArray()}}new Uint8Array(0);class Rd{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Rd(e,Rd.DEFAULT_COLLECTION_PERCENTILE,Rd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Rd.DEFAULT_COLLECTION_PERCENTILE=10,Rd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rd.DEFAULT=new Rd(41943040,Rd.DEFAULT_COLLECTION_PERCENTILE,Rd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rd.DISABLED=new Rd(-1,0,0);class Dd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Dd(0)}static Mn(){return new Dd(-1)}}class Ld{constructor(){this.changes=new Uc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zu.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?hu.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Md{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class jd{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&wh(n.mutation,e,Tu.empty(),Jl.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Qc()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Qc()){const r=Wc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Vc();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Wc();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Qc())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=zc();const o=Hc(),s=Hc();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof kh)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),wh(s.mutation,t,s.mutation.getFieldMask(),Jl.now())):o.set(t.key,Tu.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Md(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Hc();let r=new wu(((e,t)=>e-t)),i=Qc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Tu.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Qc()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,u=qc();l.forEach((e=>{if(!i.has(e)){const r=vh(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,u))}return hu.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return iu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):function(e){return null!==e.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):hu.resolve(Wc());let s=-1,a=i;return o.next((t=>hu.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?hu.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Qc()))).next((e=>({batchId:s,changes:$c(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new iu(t)).next((e=>{let t=Vc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Vc();return this.indexManager.getCollectionParents(e,r).next((o=>hu.forEach(o,(o=>{const s=function(e,t){return new Ic(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,s,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Zu.newInvalidDocument(r)))}));let n=Vc();return e.forEach(((e,i)=>{const o=r.get(e);void 0!==o&&wh(o.mutation,i,Tu.empty(),Jl.now()),Lc(t,i)&&(n=n.insert(e,i))})),n}))}}class Ud{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return hu.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:sd(n.createTime)}),hu.resolve()}getNamedQuery(e,t){return hu.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Nd(e.bundledQuery),readTime:sd(e.readTime)}}(t)),hu.resolve()}}class Fd{constructor(){this.overlays=new wu(iu.comparator),this.ls=new Map}getOverlay(e,t){return hu.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Wc();return hu.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),hu.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),hu.resolve()}getOverlaysForCollection(e,t,n){const r=Wc(),i=t.length+1,o=new iu(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return hu.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new wu(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Wc(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Wc(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return hu.resolve(s)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ah(t,n));let i=this.ls.get(t);void 0===i&&(i=Qc(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class zd{constructor(){this.fs=new _u(Bd.ds),this.ws=new _u(Bd._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Bd(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new Bd(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new iu(new tu([])),n=new Bd(t,e),r=new Bd(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new iu(new tu([])),n=new Bd(t,e),r=new Bd(t,e+1);let i=Qc();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Bd(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Bd{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return iu.comparator(e.key,t.key)||Yl(e.As,t.As)}static _s(e,t){return Yl(e.As,t.As)||iu.comparator(e.key,t.key)}}class Vd{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new _u(Bd.ds)}checkEmpty(e){return hu.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Nh(i,t,n,r);this.mutationQueue.push(o);for(const t of r)this.Rs=this.Rs.add(new Bd(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return hu.resolve(o)}lookupMutationBatch(e,t){return hu.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return hu.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return hu.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return hu.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Bd(t,0),r=new Bd(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),hu.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new _u(Yl);return t.forEach((e=>{const t=new Bd(e,0),r=new Bd(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),hu.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;iu.isDocumentKey(i)||(i=i.child(""));const o=new Bd(new iu(i),0);let s=new _u(Yl);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.As)),!0)}),o),hu.resolve(this.Vs(s))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Ll(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return hu.forEach(t.mutations,(r=>{const i=new Bd(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new Bd(t,0),r=this.Rs.firstAfterOrEqual(n);return hu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,hu.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class $d{constructor(e){this.Ds=e,this.docs=new wu(iu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return hu.resolve(n?n.document.mutableCopy():Zu.newInvalidDocument(t))}getEntries(e,t){let n=zc();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Zu.newInvalidDocument(e))})),hu.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=zc();const o=t.path,s=new iu(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||au(ou(s),n)<=0||(r.has(s.key)||Lc(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return hu.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Dl()}Cs(e,t){return hu.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Wd(this)}getSize(e){return hu.resolve(this.size)}}class Wd extends Ld{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),hu.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class qd{constructor(e){this.persistence=e,this.xs=new Uc((e=>kc(e)),Tc),this.lastRemoteSnapshotVersion=Zl.min(),this.highestTargetId=0,this.Ns=0,this.ks=new zd,this.targetCount=0,this.Ms=Dd.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),hu.resolve()}getLastRemoteSnapshotVersion(e){return hu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return hu.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),hu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),hu.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Dd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,hu.resolve()}updateTargetData(e,t){return this.Fn(t),hu.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,hu.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),hu.waitFor(i).next((()=>r))}getTargetCount(e){return hu.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return hu.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),hu.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),hu.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),hu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return hu.resolve(n)}containsKey(e,t){return hu.resolve(this.ks.containsKey(t))}}class Hd{constructor(e,t){this.$s={},this.overlays={},this.Os=new fu(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new qd(this),this.indexManager=new Ad,this.remoteDocumentCache=function(e){return new $d(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new Od(t),this.qs=new Ud(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Fd,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Vd(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){xl("MemoryPersistence","Starting transaction:",e);const r=new Kd(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return hu.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Kd extends uu{constructor(e){super(),this.currentSequenceNumber=e}}class Gd{constructor(e){this.persistence=e,this.Qs=new zd,this.js=null}static zs(e){return new Gd(e)}get Ws(){if(this.js)return this.js;throw Dl()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),hu.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),hu.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),hu.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hu.forEach(this.Ws,(n=>{const r=iu.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,Zl.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return hu.or([()=>hu.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Qd{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Qc(),r=Qc();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new Qd(e,t.fromCache,n,r)}}class Yd{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(Oc(t))return hu.resolve(null);let n=xc(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Ac(t,null,"F"),n=xc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Qc(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ji(t,r);return this.zi(t,o,i,n.readTime)?this.Ki(e,Ac(t,null,"F")):this.Wi(e,o,t,n)}))))})))))}Gi(e,t,n,r){return Oc(t)||r.isEqual(Zl.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const o=this.ji(t,i);return this.zi(t,o,n,r)?this.Qi(e,t):(Nl()<=Ee.DEBUG&&xl("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Dc(t)),this.Wi(e,o,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Zl.fromTimestamp(1e9===r?new Jl(n+1,0):new Jl(n,r));return new su(i,iu.empty(),t)}(r,-1)))}))}ji(e,t){let n=new _u(Mc(e));return t.forEach(((t,r)=>{Lc(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return Nl()<=Ee.DEBUG&&xl("QueryEngine","Using full collection scan to execute query:",Dc(t)),this.Ui.getDocumentsMatchingQuery(e,t,su.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Xd{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new wu(Yl),this.Yi=new Uc((e=>kc(e)),Tc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jd(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}async function Jd(e,t){const n=Ml(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=Qc();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({er:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Zd(e){const t=Ml(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function ef(e,t){const n=Ml(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}async function tf(e,t,n){const r=Ml(e),i=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!du(e))throw e;xl("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function nf(e,t,n){const r=Ml(e);let i=Zl.min(),o=Qc();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Ml(e),i=r.Yi.get(n);return void 0!==i?hu.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,xc(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Zl.min(),n?o:Qc()))).next((e=>(function(e,t,n){let r=e.Xi.get(t)||Zl.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,ir:o})))))}class rf{constructor(){this.activeTargetIds=Yc}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class of{constructor(){this.Hr=new rf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new rf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sf{Yr(e){}shutdown(){}}class af{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){xl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){xl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lf=null;function uf(){return null===lf?lf=268435456+Math.round(2147483648*Math.random()):lf++,"0x"+lf.toString(16)}const cf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hf{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const df="WebChannelConnection";class ff extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const o=uf(),s=this.To(e,t);xl("RestConnection",`Sending RPC '${e}' ${o}:`,s,n);const a={};return this.Eo(a,r,i),this.Ao(e,s,a,n).then((t=>(xl("RestConnection",`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw Pl("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",s,"request:",n),t}))}vo(e,t,n,r,i,o){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=cf[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=uf();return new Promise(((o,s)=>{const a=new _l;a.setWithCredentials(!0),a.listenOnce(vl.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case gl.NO_ERROR:const t=a.getResponseJson();xl(df,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case gl.TIMEOUT:xl(df,`RPC '${e}' ${i} timed out`),s(new Ul(jl.DEADLINE_EXCEEDED,"Request time out"));break;case gl.HTTP_ERROR:const n=a.getStatus();if(xl(df,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(jl).indexOf(t)>=0?t:jl.UNKNOWN}(t.status);s(new Ul(e,t.message))}else s(new Ul(jl.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Ul(jl.UNAVAILABLE,"Connection failed."));break;default:Dl()}}finally{xl(df,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);xl(df,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=uf(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pl(),s=ml(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new bl({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");xl(df,`Creating RPC '${e}' stream ${r}: ${u}`,a);const c=o.createWebChannel(u,a);let h=!1,d=!1;const f=new hf({ro:t=>{d?xl(df,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(xl(df,`Opening RPC '${e}' stream ${r} transport.`),c.open(),h=!0),xl(df,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},oo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,El.EventType.OPEN,(()=>{d||xl(df,`RPC '${e}' stream ${r} transport opened.`)})),p(c,El.EventType.CLOSE,(()=>{d||(d=!0,xl(df,`RPC '${e}' stream ${r} transport closed`),f.wo())})),p(c,El.EventType.ERROR,(t=>{d||(d=!0,Pl(df,`RPC '${e}' stream ${r} transport errored:`,t),f.wo(new Ul(jl.UNAVAILABLE,"The operation could not be completed")))})),p(c,El.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Ll(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){xl(df,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=Rh[e];if(void 0!==t)return Lh(t)}(t),i=s.message;void 0===n&&(n=jl.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.wo(new Ul(n,i)),c.close()}else xl(df,`RPC '${e}' stream ${r} received:`,i),f._o(i)}})),p(s,yl.STAT_EVENT,(t=>{t.stat===wl.PROXY?xl(df,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===wl.NOPROXY&&xl(df,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.fo()}),0),f}}function pf(){return"undefined"!=typeof document?document:null}function mf(e){return new td(e,!0)}class gf{constructor(e,t,n=1e3,r=1.5,i=6e4){this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&xl("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class vf{constructor(e,t,n,r,i,o,s,a){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new gf(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===jl.RESOURCE_EXHAUSTED?(Al(t.toString()),Al("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===jl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Fo===t&&this.Zo(e,n)}),(t=>{e((()=>{const e=new Ul(jl.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return xl("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(xl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yf extends vf{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Dl()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Ll(void 0===t||"string"==typeof t),Iu.fromBase64String(t||"")):(Ll(void 0===t||t instanceof Uint8Array),Iu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?jl.UNKNOWN:Lh(e.code);return new Ul(t,e.message||"")}(s);n=new Kh(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=cd(e,r.document.name),o=sd(r.document.updateTime),s=r.document.createTime?sd(r.document.createTime):Zl.min(),a=new Xu({mapValue:{fields:r.document.fields}}),l=Zu.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new qh(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=cd(e,r.document),o=r.readTime?sd(r.readTime):Zl.min(),s=Zu.newNoDocument(i,o),a=r.removedTargetIds||[];n=new qh([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=cd(e,r.document),o=r.removedTargetIds||[];n=new qh([],o,i,null)}else{if(!("filter"in t))return Dl();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Ph(r,i),s=e.targetId;n=new Hh(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Zl.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Zl.min():t.readTime?sd(t.readTime):Zl.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=dd(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Sc(r)?{documents:md(e,r)}:{query:gd(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=id(e,t.resumeToken);const r=nd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Zl.min())>0){n.readTime=rd(e,t.snapshotVersion.toTimestamp());const r=nd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dl()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=dd(this.serializer),t.removeTarget=e,this.Wo(t)}}class wf extends vf{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Ll(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(Ll(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?sd(e.updateTime):sd(t);return n.isEqual(Zl.min())&&(n=sd(t)),new fh(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=sd(e.commitTime);return this.listener.cu(n,t)}return Ll(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=dd(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof _h)n={update:pd(e,t.key,t.value)};else if(t instanceof Ch)n={delete:ud(e,t.key)};else if(t instanceof kh)n={update:pd(e,t.key,t.data),updateMask:Sd(t.fieldMask)};else{if(!(t instanceof Oh))return Dl();n={verify:ud(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ih)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof oh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ah)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof uh)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Dl()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:od(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Dl()}(e,t.precondition)),n}(this.serializer,e)))};this.Wo(t)}}class bf extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Ul(jl.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.connection.Io(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===jl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ul(jl.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.vo(e,t,n,i,o,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===jl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ul(jl.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class Ef{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Al(t),this.mu=!1):xl("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class _f{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{Af(this)&&(xl("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ml(e);t.vu.add(4),await Tf(t),t.bu.set("Unknown"),t.vu.delete(4),await kf(t)}(this))}))})),this.bu=new Ef(n,r)}}async function kf(e){if(Af(e))for(const t of e.Ru)await t(!0)}async function Tf(e){for(const t of e.Ru)await t(!1)}function Sf(e,t){const n=Ml(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),xf(n)?Nf(n):Gf(n).Ko()&&Cf(n,t))}function If(e,t){const n=Ml(e),r=Gf(n);n.Au.delete(t),r.Ko()&&Of(n,t),0===n.Au.size&&(r.Ko()?r.jo():Af(n)&&n.bu.set("Unknown"))}function Cf(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Zl.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Gf(e).su(t)}function Of(e,t){e.Vu.qt(t),Gf(e).iu(t)}function Nf(e){e.Vu=new Qh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Gf(e).start(),e.bu.gu()}function xf(e){return Af(e)&&!Gf(e).Uo()&&e.Au.size>0}function Af(e){return 0===Ml(e).vu.size}function Pf(e){e.Vu=void 0}async function Rf(e){e.Au.forEach(((t,n)=>{Cf(e,t)}))}async function Df(e,t){Pf(e),xf(e)?(e.bu.Iu(t),Nf(e)):e.bu.set("Unknown")}async function Lf(e,t,n){if(e.bu.set("Online"),t instanceof Kh&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){xl("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Mf(e,n)}else if(t instanceof qh?e.Vu.Ht(t):t instanceof Hh?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Zl.min()))try{const t=await Zd(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Iu.EMPTY_BYTE_STRING,r.snapshotVersion)),Of(e,t);const i=new Cd(r.target,t,n,r.sequenceNumber);Cf(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){xl("RemoteStore","Failed to raise snapshot:",t),await Mf(e,t)}}async function Mf(e,t,n){if(!du(t))throw t;e.vu.add(1),await Tf(e),e.bu.set("Offline"),n||(n=()=>Zd(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{xl("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await kf(e)}))}function jf(e,t){return t().catch((n=>Mf(e,n,t)))}async function Uf(e){const t=Ml(e),n=Qf(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Ff(t);)try{const e=await ef(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,zf(t,e)}catch(e){await Mf(t,e)}Bf(t)&&Vf(t)}function Ff(e){return Af(e)&&e.Eu.length<10}function zf(e,t){e.Eu.push(t);const n=Qf(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Bf(e){return Af(e)&&!Qf(e).Uo()&&e.Eu.length>0}function Vf(e){Qf(e).start()}async function $f(e){Qf(e).hu()}async function Wf(e){const t=Qf(e);for(const n of e.Eu)t.uu(n.mutations)}async function qf(e,t,n){const r=e.Eu.shift(),i=xh.from(r,t,n);await jf(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Uf(e)}async function Hf(e,t){t&&Qf(e).ou&&await async function(e,t){if(function(e){switch(e){default:return Dl();case jl.CANCELLED:case jl.UNKNOWN:case jl.DEADLINE_EXCEEDED:case jl.RESOURCE_EXHAUSTED:case jl.INTERNAL:case jl.UNAVAILABLE:case jl.UNAUTHENTICATED:return!1;case jl.INVALID_ARGUMENT:case jl.NOT_FOUND:case jl.ALREADY_EXISTS:case jl.PERMISSION_DENIED:case jl.FAILED_PRECONDITION:case jl.ABORTED:case jl.OUT_OF_RANGE:case jl.UNIMPLEMENTED:case jl.DATA_LOSS:return!0}}(n=t.code)&&n!==jl.ABORTED){const n=e.Eu.shift();Qf(e).Qo(),await jf(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Uf(e)}var n}(e,t),Bf(e)&&Vf(e)}async function Kf(e,t){const n=Ml(e);n.asyncQueue.verifyOperationInProgress(),xl("RemoteStore","RemoteStore received new credentials");const r=Af(n);n.vu.add(3),await Tf(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await kf(n)}function Gf(e){return e.Su||(e.Su=function(e,t,n){const r=Ml(e);return r.fu(),new yf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Rf.bind(null,e),ao:Df.bind(null,e),nu:Lf.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),xf(e)?Nf(e):e.bu.set("Unknown")):(await e.Su.stop(),Pf(e))}))),e.Su}function Qf(e){return e.Du||(e.Du=function(e,t,n){const r=Ml(e);return r.fu(),new wf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:$f.bind(null,e),ao:Hf.bind(null,e),au:Wf.bind(null,e),cu:qf.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await Uf(e)):(await e.Du.stop(),e.Eu.length>0&&(xl("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))}))),e.Du}class Yf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Fl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Yf(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ul(jl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xf(e,t){if(Al("AsyncQueue",`${t}: ${e}`),du(e))return new Ul(jl.UNAVAILABLE,`${t}: ${e}`);throw e}class Jf{constructor(e){this.comparator=e?(t,n)=>e(t,n)||iu.comparator(t.key,n.key):(e,t)=>iu.comparator(e.key,t.key),this.keyedMap=Vc(),this.sortedSet=new wu(this.comparator)}static emptySet(e){return new Jf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Jf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Zf{constructor(){this.Cu=new wu(iu.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Dl():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class ep{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new ep(e,t,Jf.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class tp{constructor(){this.Nu=void 0,this.listeners=[]}}class np{constructor(){this.queries=new Uc((e=>Rc(e)),Pc),this.onlineState="Unknown",this.ku=new Set}}async function rp(e,t){const n=Ml(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new tp),i)try{o.Nu=await n.onListen(r)}catch(e){const n=Xf(e,`Initialization of query '${Dc(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Mu(n.onlineState),o.Nu&&t.$u(o.Nu)&&ap(n)}async function ip(e,t){const n=Ml(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function op(e,t){const n=Ml(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.$u(e)&&(r=!0);i.Nu=e}}r&&ap(n)}function sp(e,t,n){const r=Ml(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function ap(e){e.ku.forEach((e=>{e.next()}))}class lp{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ep(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=ep.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class up{constructor(e){this.key=e}}class cp{constructor(e){this.key=e}}class hp{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Qc(),this.mutatedKeys=Qc(),this.tc=Mc(e),this.ec=new Jf(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new Zf,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=Lc(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.rc(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.tc(c,a)>0||l&&this.tc(c,l)<0)&&(s=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(s=!0)),f&&(c?(o=o.add(c),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:o,ic:n,zi:s,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dl()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,a=s!==this.Xu;return this.Xu=s,0!==i.length||a?{snapshot:new ep(this.query,e.ec,r,i,e.mutatedKeys,0===s,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Zf,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Qc(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new cp(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new up(n))})),t}hc(e){this.Yu=e.ir,this.Zu=Qc();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return ep.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class dp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class fp{constructor(e){this.key=e,this.fc=!1}}class pp{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Uc((e=>Rc(e)),Pc),this._c=new Map,this.mc=new Set,this.gc=new wu(iu.comparator),this.yc=new Map,this.Ic=new zd,this.Tc={},this.Ec=new Map,this.Ac=Dd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function mp(e,t){const n=function(e){const t=Ml(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ap.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wp.bind(null,t),t.dc.nu=op.bind(null,t.eventManager),t.dc.Pc=sp.bind(null,t.eventManager),t}(e);let r,i;const o=n.wc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const e=await function(e,t){const n=Ml(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,hu.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new Cd(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}(n.localStore,xc(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await async function(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await nf(e.localStore,t.query,!1).then((({documents:e})=>t.view.sc(e,i))));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return Ip(e,t.targetId,s.cc),s.snapshot}(e,t,n,r);const o=await nf(e.localStore,t,!0),s=new hp(t,o.ir),a=s.sc(o.documents),l=Wh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=s.applyChanges(a,e.isPrimaryClient,l);Ip(e,n,u.cc);const c=new dp(t,n,s);return e.wc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&Sf(n.remoteStore,e)}return i}async function gp(e,t){const n=Ml(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!Pc(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await tf(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),If(n.remoteStore,r.targetId),Tp(n,r.targetId)})).catch(cu)):(Tp(n,r.targetId),await tf(n.localStore,r.targetId,!0))}async function vp(e,t){const n=Ml(e);try{const e=await function(e,t){const n=Ml(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Bs.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Bs.addMatchingKeys(e,o.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(Iu.EMPTY_BYTE_STRING,Zl.min()).withLastLimboFreeSnapshotVersion(Zl.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,o)&&s.push(n.Bs.updateTargetData(e,u))}));let a=zc(),l=Qc();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(function(e,t,n){let r=Qc(),i=Qc();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=zc();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Zl.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):xl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{nr:r,sr:i}}))}(e,o,t.documentUpdates).next((e=>{a=e.nr,l=e.sr}))),!r.isEqual(Zl.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return hu.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(Ll(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?Ll(r.fc):e.removedDocuments.size>0&&(Ll(r.fc),r.fc=!1))})),await Np(n,e,t)}catch(e){await cu(e)}}function yp(e,t,n){const r=Ml(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Ml(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.Mu(t)&&(r=!0)})),r&&ap(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function wp(e,t,n){const r=Ml(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),o=i&&i.key;if(o){let e=new wu(iu.comparator);e=e.insert(o,Zu.newNoDocument(o,Zl.min()));const n=Qc().add(o),i=new $h(Zl.min(),new Map,new wu(Yl),e,n);await vp(r,i),r.gc=r.gc.remove(o),r.yc.delete(t),Op(r)}else await tf(r.localStore,t,!1).then((()=>Tp(r,t,n))).catch(cu)}async function bp(e,t){const n=Ml(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ml(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=hu.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Ll(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Qc();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);kp(n,r,null),_p(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Np(n,e)}catch(e){await cu(e)}}async function Ep(e,t,n){const r=Ml(e);try{const e=await function(e,t){const n=Ml(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Ll(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);kp(r,t,n),_p(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Np(r,e)}catch(n){await cu(n)}}function _p(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function kp(e,t,n){const r=Ml(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Tp(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||Sp(e,t)}))}function Sp(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(If(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Op(e))}function Ip(e,t,n){for(const r of n)r instanceof up?(e.Ic.addReference(r.key,t),Cp(e,r)):r instanceof cp?(xl("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Sp(e,r.key)):Dl()}function Cp(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(xl("SyncEngine","New document in limbo: "+n),e.mc.add(r),Op(e))}function Op(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new iu(tu.fromString(t)),r=e.Ac.next();e.yc.set(r,new fp(n)),e.gc=e.gc.insert(n,r),Sf(e.remoteStore,new Cd(xc(Cc(n.path)),r,"TargetPurposeLimboResolution",fu.ct))}}async function Np(e,t,n){const r=Ml(e),i=[],o=[],s=[];r.wc.isEmpty()||(r.wc.forEach(((e,a)=>{s.push(r.Rc(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Qd.Li(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.dc.nu(i),await async function(e,t){const n=Ml(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>hu.forEach(t,(t=>hu.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>hu.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!du(e))throw e;xl("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Ji.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(t,i)}}}(r.localStore,o))}async function xp(e,t){const n=Ml(e);if(!n.currentUser.isEqual(t)){xl("SyncEngine","User change. New user:",t.toKey());const e=await Jd(n.localStore,t);n.currentUser=t,function(e,t){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new Ul(jl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Np(n,e.er)}}function Ap(e,t){const n=Ml(e),r=n.yc.get(t);if(r&&r.fc)return Qc().add(r.key);{let e=Qc();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function Pp(e){const t=Ml(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ep.bind(null,t),t}class Rp{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function(e,t,n,r){return new Xd(e,t,n,r)}(this.persistence,new Yd,e.initialUser,this.serializer)}createPersistence(e){return new Hd(Gd.zs,this.serializer)}createSharedClientState(e){return new of}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Dp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>yp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=xp.bind(null,this.syncEngine),await async function(e,t){const n=Ml(e);t?(n.vu.delete(2),await kf(n)):t||(n.vu.add(2),await Tf(n),n.bu.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new np}createDatastore(e){const t=mf(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new ff(r));var r;return function(e,t,n,r){return new bf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>yp(this.syncEngine,e,0),o=af.D()?new af:new sf,new _f(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new pp(e,t,n,r,i,o);return s&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Ml(e);xl("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Tf(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class Lp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Al("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Mp{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Il.UNAUTHENTICATED,this.clientId=Ql.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{xl("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(xl("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ul(jl.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Xf(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function jp(e,t){e.asyncQueue.verifyOperationInProgress(),xl("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Jd(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Up(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){xl("FirestoreClient","Using user provided OfflineComponentProvider");try{await jp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===jl.FAILED_PRECONDITION||e.code===jl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Pl("Error using user provided cache. Falling back to memory cache: "+n),await jp(e,new Rp)}}else xl("FirestoreClient","Using default OfflineComponentProvider"),await jp(e,new Rp);return e._offlineComponents}(e);xl("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>Kf(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Kf(t.remoteStore,n))),e._onlineComponents=t}async function Fp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(xl("FirestoreClient","Using user provided OnlineComponentProvider"),await Up(e,e._uninitializedComponentsProvider._online)):(xl("FirestoreClient","Using default OnlineComponentProvider"),await Up(e,new Dp))),e._onlineComponents}async function zp(e){const t=await Fp(e),n=t.eventManager;return n.onListen=mp.bind(null,t.syncEngine),n.onUnlisten=gp.bind(null,t.syncEngine),n}function Bp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Vp=new Map;function $p(e,t,n){if(!n)throw new Ul(jl.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Wp(e){if(!iu.isDocumentKey(e))throw new Ul(jl.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function qp(e){if(iu.isDocumentKey(e))throw new Ul(jl.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Hp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Dl()}function Kp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ul(jl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hp(e);throw new Ul(jl.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class Gp{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ul(jl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ul(jl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Ul(jl.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")})(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ul(jl.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Ul(jl.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Ul(jl.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Qp{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ul(jl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ul(jl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Bl;switch(e.type){case"firstParty":return new ql(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ul(jl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Vp.get(e);t&&(xl("ComponentProvider","Removing Datastore"),Vp.delete(e),t.terminate())}(this),Promise.resolve()}}class Yp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yp(this.firestore,e,this._key)}}class Xp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Xp(this.firestore,e,this._query)}}class Jp extends Xp{constructor(e,t,n){super(e,t,Cc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yp(this.firestore,null,new iu(e))}withConverter(e){return new Jp(this.firestore,e,this._path)}}function Zp(e,t,...n){if(e=me(e),1===arguments.length&&(t=Ql.A()),$p("doc","path",t),e instanceof Qp){const r=tu.fromString(t,...n);return Wp(r),new Yp(e,null,new iu(r))}{if(!(e instanceof Yp||e instanceof Jp))throw new Ul(jl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(tu.fromString(t,...n));return Wp(r),new Yp(e.firestore,e instanceof Jp?e.converter:null,new iu(r))}}class em{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new gf(this,"async_queue_retry"),this.Xc=()=>{const e=pf();e&&xl("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=pf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=pf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new Fl;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!du(e))throw e;xl("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Al("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=Yf.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&Dl()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function tm(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class nm extends Qp{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new em,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||im(this),this._firestoreClient.terminate()}}function rm(e){return e._firestoreClient||im(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function im(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Du(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Bp(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Mp(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class om{constructor(e){this._byteString=e}static fromBase64String(e){try{return new om(Iu.fromBase64String(e))}catch(e){throw new Ul(jl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new om(Iu.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sm{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ul(jl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ru(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class am{constructor(e){this._methodName=e}}class lm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ul(jl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ul(jl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yl(this._lat,e._lat)||Yl(this._long,e._long)}}const um=/^__.*__$/;class cm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new kh(e,this.data,this.fieldMask,t,this.fieldTransforms):new _h(e,this.data,t,this.fieldTransforms)}}class hm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new kh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dl()}}class fm{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new fm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Im(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(dm(this.ca)&&um.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class pm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||mf(e)}ya(e,t,n,r=!1){return new fm({ca:e,methodName:t,ga:n,path:ru.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mm(e){const t=e._freezeSettings(),n=mf(e._databaseId);return new pm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function gm(e,t,n,r,i,o={}){const s=e.ya(o.merge||o.mergeFields?2:0,t,n,i);_m("Data must be an object, but it was:",s,r);const a=bm(r,s);let l,u;if(o.merge)l=new Tu(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=km(t,r,n);if(!s.contains(i))throw new Ul(jl.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Cm(e,i)||e.push(i)}l=new Tu(e),u=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=s.fieldTransforms;return new cm(new Xu(a),l,u)}class vm extends am{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vm}}class ym extends am{_toFieldTransform(e){return new dh(e.path,new ih)}isEqual(e){return e instanceof ym}}function wm(e,t){if(Em(e=me(e)))return _m("Unsupported field value:",t,e),bm(e,t);if(e instanceof am)return function(e,t){if(!dm(t.ca))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=wm(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=me(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Zc(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Jl.fromDate(e);return{timestampValue:rd(t.serializer,n)}}if(e instanceof Jl){const n=new Jl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:rd(t.serializer,n)}}if(e instanceof lm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof om)return{bytesValue:id(t.serializer,e._byteString)};if(e instanceof Yp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:ad(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${Hp(e)}`)}(e,t)}function bm(e,t){const n={};return yu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vu(e,((e,r)=>{const i=wm(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Em(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Jl||e instanceof lm||e instanceof om||e instanceof Yp||e instanceof am)}function _m(e,t,n){if(!Em(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Hp(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function km(e,t,n){if((t=me(t))instanceof sm)return t._internalPath;if("string"==typeof t)return Sm(e,t);throw Im("Field path arguments must be of type string or ",e,!1,void 0,n)}const Tm=new RegExp("[~\\*/\\[\\]]");function Sm(e,t,n){if(t.search(Tm)>=0)throw Im(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new sm(...t.split("."))._internalPath}catch(r){throw Im(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Im(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Ul(jl.INVALID_ARGUMENT,a+e+l)}function Cm(e,t){return e.some((e=>e.isEqual(t)))}class Om{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Yp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Nm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Nm extends Om{data(){return super.data()}}function xm(e,t){return"string"==typeof t?Sm(e,t):t instanceof sm?t._internalPath:t._delegate._internalPath}function Am(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ul(jl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pm{convertValue(e,t="none"){switch(ju(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Dl()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return vu(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new lm(Nu(e.latitude),Nu(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Pu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ru(e));default:return null}}convertTimestamp(e){const t=Ou(e);return new Jl(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=tu.fromString(e);Ll(Id(n));const r=new Lu(n.get(1),n.get(3)),i=new iu(n.popFirst(5));return r.isEqual(t)||Al(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Rm(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Dm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lm extends Om{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(xm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Mm extends Lm{data(e={}){return super.data(e)}}class jm{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Dm(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Mm(this._firestore,this._userDataWriter,n.key,n,new Dm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ul(jl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Mm(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Dm(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Mm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Dm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Um(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Um(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dl()}}class Fm extends Pm{constructor(e){super(),this.firestore=e}convertBytes(e){return new om(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yp(this.firestore,null,t)}}function zm(e,t){return function(e,t){const n=new Fl;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Pp(e);try{const e=await function(e,t){const n=Ml(e),r=Jl.now(),i=t.reduce(((e,t)=>e.add(t.key)),Qc());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=zc(),l=Qc();return n.Zi.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=bh(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new kh(e.key,t,Ju(t.value.mapValue),ph.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:$c(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new wu(Yl)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Np(r,e.changes),await Uf(r.remoteStore)}catch(e){const t=Xf(e,"Failed to persist write");n.reject(t)}}(await function(e){return Fp(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(rm(e),t)}function Bm(e,t,n){const r=n.docs.get(t._key),i=new Fm(e);return new Lm(e,i,t._key,r,new Dm(n.hasPendingWrites,n.fromCache),t.converter)}function Vm(){return new ym("serverTimestamp")}!function(e,t=!0){!function(e){Cl=e}(it),et(new ge("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),o=new nm(new $l(e.getProvider("auth-internal")),new Kl(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ul(jl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lu(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),at(Sl,"3.13.0",e),at(Sl,"3.13.0","esm2017")}();const $m=(e,t)=>t.some((t=>e instanceof t));let Wm,qm;const Hm=new WeakMap,Km=new WeakMap,Gm=new WeakMap,Qm=new WeakMap,Ym=new WeakMap;let Xm={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Km.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Gm.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zm(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Jm(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(qm||(qm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(eg(this),e),Zm(Hm.get(this))}:function(...e){return Zm(t.apply(eg(this),e))}:function(e,...n){const r=t.call(eg(this),e,...n);return Gm.set(r,e.sort?e.sort():[e]),Zm(r)}:(e instanceof IDBTransaction&&function(e){if(Km.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Km.set(e,t)}(e),$m(e,Wm||(Wm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Xm):e);var t}function Zm(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Zm(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Hm.set(t,e)})).catch((()=>{})),Ym.set(t,e),t}(e);if(Qm.has(e))return Qm.get(e);const t=Jm(e);return t!==e&&(Qm.set(e,t),Ym.set(t,e)),t}const eg=e=>Ym.get(e),tg=["get","getKey","getAll","getAllKeys","count"],ng=["put","add","delete","clear"],rg=new Map;function ig(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(rg.get(t))return rg.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ng.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!tg.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return rg.set(t,o),o}Xm=(e=>({...e,get:(t,n,r)=>ig(t,n)||e.get(t,n,r),has:(t,n)=>!!ig(t,n)||e.has(t,n)}))(Xm);const og="@firebase/installations",sg="0.6.4",ag=1e4,lg=`w:${sg}`,ug="FIS_v2",cg="https://firebaseinstallations.googleapis.com/v1",hg=36e5,dg=new se("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function fg(e){return e instanceof oe&&e.code.includes("request-failed")}function pg({projectId:e}){return`${cg}/projects/${e}/installations`}function mg(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function gg(e,t){const n=(await t.json()).error;return dg.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function vg({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function yg(e){const t=await e();return t.status>=500&&t.status<600?e():t}function wg(e){return new Promise((t=>{setTimeout(t,e)}))}const bg=/^[cdef][\w-]{21}$/,Eg="";function _g(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){var t;return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22)}(e);return bg.test(t)?t:Eg}catch(e){return Eg}}function kg(e){return`${e.appName}!${e.appId}`}const Tg=new Map;function Sg(e,t){const n=kg(e);Ig(n,t),function(e,t){const n=(!Cg&&"BroadcastChannel"in self&&(Cg=new BroadcastChannel("[Firebase] FID Change"),Cg.onmessage=e=>{Ig(e.data.key,e.data.fid)}),Cg);n&&n.postMessage({key:e,fid:t}),0===Tg.size&&Cg&&(Cg.close(),Cg=null)}(n,t)}function Ig(e,t){const n=Tg.get(e);if(n)for(const e of n)e(t)}let Cg=null;const Og="firebase-installations-database",Ng=1,xg="firebase-installations-store";let Ag=null;function Pg(){return Ag||(Ag=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Zm(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Zm(s.result),e.oldVersion,e.newVersion,Zm(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}(Og,Ng,{upgrade:(e,t)=>{0===t&&e.createObjectStore(xg)}})),Ag}async function Rg(e,t){const n=kg(e),r=(await Pg()).transaction(xg,"readwrite"),i=r.objectStore(xg),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||Sg(e,t.fid),t}async function Dg(e){const t=kg(e),n=(await Pg()).transaction(xg,"readwrite");await n.objectStore(xg).delete(t),await n.done}async function Lg(e,t){const n=kg(e),r=(await Pg()).transaction(xg,"readwrite"),i=r.objectStore(xg),o=await i.get(n),s=t(o);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||o&&o.fid===s.fid||Sg(e,s.fid),s}async function Mg(e){let t;const n=await Lg(e.appConfig,(n=>{const r=function(e){return Fg(e||{fid:_g(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(dg.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=pg(e),i=vg(e),o=t.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const s={fid:n,authVersion:ug,appId:e.appId,sdkVersion:lg},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await yg((()=>fetch(r,a)));if(l.ok){const e=await l.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:mg(e.authToken)}}throw await gg("Create Installation",l)}(e,t);return Rg(e.appConfig,n)}catch(n){throw fg(n)&&409===n.customData.serverCode?await Dg(e.appConfig):await Rg(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:jg(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return n.fid===Eg?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function jg(e){let t=await Ug(e.appConfig);for(;1===t.registrationStatus;)await wg(100),t=await Ug(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Mg(e);return n||t}return t}function Ug(e){return Lg(e,(e=>{if(!e)throw dg.create("installation-not-found");return Fg(e)}))}function Fg(e){return 1===(t=e).registrationStatus&&t.registrationTime+ag<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function zg({appConfig:e,heartbeatServiceProvider:t},n){const r=function(e,{fid:t}){return`${pg(e)}/${t}/authTokens:generate`}(e,n),i=function(e,{refreshToken:t}){const n=vg(e);return n.append("Authorization",function(e){return`${ug} ${e}`}(t)),n}(e,n),o=t.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const s={installation:{sdkVersion:lg,appId:e.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await yg((()=>fetch(r,a)));if(l.ok)return mg(await l.json());throw await gg("Generate Auth Token",l)}async function Bg(e,t=!1){let n;const r=await Lg(e.appConfig,(r=>{if(!$g(r))throw dg.create("not-registered");const i=r.authToken;if(!t&&(2===(o=i).requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+hg}(o)))return r;var o;if(1===i.requestStatus)return n=async function(e,t){let n=await Vg(e.appConfig);for(;1===n.authToken.requestStatus;)await wg(100),n=await Vg(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Bg(e,t):r}(e,t),r;{if(!navigator.onLine)throw dg.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await zg(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Rg(e.appConfig,r),n}catch(n){if(!fg(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Rg(e.appConfig,n)}else await Dg(e.appConfig);throw n}}(e,t),t}}));return n?await n:r.authToken}function Vg(e){return Lg(e,(e=>{if(!$g(e))throw dg.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+ag<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var t}))}function $g(e){return void 0!==e&&2===e.registrationStatus}function Wg(e){return dg.create("missing-app-config-values",{valueName:e})}const qg="installations";et(new ge(qg,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Wg("App Configuration");if(!e.name)throw Wg("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Wg(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:tt(t,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),et(new ge("installations-internal",(e=>{const t=tt(e.getProvider("app").getImmediate(),qg).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Mg(t);return r?r.catch(console.error):Bg(t).catch(console.error),n.fid}(t),getToken:e=>async function(e,t=!1){const n=e;return await async function(e){const{registrationPromise:t}=await Mg(e);t&&await t}(n),(await Bg(n,t)).token}(t,e)}}),"PRIVATE")),at(og,sg),at(og,sg,"esm2017");const Hg=(e,t)=>t.some((t=>e instanceof t));let Kg,Gg;const Qg=new WeakMap,Yg=new WeakMap,Xg=new WeakMap,Jg=new WeakMap,Zg=new WeakMap;let ev={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Yg.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Xg.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nv(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function tv(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Gg||(Gg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(rv(this),e),nv(Qg.get(this))}:function(...e){return nv(t.apply(rv(this),e))}:function(e,...n){const r=t.call(rv(this),e,...n);return Xg.set(r,e.sort?e.sort():[e]),nv(r)}:(e instanceof IDBTransaction&&function(e){if(Yg.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Yg.set(e,t)}(e),Hg(e,Kg||(Kg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ev):e);var t}function nv(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(nv(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Qg.set(t,e)})).catch((()=>{})),Zg.set(t,e),t}(e);if(Jg.has(e))return Jg.get(e);const t=tv(e);return t!==e&&(Jg.set(e,t),Zg.set(t,e)),t}const rv=e=>Zg.get(e);function iv(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=nv(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(nv(s.result),e.oldVersion,e.newVersion,nv(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}function ov(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(()=>t())),nv(n).then((()=>{}))}const sv=["get","getKey","getAll","getAllKeys","count"],av=["put","add","delete","clear"],lv=new Map;function uv(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(lv.get(t))return lv.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=av.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!sv.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return lv.set(t,o),o}ev=(e=>({...e,get:(t,n,r)=>uv(t,n)||e.get(t,n,r),has:(t,n)=>!!uv(t,n)||e.has(t,n)}))(ev);const cv="/firebase-messaging-sw.js",hv="/firebase-cloud-messaging-push-scope",dv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",fv="https://fcmregistrations.googleapis.com/v1",pv="google.c.a.c_id",mv="google.c.a.c_l",gv="google.c.a.ts";var vv,yv;function wv(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bv(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let e=0;e<n.length;++e)r[e]=n.charCodeAt(e);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(vv||(vv={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(yv||(yv={}));const Ev="fcm_token_details_db",_v=5,kv="fcm_token_object_Store",Tv="firebase-messaging-database",Sv=1,Iv="firebase-messaging-store";let Cv=null;function Ov(){return Cv||(Cv=iv(Tv,Sv,{upgrade:(e,t)=>{0===t&&e.createObjectStore(Iv)}})),Cv}async function Nv(e){const t=Av(e),n=await Ov(),r=await n.transaction(Iv).objectStore(Iv).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map((e=>e.name));if(!e.includes(Ev))return null}let t=null;return(await iv(Ev,_v,{upgrade:async(n,r,i,o)=>{var s;if(r<2)return;if(!n.objectStoreNames.contains(kv))return;const a=o.objectStore(kv),l=await a.index("fcmSenderId").get(e);if(await a.clear(),l)if(2===r){const e=l;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(s=e.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:wv(e.vapidKey)}}}else if(3===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:wv(e.auth),p256dh:wv(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:wv(e.vapidKey)}}}else if(4===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:wv(e.auth),p256dh:wv(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:wv(e.vapidKey)}}}}})).close(),await ov(Ev),await ov("fcm_vapid_details_db"),await ov("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await xv(e,t),t}}async function xv(e,t){const n=Av(e),r=(await Ov()).transaction(Iv,"readwrite");return await r.objectStore(Iv).put(t,n),await r.done,t}function Av({appConfig:e}){return e.appId}const Pv=new se("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function Rv(e,t){const n={method:"DELETE",headers:await Lv(e)};try{const r=await fetch(`${Dv(e.appConfig)}/${t}`,n),i=await r.json();if(i.error){const e=i.error.message;throw Pv.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw Pv.create("token-unsubscribe-failed",{errorInfo:null==e?void 0:e.toString()})}}function Dv({projectId:e}){return`${fv}/projects/${e}/registrations`}async function Lv({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Mv({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==dv&&(i.web.applicationPubKey=r),i}const jv=6048e5;async function Uv(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bv(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:wv(t.getKey("auth")),p256dh:wv(t.getKey("p256dh"))},r=await Nv(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(r.subscriptionOptions,n))return Date.now()>=r.createTime+jv?async function(e,t){try{const n=await async function(e,t){const n=await Lv(e),r=Mv(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{const n=await fetch(`${Dv(e.appConfig)}/${t.token}`,i);o=await n.json()}catch(e){throw Pv.create("token-update-failed",{errorInfo:null==e?void 0:e.toString()})}if(o.error){const e=o.error.message;throw Pv.create("token-update-failed",{errorInfo:e})}if(!o.token)throw Pv.create("token-update-no-token");return o.token}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await xv(e.firebaseDependencies,r),n}catch(t){throw await async function(e){const t=await Nv(e.firebaseDependencies);t&&(await Rv(e.firebaseDependencies,t.token),await async function(e){const t=Av(e),n=(await Ov()).transaction(Iv,"readwrite");await n.objectStore(Iv).delete(t),await n.done}(e.firebaseDependencies));const n=await e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}(e),t}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Rv(e.firebaseDependencies,r.token)}catch(e){console.warn(e)}return Fv(e.firebaseDependencies,n)}return Fv(e.firebaseDependencies,n)}async function Fv(e,t){const n=await async function(e,t){const n=await Lv(e),r=Mv(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{const t=await fetch(Dv(e.appConfig),i);o=await t.json()}catch(e){throw Pv.create("token-subscribe-failed",{errorInfo:null==e?void 0:e.toString()})}if(o.error){const e=o.error.message;throw Pv.create("token-subscribe-failed",{errorInfo:e})}if(!o.token)throw Pv.create("token-subscribe-no-token");return o.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await xv(e,r),r.token}function zv(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const o=t.notification.icon;o&&(e.notification.icon=o)}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){var n,r,i,o,s;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};const a=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=t.notification)||void 0===o?void 0:o.click_action;a&&(e.fcmOptions.link=a);const l=null===(s=t.fcmOptions)||void 0===s?void 0:s.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}(t,e),t}function Bv(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function Vv(e){return Pv.create("missing-app-config-values",{valueName:e})}Bv("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Bv("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $v{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw Vv("App Configuration Object");if(!e.name)throw Vv("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const e of t)if(!n[e])throw Vv(e);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function Wv(e,t){if(!navigator)throw Pv.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw Pv.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=dv)}(e,null==t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await async function(e){try{e.swRegistration=await navigator.serviceWorker.register(cv,{scope:hv}),e.swRegistration.update().catch((()=>{}))}catch(e){throw Pv.create("failed-service-worker-registration",{browserErrorMessage:null==e?void 0:e.message})}}(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw Pv.create("invalid-sw-registration");e.swRegistration=t}}(e,null==t?void 0:t.serviceWorkerRegistration),Uv(e)}async function qv(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===yv.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(zv(n)):e.onMessageHandler.next(zv(n)));const r=n.data;var i;"object"==typeof(i=r)&&i&&pv in i&&"1"===r["google.c.a.e"]&&await async function(e,t,n){const r=function(e){switch(e){case yv.NOTIFICATION_CLICKED:return"notification_open";case yv.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[pv],message_name:n[mv],message_time:n[gv],message_device_time:Math.floor(Date.now()/1e3)})}(e,n.messageType,r)}const Hv="@firebase/messaging",Kv="0.12.4";function Gv(){return Gv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gv.apply(this,arguments)}et(new ge("messaging",(e=>{const t=new $v(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(e=>qv(t,e))),t}),"PUBLIC")),et(new ge("messaging-internal",(e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>Wv(t,e)}}),"PRIVATE")),at(Hv,Kv),at(Hv,Kv,"esm2017");var Qv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Gv({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))}));Qv.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Qv.displayName="X";const Yv=Qv;function Xv(){return Xv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xv.apply(this,arguments)}var Jv=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Xv({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),e.createElement("polyline",{points:"10 17 15 12 10 7"}),e.createElement("line",{x1:"15",y1:"12",x2:"3",y2:"12"}))}));Jv.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Jv.displayName="LogIn";const Zv=Jv;function ey(){return ey=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ey.apply(this,arguments)}var ty=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",ey({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),e.createElement("polyline",{points:"17 11 19 13 23 9"}))}));ty.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},ty.displayName="UserCheck";const ny=ty;function ry(){return ry=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ry.apply(this,arguments)}var iy=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",ry({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),e.createElement("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),e.createElement("line",{x1:"23",y1:"11",x2:"17",y2:"11"}))}));iy.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},iy.displayName="UserPlus";const oy=iy;function sy(){return sy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sy.apply(this,arguments)}var ay=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",sy({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"}))}));ay.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},ay.displayName="Key";const ly=ay;at("firebase","9.23.0","app");const uy="firebasestorage.googleapis.com",cy="storageBucket";class hy extends oe{constructor(e,t,n=0){super(py(e),`Firebase Storage: ${t} (${py(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,hy.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return py(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var dy,fy;function py(e){return"storage/"+e}function my(){return new hy(dy.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function gy(e){return new hy(dy.INVALID_ARGUMENT,e)}function vy(){return new hy(dy.APP_DELETED,"The Firebase app was deleted.")}function yy(e,t){return new hy(dy.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function wy(e){throw new hy(dy.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(dy||(dy={}));class by{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=by.makeFromUrl(e,t)}catch(t){return new by(e,"")}if(""===n.path)return n;throw r=e,new hy(dy.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===uy?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let t=0;t<a.length;t++){const r=a[t],i=r.regex.exec(e);if(i){const e=i[r.indices.bucket];let t=i[r.indices.path];t||(t=""),n=new by(e,t),r.postModify(n);break}}if(null==n)throw function(e){return new hy(dy.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Ey{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function _y(e){return"string"==typeof e||e instanceof String}function ky(e){return Ty()&&e instanceof Blob}function Ty(){return"undefined"!=typeof Blob&&!function(){var e;const t=null===(e=Q())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()}function Sy(e,t,n,r){if(r<t)throw gy(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw gy(`Invalid value for '${e}'. Expected ${n} or less.`)}function Iy(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Cy(e){const t=encodeURIComponent;let n="?";for(const r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n=n.slice(0,-1),n}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(fy||(fy={}));class Oy{constructor(e,t,n,r,i,o,s,a,l,u,c,h=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=c,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(e){r(e)}else if(null!==i){const e=my();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else t.canceled?r(this.appDelete_?vy():new hy(dy.CANCELED,"User canceled the upload/download.")):r(new hy(dy.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))};this.canceled_?e(0,new Ny(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let u=!1;function c(...e){u||(u=!0,t.apply(null,e))}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){o&&clearTimeout(o)}function f(e,...t){if(u)return void d();if(e)return d(),void c.call(null,e,...t);if(l()||s)return d(),void c.call(null,e,...t);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),h(n)}let p=!1;function m(e){p||(p=!0,d(),u||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(((e,t)=>{if(t)return void e(!1,new Ny(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===fy.NO_ERROR,i=n.getStatus();if(!t||function(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===fy.ABORT;return void e(!1,new Ny(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new Ny(o,n))}))}),e,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ny{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function xy(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Ay(...e){const t=xy();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(Ty())return new Blob(e);throw new hy(dy.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Py={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ry{constructor(e,t){this.data=e,this.contentType=t||null}}function Dy(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Ly(e,t){switch(e){case Py.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw yy(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case Py.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r)throw yy(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function(e){if("undefined"==typeof atob)throw new hy(dy.UNSUPPORTED_ENVIRONMENT,"base-64 is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.");return atob(e)}(t)}catch(t){if(t.message.includes("polyfill"))throw t;throw yy(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r}class My{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw yy(Py.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;var r,i;null!=n&&(this.base64=(i=";base64",(r=n).length>=7&&r.substring(r.length-7)===i),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class jy{constructor(e,t){let n=0,r="";ky(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(ky(this.data_)){const o=(n=this.data_,r=e,i=t,n.webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null);return null===o?null:new jy(o)}var n,r,i;{const n=new Uint8Array(this.data_.buffer,e,t-e);return new jy(n,!0)}}static getBlob(...e){if(Ty()){const t=e.map((e=>e instanceof jy?e.data_:e));return new jy(Ay.apply(null,t))}{const t=e.map((e=>_y(e)?function(e,t){switch(e){case Py.RAW:return new Ry(Dy(t));case Py.BASE64:case Py.BASE64URL:return new Ry(Ly(e,t));case Py.DATA_URL:return new Ry(function(e){const t=new My(e);return t.base64?Ly(Py.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(e){throw yy(Py.DATA_URL,"Malformed data URL.")}return Dy(t)}(t.rest)}(t),new My(t).contentType)}throw my()}(Py.RAW,e).data:e.data_));let n=0;t.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return t.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new jy(r,!0)}}uploadData(){return this.data_}}function Uy(e){let t;try{t=JSON.parse(e)}catch(e){return null}return function(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}function Fy(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function zy(e,t){return t}class By{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||zy}}let Vy=null;function $y(){if(Vy)return Vy;const e=[];e.push(new By("bucket")),e.push(new By("generation")),e.push(new By("metageneration")),e.push(new By("name","fullPath",!0));const t=new By("name");t.xform=function(e,t){return function(e){return!_y(e)||e.length<2?e:Fy(e)}(t)},e.push(t);const n=new By("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new By("timeCreated")),e.push(new By("updated")),e.push(new By("md5Hash",null,!0)),e.push(new By("cacheControl",null,!0)),e.push(new By("contentDisposition",null,!0)),e.push(new By("contentEncoding",null,!0)),e.push(new By("contentLanguage",null,!0)),e.push(new By("contentType",null,!0)),e.push(new By("metadata","customMetadata",!0)),Vy=e,Vy}function Wy(e,t,n){const r=Uy(t);return null===r?null:function(e,t,n){const r={type:"file"},i=n.length;for(let e=0;e<i;e++){const i=n[e];r[i.local]=i.xform(r,t[i.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new by(n,r);return t._makeStorageReference(i)}})}(r,e),r}(e,r,n)}class qy{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Hy(e){if(!e)throw my()}function Ky(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new hy(dy.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new hy(dy.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new hy(dy.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new hy(dy.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Gy(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=function(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}(t,r,i),u="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+function(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",c="\r\n--"+a+"--",h=jy.getBlob(u,r,c);if(null===h)throw new hy(dy.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.");const d={name:l.fullPath},f=Iy(o,e.host,e._protocol),p=e.maxUploadRetryTime,m=new qy(f,"POST",function(e,t){return function(n,r){const i=Wy(e,r,t);return Hy(null!==i),i}}(e,n),p);return m.urlParams=d,m.headers=s,m.body=h.uploadData(),m.errorHandler=Ky(t),m}let Qy=null;class Yy{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fy.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=fy.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=fy.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw wy("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const e in r)r.hasOwnProperty(e)&&this.xhr_.setRequestHeader(e,r[e].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wy("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wy("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw wy("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wy("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Xy extends Yy{initXhr(){this.xhr_.responseType="text"}}function Jy(){return Qy?Qy():new Xy}class Zy{constructor(e,t){this._service=e,this._location=t instanceof by?t:by.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Zy(e,t)}get root(){const e=new by(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Fy(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new by(this._location.bucket,e);return new Zy(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new hy(dy.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function ew(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Iy(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new qy(r,"GET",function(e,t){return function(n,r){const i=Wy(e,r,t);return Hy(null!==i),function(e,t,n,r){const i=Uy(t);if(null===i)return null;if(!_y(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return Iy("/b/"+s(i)+"/o/"+s(o),n,r)+Cy({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}(e,n),i);return o.errorHandler=function(e){const t=Ky(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new hy(dy.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}(t),o}(e.storage,e._location,$y());return e.storage.makeRequestWithTokens(t,Jy).then((e=>{if(null===e)throw new hy(dy.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function tw(e,t){if(e instanceof rw){const n=e;if(null==n._bucket)throw new hy(dy.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cy+"' property when initializing the app?");const r=new Zy(n,n._bucket);return null!=t?tw(r,t):r}return void 0!==t?function(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new by(e._location.bucket,n);return new Zy(e.storage,r)}(e,t):e}function nw(e,t){const n=null==t?void 0:t[cy];return null==n?null:by.makeFromBucketSpec(n,e)}class rw{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=uy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?by.makeFromBucketSpec(r,this._host):nw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=by.makeFromBucketSpec(this._url,e):this._bucket=nw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Sy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Sy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zy(this,e)}_makeRequest(e,t,n,r,i=!0){if(this._deleted)return new Ey(vy());{const o=function(e,t,n,r,i,o,s=!0){const a=Cy(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Oy(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const iw="@firebase/storage",ow="0.11.2",sw="storage";function aw(e,t){return function(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof rw)return new Zy(e,t);throw gy("To use ref(service, url), the first argument must be a Storage instance.")}return tw(e,t)}(e=me(e),t)}et(new ge(sw,(function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new rw(n,r,i,t,it)}),"PUBLIC").setMultipleInstances(!0)),at(iw,ow,""),at(iw,ow,"esm2017");const lw=new class{constructor(){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"database",{apiKey:"AIzaSyDmojC5Kl5vtST4vIyW81UfCrR6B18HnKw",authDomain:"sucralose-74a13.firebaseapp.com",projectId:"sucralose-74a13",storageBucket:"sucralose-74a13.appspot.com",messagingSenderId:"43887129209",appId:"1:43887129209:web:7d607e00a979144af85aa8"})}};function uw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const cw=lw.database,hw=new class{doc(...e){return Zp(this.db,e.join("/"))}collection(...e){return function(e,t,...n){if(e=me(e),$p("collection","path",t),e instanceof Qp){const r=tu.fromString(t,...n);return qp(r),new Jp(e,null,r)}{if(!(e instanceof Yp||e instanceof Jp))throw new Ul(jl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(tu.fromString(t,...n));return qp(r),new Jp(e.firestore,null,r)}}(this.db,e.join("/"))}formatDocument(e,t){return t?{_ref:e,_snapshot:t,id:t.id,...t.data()}:null}async getDoc(e){const t=await function(e){e=Kp(e,Yp);const t=Kp(e.firestore,nm);return function(e,t,n={}){const r=new Fl;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Lp({next:o=>{t.enqueueAndForget((()=>ip(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Ul(jl.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Ul(jl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new lp(Cc(n.path),o,{includeMetadataChanges:!0,Ku:!0});return rp(e,s)}(await zp(e),e.asyncQueue,t,n,r))),r.promise}(rm(t),e._key).then((n=>Bm(t,e,n)))}(e);return t.exists()?this.formatDocument(e,t):null}async getDocs(e){return(await function(e){e=Kp(e,Xp);const t=Kp(e.firestore,nm),n=rm(t),r=new Fm(t);return Am(e._query),function(e,t,n={}){const r=new Fl;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Lp({next:n=>{t.enqueueAndForget((()=>ip(e,s))),n.fromCache&&"server"===r.source?i.reject(new Ul(jl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new lp(n,o,{includeMetadataChanges:!0,Ku:!0});return rp(e,s)}(await zp(e),e.asyncQueue,t,n,r))),r.promise}(n,e._query).then((n=>new jm(t,r,e,n)))}(e)).docs.map((e=>this.formatDocument(e.ref,e)))}createSnapshotListener(e,t,n={}){let{onReady:r,processor:i}=n;const o=function(e,...t){var n,r,i;e=me(e);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||tm(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(tm(t[s])){const e=t[s];t[s]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[s+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[s+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,u,c;if(e instanceof Yp)u=Kp(e.firestore,nm),c=Cc(e._key.path),l={next:n=>{t[s]&&t[s](Bm(u,e,n))},error:t[s+1],complete:t[s+2]};else{const n=Kp(e,Xp);u=Kp(n.firestore,nm),c=n._query;const r=new Fm(u);l={next:e=>{t[s]&&t[s](new jm(u,r,n,e))},error:t[s+1],complete:t[s+2]},Am(e._query)}return function(e,t,n,r){const i=new Lp(r),o=new lp(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>rp(await zp(e),o))),()=>{i.Dc(),e.asyncQueue.enqueueAndForget((async()=>ip(await zp(e),o)))}}(rm(u),c,a,l)}(e,(async n=>{let s=e instanceof Yp?this.formatDocument(e,n):{changes:n.docChanges().map((e=>({...e,data:this.formatDocument(e.doc.ref,e.doc)}))),items:n.docs.map((e=>this.formatDocument(e.ref,e)))};if(s&&(s._unbindListener=o,"function"==typeof i))if(Array.isArray(s.items))for(let e=0;e<s.items.length;e++)s.items[e]=await i(s.items[e]);else s=await i(s);t(s),r?.(s),r=null}),console.error.bind(null,`Error in snapshot listener at "${e.path??e._query.path}"!`));return o}get useSnapshot(){return(t,n={})=>{const{processor:r}=n,[i,o]=e.useState(void 0);return e.useEffect((()=>this.createSnapshotListener(t,(async e=>{if("function"!=typeof r)return o(e);if(Array.isArray(e.items))for(const t in e.items)e.items[t]=await r(e.items[t]);else e=await r(e);o(e)}),n)),[]),i}}serializeObject(e){return i().omit({...e},["_ref","_snapshot","_unbindListener","id","firebaseSerialized"])}async set(e,t){return await function(e,t,n){e=Kp(e,Yp);const r=Kp(e.firestore,nm),i=Rm(e.converter,t,n);return zm(r,[gm(mm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ph.none())])}(e,this.serializeObject(t)).catch(console.error.bind(null,`Error setting doc data at "${e.path}"!`))}async addDoc(e,t){return await function(e,t){const n=Kp(e.firestore,nm),r=Zp(e),i=Rm(e.converter,t);return zm(n,[gm(mm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ph.exists(!1))]).then((()=>r))}(e,this.serializeObject(t)).catch(console.error.bind(null,`Error adding doc data at "${e.path}"!`))}async delete(e){return await(t=e,zm(Kp(t.firestore,nm),[new Ch(t._key,ph.none())])).catch(console.error.bind(null,`Error deleting doc at "${e.path}"!`));var t}async update(e,t){return await function(e,t,n,...r){e=Kp(e,Yp);const i=Kp(e.firestore,nm),o=mm(i);let s;return s="string"==typeof(t=me(t))||t instanceof sm?function(e,t,n,r,i,o){const s=e.ya(1,t,n),a=[km(t,r,n)],l=[i];if(o.length%2!=0)throw new Ul(jl.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<o.length;e+=2)a.push(km(t,o[e])),l.push(o[e+1]);const u=[],c=Xu.empty();for(let e=a.length-1;e>=0;--e)if(!Cm(u,a[e])){const t=a[e];let n=l[e];n=me(n);const r=s.da(t);if(n instanceof vm)u.push(t);else{const e=wm(n,r);null!=e&&(u.push(t),c.set(t,e))}}const h=new Tu(u);return new hm(c,h,s.fieldTransforms)}(o,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.ya(1,t,n);_m("Data must be an object, but it was:",i,r);const o=[],s=Xu.empty();vu(r,((e,r)=>{const a=Sm(t,e,n);r=me(r);const l=i.da(a);if(r instanceof vm)o.push(a);else{const e=wm(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Tu(o);return new hm(s,a,i.fieldTransforms)}(o,"updateDoc",e._key,t),zm(i,[s.toMutation(e._key,ph.exists(!0))])}(e,this.serializeObject(t)).catch(console.error.bind(null,`Error updating doc data at "${e.path}"!`))}async getStorageUrl(...e){const t=e.join("/"),n=aw(this.storage,t),r=await function(e){return ew(e=me(e))}(n);return this.storageCache[t]=r}uploadStorage(e,...t){const n=t.join("/");return(r=aw(this.storage,n),i=e,function(e,t,n){e._throwIfRoot("uploadBytes");const r=Gy(e.storage,e._location,$y(),new jy(t,!0),n);return e.storage.makeRequestWithTokens(r,Jy).then((t=>({metadata:t,ref:e})))}(r=me(r),i,void 0)).then((async e=>({result:e,url:await this.getStorageUrl(...t)})));var r,i}constructor(){uw(this,"app",ot(cw)),uw(this,"auth",ii()),uw(this,"db",function(e,t){const n="string"==typeof e?e:t||"(default)",r=tt("object"==typeof e?e:st(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=X("firestore");e&&function(e,t,n,r={}){var i;const o=(e=Kp(e,Qp))._getSettings(),s=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Il.MOCK_USER;else{t=te(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Ul(jl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Il(o)}e._authCredentials=new Vl(new zl(t,n))}}(r,...e)}return r}()),uw(this,"storage",function(e=st(),t){const n=tt(e=me(e),sw).getImmediate({identifier:t}),r=X("storage");return r&&function(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"==typeof i?i:te(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}()),uw(this,"storageCache",{}),Object.freeze(this)}};function dw(){const[t,n]=e.useState(!1),[r,o]=e.useState(!1),s=e.useRef(),a={handleSignUp:()=>{if(r)return;const[e,t,n]=s.current.getElementsByTagName("input");return n.value!==t.value?p.showToast("Passwords must match!","Failure"):e.value.trim()?t.value.trim()?(o(!0),void async function(e,t,n){var r;const i=On(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Sn(i,o,"signUpPassword");s=Kn(i,e)}else s=Kn(i,o).catch((async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Sn(i,o,"signUpPassword");return Kn(i,e)}return Promise.reject(e)}));const a=await s.catch((e=>Promise.reject(e))),l=await Gn._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}(hw.auth,e.value,t.value).then((async({user:e})=>{_E.pop(),await hw.set(hw.doc("users",e.uid),i().pick(e,"e621user")),p.showToast("Welcome to Sucralose!","Success"),w.dispatch({type:y.UPDATE_ROUTE,path:"/settings"})})).catch((e=>{p.showToast("An unknown error has occured! Check console for details","Failure"),console.error(e),o(!1)}))):p.showToast("You must input a password","Failure"):p.showToast("You must input an email address","Failure")},handleLogIn:()=>{if(r)return;const[e,t]=s.current.getElementsByTagName("input");var n,i,a;o(!0),(n=hw.auth,i=e.value,a=t.value,async function(e,t){return Jn(On(e),t)}(me(n),zn.credential(i,a))).then((()=>(_E.pop(),window.location.reload()))).catch((e=>{let t="Unknown";switch(e.code){case"auth/invalid-email":t="Invalid email address";break;case"auth/user-not-found":t="No user with this email found";break;case"auth/wrong-password":t="Incorrect password"}p.showToast(`Failed to sign in! Reason - ${t}`,"Failure",10),console.error(e)}))}};return b("keydown",(e=>"Enter"===e.key&&(t?a.handleSignUp():a.handleLogIn()))),e.createElement("div",{className:"AuthModal",ref:s},e.createElement(Yv,{className:"CloseButton",onClick:_E.pop.bind(_E)}),t?e.createElement(e.Fragment,null,e.createElement("div",{className:"MainSection Flex"},e.createElement("div",{className:"HelpSection"},e.createElement("div",{className:"Title"},"NOTE"),e.createElement("div",null,"This is not your e621.net details.",e.createElement("br",null),"You will have the option to enter",e.createElement("br",null),"your e621.net username and API key",e.createElement("br",null),"in your settings after signing up.",e.createElement("br",null))),e.createElement("div",{className:"Fields"},e.createElement("h3",null,"Sign Up"),e.createElement("div",{className:"FieldContainer"},e.createElement("input",{type:"email",placeholder:"Email Address"})),e.createElement("div",{className:"FieldContainer"},e.createElement("input",{type:"password",placeholder:"Password"})),e.createElement("div",{className:"FieldContainer"},e.createElement("input",{type:"password",placeholder:"Confirm Password"})))),e.createElement("div",{className:"FooterSection Flex"},e.createElement("div",{className:"Button",onClick:()=>n(!1)},e.createElement(Zv,null),e.createElement("div",null,"Log In")),e.createElement("div",{className:"Button",style:{marginLeft:"auto"},onClick:a.handleSignUp},e.createElement(ny,null),e.createElement("div",null,"Sign Up")))):e.createElement(e.Fragment,null,e.createElement("div",{className:"MainSection Flex"},e.createElement("div",{className:"HelpSection"},e.createElement("div",{className:"Title"},"Why?"),e.createElement("div",null,"Having an account ensures that your data",e.createElement("br",null),"stays consistent across browsers and devices,",e.createElement("br",null),"along with giving you access to useful features,",e.createElement("br",null),"without the security risks of storing data on your device.",e.createElement("br",null))),e.createElement("div",{className:"Fields"},e.createElement("h3",null,"Login"),e.createElement("div",{className:"FieldContainer"},e.createElement("input",{type:"email",placeholder:"Email Address"})),e.createElement("div",{className:"FieldContainer"},e.createElement("input",{type:"password",placeholder:"Password"})))),e.createElement("div",{className:"FooterSection Flex"},e.createElement("div",{className:"Button",onClick:()=>n(!0)},e.createElement(oy,null),e.createElement("div",null,"Sign Up")),e.createElement("div",{className:"Button",style:{marginLeft:"auto"}},e.createElement(ly,null),e.createElement("div",null,"Reset Password")),e.createElement("div",{className:"Button",onClick:a.handleLogIn},e.createElement(Zv,null),e.createElement("div",null,"Log In")))))}function fw(){return fw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fw.apply(this,arguments)}var pw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",fw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polyline",{points:"1 4 1 10 7 10"}),e.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))}));pw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},pw.displayName="RotateCcw";const mw=pw;function gw(){return gw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gw.apply(this,arguments)}var vw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",gw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}))}));vw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},vw.displayName="Edit2";const yw=vw;function ww(){return ww=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ww.apply(this,arguments)}var bw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",ww({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polyline",{points:"3 6 5 6 21 6"}),e.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))}));bw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},bw.displayName="Trash";const Ew=bw;function _w(){return _w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_w.apply(this,arguments)}var kw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",_w({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("line",{x1:"4",y1:"9",x2:"20",y2:"9"}),e.createElement("line",{x1:"4",y1:"15",x2:"20",y2:"15"}),e.createElement("line",{x1:"10",y1:"3",x2:"8",y2:"21"}),e.createElement("line",{x1:"16",y1:"3",x2:"14",y2:"21"}))}));kw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},kw.displayName="Hash";const Tw=kw;function Sw(){return Sw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sw.apply(this,arguments)}var Iw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Sw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("circle",{cx:"12",cy:"8",r:"7"}),e.createElement("polyline",{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"}))}));Iw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Iw.displayName="Award";const Cw=Iw;function Ow(){return Ow=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ow.apply(this,arguments)}var Nw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Ow({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.createElement("circle",{cx:"12",cy:"7",r:"4"}))}));Nw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Nw.displayName="User";const xw=Nw;function Aw(){return Aw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Aw.apply(this,arguments)}var Pw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Aw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"}))}));Pw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Pw.displayName="Activity";const Rw=Pw;function Dw(){return Dw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dw.apply(this,arguments)}var Lw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Dw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),e.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),e.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))}));Lw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Lw.displayName="AlertTriangle";const Mw=Lw;function jw(){return jw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jw.apply(this,arguments)}var Uw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",jw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("line",{x1:"18",y1:"10",x2:"6",y2:"10"}),e.createElement("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),e.createElement("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),e.createElement("line",{x1:"18",y1:"18",x2:"6",y2:"18"}))}));Uw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Uw.displayName="AlignCenter";const Fw=Uw;function zw(){return zw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zw.apply(this,arguments)}var Bw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",zw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.createElement("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"}))}));Bw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Bw.displayName="BookOpen";const Vw=Bw;function $w(){return $w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$w.apply(this,arguments)}var Ww=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",$w({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.createElement("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),e.createElement("polyline",{points:"21 15 16 10 5 21"}))}));Ww.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Ww.displayName="Image";const qw=Ww;function Hw(){return Hw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hw.apply(this,arguments)}var Kw=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Hw({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("circle",{cx:"11",cy:"11",r:"8"}),e.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))}));Kw.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Kw.displayName="Search";const Gw=Kw;class Qw{emitChange(){for(const e of this._listeners)e()}addListener(e){return this._listeners.add(e)}removeListener(e){return this._listeners.delete(e)}get useState(){return(t=(e=>e),n=[])=>{const[r,i]=e.useState(t(this));return e.useEffect((()=>{const e=()=>i(t(this));return this.addListener(e),()=>{this.removeListener(e)}}),[r,...n]),r}}constructor(e,t){if(function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"_listeners",new Set),this._dispatcher=e,"object"==typeof t)for(const n in t)e.subscribe(n,(e=>{!1!==t[n]?.(e)&&this.emitChange()}));this._actionHandlers=t}}const Yw=new class extends Qw{get query(){return Object.fromEntries(new URLSearchParams(window.location.search))}get(e,t=null){return this.query[e]??t}set(e,t,n={}){const r=new URLSearchParams(window.location.search);null===t?r.delete(e):r.set(e,t),w.dispatch({type:y.UPDATE_QUERY,query:"?"+r.toString(),options:n})}}(w,{[y.UPDATE_QUERY]:({query:e,options:t})=>{const{pushHistory:n=!0}=t;w.dispatch({type:y.UPDATE_ROUTE,replace:!n,path:e})},[y.UPDATE_PAGE]:()=>{}}),Xw=Yw;function Jw(){return e.createElement("div",{className:"InlineLoadingContainer"},e.createElement("div",{className:"Dot A"}),e.createElement("div",{className:"Dot B"}),e.createElement("div",{className:"Dot C"}))}function Zw({children:t,direction:n="up",className:r="",color:i,style:o,onClick:s}){const[a,l]=e.useState(!1),u=e.useRef();return e.useEffect((()=>(u.current.parentElement.classList.add("HasTooltip"),()=>{u.current&&u.current.parentElement.classList.remove("HasTooltip")})),[t,n]),e.createElement("div",{ref:u,className:m("TooltipContainer",n.toLowerCase(),[a,"Visible"],r),style:o,onClick:s},e.createElement("div",{className:"Tooltip",style:{backgroundColor:i}},t),e.createElement("div",{className:"TooltipArrow",style:{backgroundColor:i}}))}const eb={0:{icon:e.createElement(Tw,null),tooltip:"General"},1:{icon:e.createElement(yw,null),tooltip:"Artist"},3:{icon:e.createElement(Cw,null),tooltip:"Copyright"},4:{icon:e.createElement(xw,null),tooltip:"Character"},5:{icon:e.createElement(Rw,null),tooltip:"Species"},6:{icon:e.createElement(Mw,null),tooltip:"Invalid"},7:{icon:e.createElement(Fw,null),tooltip:"Meta"},8:{icon:e.createElement(Vw,null),tooltip:"Lore"}};function tb({placeholder:t="Search..."}){const[n,r]=e.useState(!1),[o,s]=e.useState([]),a=e.useRef(),l=Xw.useState((()=>Xw.get("search")))||"",[u,c]=e.useState(l);function h(e=null){e&&(a.current.value=e),CE.getFormattedRoute()[0]||w.dispatch({type:y.UPDATE_ROUTE,path:"/posts"}),Xw.set("search",a.current.value),Xw.set("page",null)}e.useEffect((()=>{c(l)}),[l]),tb.handleSearch=h;const d=e.useMemo((()=>({onFocus:()=>r(!0),onBlur:()=>r(!1),onKeyDown:e=>"Enter"===e.key&&h(),onInput:i().debounce((async e=>{const{value:t}=e.target,n=t.split(/\s/).slice(-1)[0].replace(/[-~*]/g,"");if(!n.trim())return s([]);s([null]);const r=await mE.request("tags",{"search[name_matches]":n+"*","search[order]":"count",limit:10});try{s([...r||[]])}catch(e){s([])}}),200),onChange:e=>{const{value:t}=e.currentTarget;c(t)}})),[]);function f(e){const t=a.current.value.split(/\s/);c([...t.slice(0,-1),(t[t.length-1].match(/[^a-z0-9_]/gi)?.[0]??"")+e.name,""].join(" ")),s([]),setTimeout((()=>{a.current.selectionStart=a.current.selectionEnd=a.current.value.length,a.current.focus()}),0)}return e.createElement("div",{className:m("SearchFieldContainer",[n,"Focused"])},e.createElement("input",{className:"SearchField",...d,ref:a,id:"searchField",autoCorrect:"false",value:u,autoComplete:"off",placeholder:t}),e.createElement(qw,{className:"Button",onClick:async function(){const[e]=await function(e={}){return new Promise((t=>{const{type:n="*",multiple:r=!1}=e,i=_.assign(document.createElement("input"),{type:"file",accept:n,style:"display:none",multiple:r,onchange:()=>(t(i.files),document.body.removeChild(i))});document.body.appendChild(i),i.click()}))}();if(!e)return;const t=await mE.request("posts",{tags:"md5:"+e.name.split(".")[0]}).catch((()=>null));t?.posts?.length?w.dispatch({type:y.UPDATE_ROUTE,path:`/post/${t.posts[0].id}`}):p.showToast("Could not find any post by MD5 hash! True image searching will be added soon!","Failure")}.bind(null,null)}),e.createElement(Gw,{className:"Button",onClick:h.bind(null,null)}),e.createElement("div",{className:"AutoCompleteContainer"},o.map((t=>null===t?e.createElement("div",{className:"AutoCompleteEntry",style:{padding:10}},e.createElement(Jw,{key:Date.now().toString(36)})):(t.categoryIcon=eb[t.category]??eb[0],e.createElement("div",{className:"AutoCompleteEntry",key:t.id,onMouseDown:f.bind(this,t)},e.createElement("div",{className:"IconContainer"},t.categoryIcon.icon,e.createElement(Zw,null,t.categoryIcon.tooltip)),t.antecedent_name?e.createElement("div",{className:"Title"},t.name," ",e.createElement("span",{style:{opacity:.75}},"(",t.antecedent_name,")")):e.createElement("span",{className:"Title"},t.name),e.createElement("span",{className:"PostCount"},t.post_count," posts")))))))}function nb(){return nb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nb.apply(this,arguments)}var rb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",nb({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("rect",{x:"3",y:"3",width:"7",height:"7"}),e.createElement("rect",{x:"14",y:"3",width:"7",height:"7"}),e.createElement("rect",{x:"14",y:"14",width:"7",height:"7"}),e.createElement("rect",{x:"3",y:"14",width:"7",height:"7"}))}));rb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},rb.displayName="Grid";const ib=rb;function ob(){return ob=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ob.apply(this,arguments)}var sb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",ob({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),e.createElement("polyline",{points:"17 6 23 6 23 12"}))}));sb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},sb.displayName="TrendingUp";const ab=sb;function lb(){return lb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lb.apply(this,arguments)}var ub=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",lb({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),e.createElement("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),e.createElement("line",{x1:"6",y1:"20",x2:"6",y2:"14"}))}));ub.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},ub.displayName="BarChart2";const cb=ub;function hb(){return hb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hb.apply(this,arguments)}var db=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",hb({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),e.createElement("polyline",{points:"2 17 12 22 22 17"}),e.createElement("polyline",{points:"2 12 12 17 22 12"}))}));db.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},db.displayName="Layers";const fb=db;function pb(){return pb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pb.apply(this,arguments)}var mb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",pb({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),e.createElement("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"}))}));mb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},mb.displayName="Bell";const gb=mb;function vb(){return vb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vb.apply(this,arguments)}var yb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",vb({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}))}));yb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},yb.displayName="Heart";const wb=yb;function bb(){return bb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bb.apply(this,arguments)}var Eb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",bb({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"}))}));Eb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Eb.displayName="ThumbsUp";const _b=Eb;function kb(){return kb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kb.apply(this,arguments)}var Tb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",kb({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("circle",{cx:"12",cy:"12",r:"3"}),e.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))}));Tb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Tb.displayName="Settings";const Sb=Tb;function Ib(){return Ib=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ib.apply(this,arguments)}var Cb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Ib({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.createElement("polyline",{points:"9 22 9 12 15 12 15 22"}))}));Cb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},Cb.displayName="Home";const Ob=Cb;function Nb(){return Nb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nb.apply(this,arguments)}var xb=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",Nb({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.createElement("rect",{x:"7",y:"7",width:"3",height:"9"}),e.createElement("rect",{x:"14",y:"7",width:"3",height:"5"}))}));xb.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},xb.displayName="Trello";const Ab=xb,Pb=n.p+"assets/media/logo.png";function Rb({children:t,...n}){return e.createElement("a",{className:"LinkWrapper",onClick:function(e){w.dispatch({type:y.UPDATE_ROUTE,path:n.href}),e.preventDefault(),n.onClick?.(e)},...n},t)}function Db({children:t,title:n="Help"}){return e.createElement("div",{className:"TutorialModal"},e.createElement("div",{className:"ModalHeader"},e.createElement("h2",null,n),e.createElement(Yv,{onClick:_E.pop.bind(_E)})),e.createElement("div",{className:"ModalBody"},t))}function Lb({title:t,defaultValue:n,callback:r,...i}){return e.createElement("div",{className:"SwitchItem FlexCenter",...i},e.createElement("input",{className:"Switch",type:"checkbox",defaultChecked:n,onInput:e=>r?.(e.currentTarget.checked)}),e.createElement("h4",null,t))}var Mb=n(294);const jb={posts:{icon:Mb.createElement(ib,null),title:"Latest Posts"},hot:{icon:Mb.createElement(ab,null),title:"Hot Posts"},popular:{icon:Mb.createElement(cb,null),title:"Popular Posts"},sets:{icon:Mb.createElement(fb,null),title:"Browse Sets"},subscriptions:{icon:Mb.createElement(gb,null),title:"Subscriptions"},favorites:{icon:Mb.createElement(wb,null),title:"Favorites"},upvoted:{icon:Mb.createElement(_b,null),title:"Upvoted Posts"},settings:{icon:Mb.createElement(Sb,null),title:"Settings"}},Ub=[{date:"09/09/2021",title:"Welcome to the new Sucralose!",modal:function(){return Mb.createElement(Db,{title:this.title},Mb.createElement("h2",null,"What's different?"),Mb.createElement("p",null,"I've re-built the site from the ground up, with better code, performance, and most importantly, better device support."),Mb.createElement("p",null,"Some of the new features include the following:",Mb.createElement("ul",null,Mb.createElement("li",null,Mb.createElement("div",null,Mb.createElement("b",null,"Database!")),"I've added a Firebase database to the site, which will let you create an account and sync your data between devices and browsers."),Mb.createElement("br",null),Mb.createElement("li",null,Mb.createElement("div",null,Mb.createElement("b",null,"Mobile support")),"Mobile support was pretty bad in the previous release, but this version was started with mobile in mind."),Mb.createElement("br",null),Mb.createElement("li",null,Mb.createElement("div",null,Mb.createElement("b",null,"Better UI/UX")),"This is of course an opinional thing, but the user interface and user experience has been redesigned for a friendlier experience."),Mb.createElement("br",null),Mb.createElement("li",null,Mb.createElement("div",null,Mb.createElement("b",null,"Popular page")),"This is an overlooked feature in e621, mostly because its UI is so outdated; but it has been incorporated into Sucralose with a little better interface."),Mb.createElement("br",null),Mb.createElement("li",null,Mb.createElement("div",null,Mb.createElement("b",null,"Search everything, everywhere")),"The previous version of Sucralose did not let you search hot, favorites, sets, etc. All of this is fixed in this version."))))}},{date:"10/24/2021",title:"Domain name and performance overhauls",modal:function(){return Mb.createElement(Db,{title:this.title},Mb.createElement("h2",null,"What's different?"),Mb.createElement("p",null,"The domain name has been changed to ",Mb.createElement("b",null,"sucralose.top"),". The site has been optimized for performance, and should load faster.",Mb.createElement("br",null),Mb.createElement("br",null),"However, this overhaul does not come without downfall, and may cause some bugs."),Mb.createElement("h2",null,"Data Exports"),Mb.createElement("p",null,"You can now export your data in the settings, for those of you who are interested in what is stored on the database.",Mb.createElement("br",null),"Obviously passwords are not exported, as even I do not have the ability to view or export them."),Mb.createElement("h2",null,"Ads"),Mb.createElement("p",null,"Ads will be added to the site in the near future, ",Mb.createElement("b",null,"but"),", you will be able to disable them in the settings.",Mb.createElement("br",null),"This is for those of you who are interested in supporting me, but do not have the funds to do so.",Mb.createElement("br",null),"Meanwhile, if you do have the funds, you can support me by donating to my Patreon page, which I will be creating soon. :)",Mb.createElement("br",null),Mb.createElement("br",null),"If you would be interested, please contact me on my Discord or ",Mb.createElement("a",{href:"https://twitter.com/@Metalloriff"},"Twitter")," ",Mb.createElement("i",null,"(Psst.. give me a follow, I'm beginning to actively use my Twitter.)"),", and let me know that I'm not wasting my time."))}},{date:"01/01/2023",title:"Minor QoL Changes and Fixes",modal:function(){return Mb.createElement(Db,{title:this.title},Mb.createElement("h2",null,"What's different?"),Mb.createElement("p",null,"This was a set of small changes, there's nothing major in this update. In general, I made small changes to the design of the website. I will continue to push this design style in later updates."),Mb.createElement("p",null,"You can now navigate through posts with A and D along with the arrow keys. This makes for easier left-handed controls."),Mb.createElement("p",null,"Fixed a few small bugs mostly related to the post page."))}},{date:"08/25/2023",title:"Important! Please Read",modal:function(){return Mb.createElement(Db,{title:this.title},Mb.createElement("h2",null,"First and foremost"),Mb.createElement("p",null,"This website is not dead, and there is a Trello roadmap available to the public. You can view this underneath the news post you clicked to view this modal."),Mb.createElement("p",null,"However, I have many projects. I work on them in a priority list of what I'm motivated to do, and what I feel needs doing. If you have any suggestions, notice any missing features in Sucralose, or find any pesky bugs, please reach out to my Telegram or Discord (Metalloriff on both). Knowing that someone is waiting for features heavily motivates me to work on whichever project you're waiting for. This does go for my other projects as well."),Mb.createElement("p",null,"That being said, if you are a new user of Sucralose, you notice notice features missing from e621 and are considering leaving. Please reach out to me and I will have it fixed as soon as possible. This is still a work in progress, and a large solo project."),Mb.createElement("h2",null,"Blacklists"),Mb.createElement("p",null,"Blacklist functionality is finally here, along with quick blacklist switching, right below the search bar! The UI is not entirely complete, it's a little ugly and clunky, but should be fully function."),Mb.createElement("h2",null,"What's different?"),Mb.createElement("p",null,"A lot of modal improvements, including a HUGE performance improvement -- the previous and next images used to show full resolution. This is stupid. That includes videos. Now, they show their proper preview image. The image modal has some new controls. Up and down will upvote and downvote, respectively. And F will favorite. Also, there's now a spinner for when the image is loading. This will prevent you from accidentally saving a preview too quickly, without realizing it's a preview. And videos autoplay. A lot of modal improvements, as that's where you spend most of your time."),Mb.createElement("p",null,"Favoriting a post now upvotes it as well. The upvote feature in e621 is underused. If you favorite a post, 9/10 times you'd want to upvote as well. If not, an extra click 1/10 times is better than 9/10!"),Mb.createElement("p",null,"Reverse searching is here! Currently it works flawlessly for any files that have an md5 hash in the name. But it is not perfect for improperly named files."),Mb.createElement("p",null,"Pools now show name and description on the search page, instead of.. in a context menu. This is currently a work in progress, so there is no formatting. You'll see a lot of [[this]], and unclickable links. I apologize for that, but I at least made the text selectable so you can search."),Mb.createElement("h2",null,"Patched bugs"),Mb.createElement("p",null,"Personalization settings (background, colors, etc.) weren't saving properly. This should be fully fixed now."),Mb.createElement("p",null,"Not being able to open pools in new tab."),Mb.createElement("p",null,"Clicking on comment profile avatars wouldn't open the avatar post."),Mb.createElement("h2",null,"What's next?"),Mb.createElement("p",null,"Soon, I will be adding a saved searches feature. This will be similar to the quick blacklists feature, but for searching!"),Mb.createElement("p",null,"You can see more of what's planned in the future on the roadmap."))}},{date:"08/31/2023",title:"Bug Fixes & Features",modal:function(){return Mb.createElement(Db,{title:this.title},Mb.createElement("h2",null,"This is a WIP website!"),Mb.createElement("p",null,"I have many projects, and work on them in a priority list of what I'm motivated to do, and what I feel needs doing. If you have any suggestions, notice any missing features in Sucralose, or find any pesky bugs, please reach out to my Telegram or Discord (Metalloriff on both). Knowing that someone is waiting for features heavily motivates me to work on whichever project you're waiting for. This does go for my other projects as well."),Mb.createElement("p",null,"That being said, if you are a new user of Sucralose, you notice notice features missing from e621 and are considering leaving. Please reach out to me and I will have it fixed as soon as possible. This is still a work in progress, and a large solo project."),Mb.createElement("h2",null,"What's new?"),Mb.createElement("p",null,"The logo is now on the homepage!"),Mb.createElement("p",null,"Popular page -- The popular page now has a slightly better UI, much less bugs (and it actually works), and you can now choose the time range. The popular page also adds the date and range into the URI, so you can copy a specific date/date range for bookmarking or sharing."),Mb.createElement("p",null,"Post modal -- There's now artist tags underneath the controls on the post modal. Open a post and see an art style you really like? Now you can be lazy and don't have to close the modal to view their other works."),Mb.createElement("p",null,"Sets -- The sets page is now a little less buggy, and favorite sets has been added! You can right click or tap and hold on a set to toggle favorite, and there's a favorites tab in the sets page."),Mb.createElement("p",null,"The download button has been temporarily/permanently removed. For now, right click/tap and hold and hit save as. It will be re-added if I can find an efficient way to do it."),Mb.createElement("h2",null,"Patched bugs"),Mb.createElement("p",null,"Fixed a fatal bug related to new users. If you were a new user and couldn't save any settings, this should be fixed now."),Mb.createElement("p",null,'Blacklists now take aliases into account. This means that before, if you blacklisted "futa", it would still show because the tag is technically "intersex".',Mb.createElement("br",null),"Now, when you save your blacklist, it will automatically forward all tags from their aliases to the real tag."),Mb.createElement("p",null,"No more random jumps to page 2 when opening tags! This was driving me mad."),Mb.createElement("p",null,"Fixed the popular page."),Mb.createElement("p",null,"Fixed a Firefox-specific bug causing image flashing on the modals."),Mb.createElement("p",null,"Fixed an intentional(? I do not know what me 2 years ago was thinking) bug causing the entire page to shift 5 pixels when opening an image."),Mb.createElement("p",null,"(Potentially) fixed a bug causing scrolling to randomly say you've reached the end, when you have not. This requires longer testing, as it wasn't easily reproducable."),Mb.createElement("p",null,"Fixed adding and removing to and from subscriptions via context menu."),Mb.createElement("h2",null,"What's next?"),Mb.createElement("p",null,"You can see more of what's planned in the future on the roadmap."))}}];function Fb({className:e,tooltipMode:t=!1}){const n=lE.useState((()=>lE.getLocalUser()));return Mb.createElement("div",{className:e||"ButtonsContainer"},Mb.createElement("div",{className:"Left"},CE.getCurrentRoute().length>1&&Mb.createElement(Rb,{href:"/"},Mb.createElement("div",{className:"Button"},Mb.createElement(Ob,null),Mb.createElement(Zw,{direction:"down"},"Home"))),["posts","hot","popular","sets"].map((e=>Mb.createElement(Rb,{key:e,href:"/"+e},Mb.createElement("div",{className:"Button"},jb[e].icon,t?Mb.createElement(Zw,{direction:"down"},jb[e].title):Mb.createElement("div",{className:"Title"},jb[e].title)))))),Mb.createElement("div",{className:"Right"},["subscriptions","favorites","upvoted","settings"].map((e=>Mb.createElement(Rb,{key:e,href:n?.signedIn?"/"+e:"#sign_in"},Mb.createElement("div",{className:m("Button HasTooltip",[!n?.signedIn,"Disabled"])},jb[e].icon,t?Mb.createElement(Zw,{direction:"down"},jb[e].title):Mb.createElement("div",{className:"Title"},jb[e].title)))))))}function zb(){const e=Ub[Ub.length-1];return Mb.createElement("div",{className:"MainPage"},Mb.createElement("div",{className:"Head"},Mb.createElement("div",{className:"Logo"},Mb.createElement("img",{src:Pb,alt:"Logo"})),Mb.createElement("h1",null,"Sucralose!"),Mb.createElement("div",null,"A sweeter way to use ",Mb.createElement("a",{href:"https://e621.net"},"e621"),".")),Mb.createElement(tb,null),Mb.createElement(Lb,{title:"SFW Mode",defaultValue:"false"===(localStorage.getItem("showNsfw")||"false"),callback:e=>{e||localStorage.getItem("hasShownNsfwNotice")||(_E.push(Mb.createElement(Db,{title:"NSFW Confirmation"},Mb.createElement("h2",null,"NSFW Confirmation"),Mb.createElement("p",null,"With SFW mode off, you will be able to see NSFW (18+) content.",Mb.createElement("br",null),"You can disable this at any time on the home page."),Mb.createElement("h2",null,"Age Confirmation"),Mb.createElement("p",null,"By disabling SFW mode, you agree that you're at least 18 years old.",Mb.createElement("br",null),"If your age is incorrect, this may result in your account being terminated.",Mb.createElement("br",null),"If your age is incorrect, re-enable SFW mode before continuing."))),localStorage.setItem("hasShownNsfwNotice","true")),localStorage.setItem("showNsfw",e?"false":"true")}}),Mb.createElement(Fb,null),Mb.createElement("div",{className:"News",onClick:()=>_E.push(e.modal())},Mb.createElement("h3",{className:"Title"},e.title),Mb.createElement("div",{className:"Flex"},Mb.createElement("div",{className:"Date"},e.date),Mb.createElement("div",{className:"Poster"},"by ",Mb.createElement("b",null,"Metalloriff")))),Mb.createElement("a",{className:"Trello FlexCenter",href:"https://trello.com/b/27bqbHA1/roadmap"},Mb.createElement(Ab,null),"Roadmap"))}function Bb({searchPlaceholder:t=null,hasSearch:n=!0}){return e.createElement("div",{className:"Header"},e.createElement("div",null,n&&e.createElement(tb,{placeholder:t}),e.createElement(Fb,{className:"NavigationButtons",tooltipMode:!0})))}var Vb=n(294);function $b({edit:t=null,index:n=null,callback:r=null}){const[i,o]=(0,e.useState)(t?.name??""),[s,a]=(0,e.useState)(t?.tags??""),l={cancel:()=>_E.pop(),save:async()=>{const e=lE.getLocalUser();e.blacklists=e.blacklists??[];const t=s.split("\n").map((e=>e.toLowerCase().split(/\s+/))),o={};for(const e in t)for(const n in t[e]){const r=t[e][n];if(o[r])t[e][n]=o[r];else try{const[{consequent_name:r}]=await mE.request("tag_aliases",{commit:"Search","search[name_matches]":t[e][n]});o[t[e][n]]=r,t[e][n]=r}catch(e){console.error(e)}}const a=t.map((e=>e.join(" "))).join("\n");null!==n?e.blacklists[n]={name:i,tags:a}:e.blacklists.push({name:i,tags:a}),hw.update(hw.doc("users",e.uid),{blacklists:e.blacklists}).then((()=>{location.href.includes("/settings")||window.location.reload(),r?.(),_E.pop()}))}};return Vb.createElement(Db,{title:"Edit blacklist"},Vb.createElement("div",{className:"CreateBlacklistModal"},Vb.createElement("h2",null,"Title"),Vb.createElement("input",{value:i,type:"text",className:"Field",placeholder:"Example: Main",onChange:e=>o(e.target.value)}),Vb.createElement("h2",null,"Tags"),Vb.createElement("p",null,"Separate tags with spaces, and different tag sets with enter.",Vb.createElement("br",null),'Example: "young rating:e" on one line will hide posts with young AND rating:e, but neither young nor rating:e on their own.'),Vb.createElement("textarea",{value:s,className:"Field",placeholder:"Example:\n\nyoung rating:e\nhyper\nfnaf",onChange:e=>a(e.target.value)}),Vb.createElement("div",{className:"Footer"},Vb.createElement("div",{className:"Button Red",onClick:l.cancel},"Cancel"),Vb.createElement("div",{className:"Button",onClick:l.save},"Save"))))}const Wb=n.p+"assets/media/0.png",qb=n.p+"assets/media/1.png",Hb=n.p+"assets/media/2.png";function Kb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gb(){return e.createElement(Db,null,e.createElement("h3",null,"Your API key is ",e.createElement("b",{style:{color:"var(--red)"}},"NOT")," your password."),e.createElement("h4",null,"It is used to interface with the e621 API, safely and securely;"),e.createElement("h4",null,"however, you should refrain from revealing this API key to anyone, as it gives them access to all of your content, and the ability to post and vote as you."),e.createElement("h4",null,"If you do not trust Sucralose, all of the source is available on GitHub, I recommend and encourage you to view and analyze the source code."),e.createElement("p",null,"That being said, you may gain access to your API key by navigating to ",e.createElement("a",{href:"https://e621.net/users/home"},"https://e621.net/users/home")," and following the steps below."),e.createElement("p",{style:{marginTop:50}},e.createElement("h2",null,"Step 1"),"After navigating to your home page (and signing in if necessary), you'll want to navigate to ",e.createElement("b",null,"Manage API Access"),"."),e.createElement("img",{src:Wb,alt:"Help"}),e.createElement("p",{style:{marginTop:50}},e.createElement("h2",null,"Step 2"),"Enter your password, and press ",e.createElement("b",null,"Submit"),"."),e.createElement("img",{src:qb,alt:"Help"}),e.createElement("p",{style:{marginTop:50}},e.createElement("h2",null,"Step 3"),"Copy the text under ",e.createElement("b",null,"API Key")," to your clipboard."),e.createElement("img",{src:Hb,alt:"Help"}),e.createElement("p",{style:{marginTop:50}},e.createElement("h2",null,"Step 4, Final"),"Now that you have the API key, simple enter your username and API key into their respective fields in Sucralose."))}function Qb(){const t=lE.useState((()=>lE.getLocalUser())),n={saveUsername:({target:e})=>{if(e.value.trim()!==t?.username)return e.length>36?p.showToast("Username is too long","Failure"):void hw.update(hw.doc("users",t.uid),{username:e.value}).then((()=>{p.showToast("Username updated","Success"),i().merge(t,{username:e.value})}))},saveApiKey:({target:e})=>{if(e.value.trim()!==t?.apiKey)return e.length>36?p.showToast("Invalid API key","Failure"):void hw.update(hw.doc("users",t.uid),{apiKey:e.value}).then((()=>{p.showToast("API key updated","Success"),i().merge(t,{apiKey:e.value})}))}};return t?.signedIn?e.createElement("div",{className:"Section ApiKey"},e.createElement("h1",null,"E621 API Key"),e.createElement("u",{onClick:()=>_E.push(e.createElement(Gb,null))},"What's this?"),e.createElement("div",{className:"FieldContainer"},e.createElement("input",{className:"Field",placeholder:"Username",defaultValue:t.username,onBlur:n.saveUsername})),e.createElement("div",{className:"FieldContainer"},e.createElement("input",{className:"Field Confidential",placeholder:"API Key",defaultValue:t.apiKey,onBlur:n.saveApiKey}))):null}function Yb(){const t=lE.useState((()=>lE.getLocalUser())),[n,r]=e.useState([]),[o,s]=e.useState(!1);return e.useEffect((()=>{t?.subscriptions&&r(t.subscriptions)}),[t]),e.useEffect((()=>{t?.signedIn&&!i().isEqual(t.subscriptions,n)&&o&&(i().merge(t,{subscriptions:n}),hw.update(hw.doc("users",t.uid),{subscriptions:n}).then((()=>{p.showToast("Subscriptions updated","Success"),s(!1)})))}),[n,o]),t?.signedIn?e.createElement("div",{className:"Section TagsManager Subscriptions"},e.createElement("h1",null,"Subscribed Tags"),e.createElement("div",{className:"Tags Flex"},n.map((t=>e.createElement("div",{className:"Tag FlexCenter",key:t},e.createElement(Rb,{href:`/posts?search=${t}`},t),e.createElement(Yv,{onClick:()=>{s(!0),r(n.filter((e=>e!==t)))}})))),e.createElement("input",{key:n.length,className:"TagField",placeholder:"Add tag",onBlur:e=>{e.target.value.trim()&&(s(!0),r([...n,e.target.value.trim()]),e.target.value="")}}))):null}function Xb(){const t=lE.useState((()=>lE.getLocalUser())),n=lE.useState((()=>lE.getLocalUser()?.blacklists??[])),[,r]=(0,e.useReducer)((e=>e+1),0);return t?.signedIn?e.createElement("div",{className:"Section BlacklistsSection"},e.createElement("h1",null,"Blacklists"),n.map((({name:i,tags:o},s)=>e.createElement("div",{className:"Blacklist",key:v()},e.createElement("h3",null,i),e.createElement("p",null,o.split("\n").map((t=>e.createElement("div",{key:t},t)))),e.createElement("div",{className:"FooterButtons"},e.createElement(yw,{className:"FooterButton",onClick:()=>(t=>{_E.push(e.createElement($b,{edit:n[t],index:t,callback:r}))})(s)}),e.createElement(Ew,{className:"FooterButton",onClick:()=>(i=>{(async function({title:t="",description:n="",yesText:r="Yes",noText:i="No",yesColor:o="#ff6666",noColor:s=""}){const a=await new Promise((a=>{_E.push(e.createElement("div",{className:"BoolModal PrimaryBg"},e.createElement("div",{className:"Title",dangerouslySetInnerHTML:{__html:t}}),e.createElement("div",{className:"Description",dangerouslySetInnerHTML:{__html:n}}),e.createElement("div",{className:"Footer"},e.createElement("div",{className:"Button TertiaryBg",onClick:()=>a(!1),style:{backgroundColor:s}},i),e.createElement("div",{className:"Button TertiaryBg",onClick:()=>a(!0),style:{backgroundColor:o}},r))))}));return _E.pop(),a})({title:"Are you sure?",description:`Do you want to delete blacklist '${n[i].name}?' This cannot be undone.`}).then((e=>{e&&(t.blacklists.splice(i,1),hw.update(hw.doc("users",t.uid),{blacklists:t.blacklists,currentBlacklist:"defaults.none"}).then(r))}))})(s)})))))):null}function Jb(){const t=i().debounce((()=>w.dispatch({type:y.UPDATE_SETTINGS})),200),n=i().debounce(Zb.save.bind(Zb),2e3),r=lE.useState((()=>lE.getLocalUser())),[,o]=e.useReducer((e=>e+1),0);return e.useEffect((()=>{r&&(Zb.props=i().merge({},Zb.defaults,Zb.props,r.settings),o())}),[r]),w.useForceUpdater(y.UPDATE_SETTINGS),r?.signedIn?e.createElement("div",{className:"SettingsPage"},e.createElement(Bb,{hasSearch:!1}),e.createElement("div",{className:"Section Flex",style:{gap:10}},e.createElement("div",{className:"Button",onClick:()=>{hw.getDoc(hw.doc("users",r.uid)).then((e=>{const t=URL.createObjectURL(new Blob([JSON.stringify(hw.serializeObject(e),null,"\t")],{type:"json"})),n=i().assign(document.createElement("a"),{download:`${r.username}.json`,href:t});document.body.appendChild(n),n.click(),setTimeout((()=>{document.body.removeChild(n),URL.revokeObjectURL(t)}),0)}))}},"Download My Data",e.createElement(Zw,{style:{color:"white"}},"This will give you a JSON file",e.createElement("br",null),"containing all of your data",e.createElement("br",null),"stored on the database.")),e.createElement("div",{className:"Button",onClick:()=>hw.auth.signOut().then((()=>(window.location.pathname="",window.location.reload())))},"Sign Out")),e.createElement(Qb,null),e.createElement(Yb,null),e.createElement(Xb,null),Object.entries(Zb.props).map((([r,i])=>e.createElement("div",{className:"Section",key:r},e.createElement("h1",null,eE(r)),Object.entries(i).map((([i,o])=>e.createElement(tE,{key:v(),name:i,setting:o,resetValue:Zb.defaults[r][i].value,callback:e=>(Zb.props[r][i].value=e,n(),t())}))))))):e.createElement("div",{className:"SettingsPage FlexCenter"},e.createElement(Jw,null))}const Zb=new class{async save(){const e=lE.getLocalUser();console.trace();for(const t in this.props)for(const n in this.props[t]){const r=this.props[t][n];i().set(e,["settings",t,n,"value"],r.value)}const t=await hw.getDoc(hw.doc("users",e.uid))?hw.update(hw.doc("users",e.uid),{settings:e.settings}):hw.set(hw.doc("users",e.uid),{settings:e.settings});await t.then((()=>p.showToast("Settings updated on the database"))).catch((e=>(console.error(e),p.showToast("An unknown error occurred while saving settings","Failure"))))}constructor(){Kb(this,"defaults",{accentColors:{primary:{type:"color",value:"#7bb1bd"},secondary:{type:"color",value:"#BD7BA2"}},backgroundColors:{primary:{type:"color",value:"#2c3946"},secondary:{type:"color",value:"#364758"},tertiary:{type:"color",value:"#364758"}},backgroundImage:{url:{type:"string",value:"",placeholder:"Example - https://c.tenor.com/Z6gmDPeM6dgAAAAC/dance-moves.gif"},brightness:{type:"slider",min:0,max:100,step:1,value:100},blur:{type:"slider",min:0,max:25,step:.5,value:0},positionX:{type:"slider",min:0,max:100,step:1,value:50},positionY:{type:"slider",min:0,max:100,step:1,value:50}}}),Kb(this,"props",i().extend({},this.defaults))}};function eE(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}function tE({name:t,setting:n,resetValue:r,callback:i}){const[o,s]=e.useState(n.value),a=e.useRef(),l=e.useRef(),u=e=>{i?.(e),s(e),a.current&&(a.current.value=e),l.current&&(l.current.value=e)},c=o!==r&&e.createElement("div",{className:"ResetButton",onClick:()=>u(r)},e.createElement(mw,null),e.createElement(Zw,null,"Reset To Default"));switch(n.type){default:return null;case"color":return e.createElement("div",{className:"FieldContainer"},e.createElement("h4",{className:"FieldTitle"},eE(t)),e.createElement("div",{className:"Flex",style:{alignItems:"center"}},e.createElement("input",{className:"ColorPicker",defaultValue:o,type:"color",ref:a,onInput:e=>u(e.currentTarget.value)}),e.createElement("input",{className:"Field ColorField",defaultValue:o,ref:l,style:{borderColor:o},maxLength:64,onInput:e=>u(e.currentTarget.value)}),c));case"string":return e.createElement("div",{className:"FieldContainer"},e.createElement("h4",{className:"FieldTitle"},eE(t)),e.createElement("div",{className:"Flex",style:{alignItems:"center"}},e.createElement("input",{className:"Field",defaultValue:o,placeholder:n.placeholder,ref:l,maxLength:128,onInput:e=>u(e.currentTarget.value)})));case"slider":return e.createElement("div",{className:"FieldContainer"},e.createElement("h4",{className:"FieldTitle"},eE(t)," - ",o),e.createElement("div",{className:"Flex",style:{alignItems:"center"}},e.createElement("input",{className:"Field ColorField",defaultValue:o,type:"range",ref:l,onInput:e=>u(parseFloat(e.currentTarget.value)),min:n.min,max:n.max}),c))}}function nE(){w.useForceUpdater(y.UPDATE_SETTINGS);const{props:t}=Zb;return e.createElement("style",null,`\n            \n\t\t\t:root {\n\t\t\t\t--primary-color: ${t.accentColors.primary.value};\n\t\t\t\t--secondary-color: ${t.accentColors.secondary.value};\n\t\t\t\t\n\t\t\t\t--primary-bg: ${t.backgroundColors.primary.value};\n\t\t\t\t--secondary-bg: ${t.backgroundColors.secondary.value};\n\t\t\t\t--tertiary-bg: ${t.backgroundColors.tertiary.value};\n\t\t\t}\n\t\t\t\n\t\t\t`,!!t.backgroundImage?.url?.value?.trim?.()&&`\n                .AppBackground {\n                    background-image: url("${t.backgroundImage.url.value}");\n                    background-position: ${t.backgroundImage.positionX.value}%\n                                         ${t.backgroundImage.positionY.value}%;\n                    \n                    filter: blur(${t.backgroundImage.blur.value||0}px)\n                            brightness(${t.backgroundImage.brightness.value}%);\n                            \n                    opacity: 1;\n                }\n                \n                footer {\n                    backdrop-filter: blur(7px);\n                }\n                \n                .SearchFieldContainer.Focused:After {\n                    background-color: rgba(0,0,0, 0.2);\n                    backdrop-filter: blur(5px);\n                }\n            `)}var rE=n(294);const iE={};let oE,sE=null;const aE=new class extends Qw{getUser(){}getLocalUser(){return sE}getCachedUsers(){}constructor(e,t){var n;super(e,t),n=t=>{t?hw.getDoc(hw.doc("users",t.uid)).then((async n=>{n||(n={});let r={};n.username&&(r=await mE.request(`users/${n.username}`,{login:n.username,api_key:n.apiKey}));const o=i().extend(t,n,{e621User:r,signedIn:!0,getSets:async()=>n.username?oE??(oE=await mE.request("post_sets",{commit:"Search","search[creator_name]":n.username})):null,get firebaseSerialized(){const e={};for(const n in t)void 0!==this[n]&&"id"!==n&&(e[n]=this[n]);return e}});Notification.requestPermission().then((()=>{if("granted"!==Notification.permission)p.showToast("Notifications are disabled, you will not received subscribed tag notifications","Failure",10),p.showToast("To fix this, please enabled notifications for sucralose.top in your browser settings","Failure",10);else try{(async function(e,t){return Wv(e=me(e),{vapidKey:"BBWvMxlJ7kaRqFNxqnzChq6HE_wXmrt39gSgbsivwiccua2xFmK1qQqtPLtBQRkjBN0xM1HDlQ8ycbXaUiWulzo"})})(function(e=st()){return async function(){try{await ie()}catch(e){return!1}return"undefined"!=typeof window&&re()&&!("undefined"==typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}().then((e=>{if(!e)throw Pv.create("unsupported-browser")}),(e=>{throw Pv.create("indexed-db-unsupported")})),tt(me(e),"messaging").getImmediate()}(hw.app)).then((async e=>{const n=hw.doc("users",t.uid,"fcmTokens",e.slice(0,10)),r=await hw.getDoc(n);hw.set(n,{token:e,registered:r?r.registered:Vm(),lastLogin:Vm()})})).catch(console.error)}catch(e){console.error(e)}})),e.dispatch({type:y.UPDATE_LOCAL_USER,user:o}),e.dispatch({type:y.UPDATE_USER,user:o.e621User}),Zb.props=i().merge({},Zb.defaults,Zb.props,o.settings),e.dispatch({type:y.UPDATE_SETTINGS,settings:o.settings})})):(e.dispatch({type:y.UPDATE_LOCAL_USER,user:{signedIn:!1}}),localStorage.getItem("hasPromptedLogin")||(_E.push(rE.createElement(dw,null)),localStorage.setItem("hasPromptedLogin","1")))},me(hw.auth).onAuthStateChanged(n,undefined,undefined)}}(w,{[y.UPDATE_LOCAL_USER]:({user:e})=>{sE=e},[y.UPDATE_USER]:({user:e})=>{iE[e.id]=e}}),lE=aE;var uE,cE,hE=n(294);function dE(e,t){var n=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,n)}function fE(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function pE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const mE=new(uE=new WeakMap,cE=new WeakMap,class{get loginData(){const e=lE.getLocalUser()??{};return{login:e.username,api_key:e.apiKey}}getEndpoint(e,t={},n=!0){const r=new URLSearchParams({...t,_client:"Sucralose/2.0 by Metalloriff"});return`${"true"===(localStorage.getItem("showNsfw")||"false")?this.endpoint:this.sfwEndpoint}${e}${n?".json?":"?"}${r}`}async request(e,t={},n=!0,r={}){for(;Date.now()-this.lastMadeRequest<500;)await new Promise((e=>setTimeout(e,50)));this.lastMadeRequest=Date.now();const{login:o,api_key:s}=this.loginData;return o&&s&&i().set(r,["headers","authorization"],"Basic "+btoa(`${o}:${s}`)),await fetch(this.getEndpoint(e,t,n),r).then((e=>n?e.json():e))}async vote(e,t){const n=lE.getLocalUser()??{};return n.username&&n.apiKey?dE(this,uE)[e]?p.showToast("You're attempting to vote too quickly","Failure"):(dE(this,uE)[e]=!0,await this.request(`posts/${e}/votes`,{score:t,no_unvote:!1},!0,{method:"POST"}).then((t=>(delete dE(this,uE)[e],t)))):p.showToast("You must be logged into e621 to favorite posts","Failure")}async favorite(e){const t=lE.getLocalUser()??{};return t.username&&t.apiKey?dE(this,cE)[e]?p.showToast("You're attempting to favorite too quickly","Failure"):(dE(this,cE)[e]=!0,await this.request("favorites",{post_id:e},!0,{method:"POST"}).then((t=>(delete dE(this,cE)[e],t)))):p.showToast("You must be logged into e621 to favorite posts","Failure")}async removeFavorite(e){const t=lE.getLocalUser()??{};return t.username&&t.apiKey?dE(this,cE)[e]?p.showToast("You're attempting to favorite too quickly","Failure"):(dE(this,cE)[e]=!0,await this.request(`favorites/${e}.json`,{},!1,{method:"DELETE"}).then((t=>(delete dE(this,cE)[e],t))).catch((t=>{console.error(t),p.showToast(hE.createElement(hE.Fragment,null,"Due to an API issue on e621's side, it is currently impossible to unfavorite posts via their API. Please ",hE.createElement("a",{href:`https://e621.net/posts/${e}#remove-fav-button`},"click here")," to manually unfavorite it."),"Failure",10)}))):p.showToast("You must be logged into e621 to favorite posts!")}constructor(){pE(this,"endpoint","https://e621.net/"),pE(this,"sfwEndpoint","https://e926.net/"),pE(this,"lastMadeRequest",-500),fE(this,uE,{writable:!0,value:{}}),fE(this,cE,{writable:!0,value:{}})}});class gE extends e.Component{componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}showErrorInfo(){const{error:t,errorInfo:n}=this.state;var r;r=e.createElement("div",{className:"ErrorInfoModal PrimaryBg",onClick:()=>{_E.pop().catch(console.error.bind(console,"Failed to pop modal!"))}},e.createElement("h1",null,t.message),n.componentStack.split("\n").slice(0,10).map(((t,n)=>e.createElement("h2",{key:n},t)))),_E.push(r)}renderError(){const{moreInfo:t}=this.state;return e.createElement("div",{className:"ErrorBoundaryHandler"},e.createElement("h1",null,"There was an error with this component!"),e.createElement("h2",null,"This is due to a plugin error or application error."),e.createElement("div",{className:"ErrorBoundaryFooter"},e.createElement("div",{className:"ErrorBoundaryButton TertiaryBg",onClick:()=>this.showErrorInfo()},"More Info"),e.createElement("div",{className:"ErrorBoundaryButton BackgroundDanger",onClick:()=>this.setState({error:null})},"Retry")))}render(){return this.state.error?this.renderError():this.props.children}constructor(e){super(e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"state",{error:null,errorInfo:null,moreInfo:!1})}}function vE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}async function yE(t){try{await window.navigator.clipboard.writeText(t),p.showToast(e.createElement("span",null,e.createElement("b",null,t.length>=100?t.substr(0,100)+"...":t)," copied to clipboard"),"Success")}catch(n){!async function(t={}){const{async:n=!1}=t;await new Promise((n=>{_E.push(e.createElement(kE,{resolve:n,...t}))}));!n&&_E.pop()}({title:"Failed To Copy",description:"Your browser does not support copying to clipboard, you can manually copy here.",value:t})}}function wE({image:t,setLoaded:n,setFailed:r,className:i,onClick:o,isPreview:s=!1}){const a=e.useRef(),[l,u]=e.useState(!1),c={onLoad:e=>{e.target.decode().then((()=>{n?.(!0),r?.(!1),u(!0)}))},onError:()=>(n?.(!0),r?.(!0),u(!0)),onClick:o};return E((()=>{a.current&&a.current.pause()})),t?/\.webm$/.test(t.full)&&!s?e.createElement("video",{ref:a,src:t.full,controls:!i,loop:!0,muted:!0,autoPlay:!s,className:i,...c}):e.createElement(e.Fragment,null,e.createElement("img",{src:t.preview,alt:"Preview failed to load",style:{display:l&&!i?"none":null},className:i}),!i&&!s&&e.createElement("img",{src:t.full,alt:"Image failed to load",className:i,style:{display:l?null:"none"},...c}),!s&&e.createElement("div",{className:"LoadingIndicator FlexCenter",ref:e=>{e&&(l?setTimeout((()=>e.classList.remove("Visible")),0):setTimeout((()=>e.classList.add("Visible")),0))}},e.createElement($,{className:"Spinner"}))):null}function bE({image:t,setLoaded:n,setFailed:r,className:i,onClick:o,isPreview:s=!1,notes:a=null}){const l=e.useRef(),[u,c]=e.useState(!1),h={onLoad:e=>{e.target.decode().then((()=>{n?.(!0),r?.(!1),c(!0)}))},onError:()=>(n?.(!0),r?.(!0),c(!0)),onClick:o};E((()=>{l.current&&l.current.pause()}));const[d,f]=(0,e.useState)(null);return(0,e.useEffect)((()=>{if(!u)return;const e=document.getElementById("modal-img");e&&f({actualWidth:e.naturalWidth,actualHeight:e.naturalHeight,renderedWidth:e.offsetWidth,renderedHeight:e.offsetHeight,widthMult:e.offsetWidth/e.naturalWidth,heightMult:e.offsetHeight/e.naturalHeight})}),[u]),t?/\.webm$/.test(t.full)&&!s?e.createElement("video",{ref:l,src:t.full,controls:!i,loop:!0,muted:!0,autoPlay:!s,className:i,...h}):e.createElement(e.Fragment,null,e.createElement("img",{src:t.preview,alt:"Preview failed to load",style:{display:u&&!i?"none":null},className:i}),!i&&!s&&e.createElement("img",{id:"modal-img",src:t.full,alt:"Image failed to load",className:i,style:{display:u?null:"none"},...h}),a&&d&&(!0===a?null:e.createElement("div",{className:"NotesContainer"},a.map((({x:t,y:n,width:r,height:i,body:o})=>e.createElement("div",{className:"Note",style:{left:t*d.widthMult,top:n*d.heightMult,width:r*d.widthMult,height:i*d.heightMult}},e.createElement("div",{className:"NoteBody"},o)))))),!s&&e.createElement("div",{className:"LoadingIndicator FlexCenter",ref:e=>{e&&(u?setTimeout((()=>e.classList.remove("Visible")),0):setTimeout((()=>e.classList.add("Visible")),0))}},e.createElement($,{className:"Spinner"}))):null}function EE({startPost:t,posts:n,buttons:r}){const i=n.map((e=>({preview:e.sample?.url??e.preview?.url??e.file?.url,full:e.file.url}))),o=e.useRef(),[s,a]=e.useState(n.indexOf(t)),l=n[s],u=Xw.useState((()=>Xw.get("modalState"))),[c,h]=e.useState(!1);e.useEffect((()=>{"open"!==u&&(c?_E.pop():(h(!0),Xw.set("modalState","open")))}),[u]),e.useEffect((()=>()=>{setTimeout((()=>{"open"===Xw.get("modalState")&&(window.history.back(),w.dispatch({type:y.UPDATE_PAGE}))}),0)}),[]),e.useEffect((()=>{o&&o.current.style.setProperty("--translation","0")}),[o,s]);const[d,f]=(0,e.useState)(null);(0,e.useEffect)((()=>{l.has_notes?(f(!0),mE.request("notes",{"search[post_id]":l.id}).then((e=>e?(console.log(e),f(e)):f(null)))):f(null)}),[s]);const g=e=>i[s+e]?(T(!1),C(!1),function(e){document.querySelector(`[src="${i[e].preview}"]`)?.scrollIntoView(),a(e)}(s+e)):p.showToast("No more images in this direction!","Failure"),[E,_]=e.useState(!0),[k,T]=e.useState(!1),[I,C]=e.useState(!1);b("keydown",(({key:e})=>{switch(e){case"Escape":return _E.pop();case"ArrowLeft":case"a":return g(-1);case"ArrowRight":case"d":return g(1);case"ArrowUp":case"w":return window.currentModalEvents?.vote(1);case"ArrowDown":case"s":return window.currentModalEvents?.vote(-1);case"f":return window.currentModalEvents?.favorite()}}),{dependencies:[s]});const N={onTouchStart:e=>{const t=e.touches[0].clientX;e.touches[0].clientY;let n=0;const r=e=>{n=e.touches[0].clientX-t,Math.abs(n)<50||(n<0?n+=50:n-=50,n/=window.innerWidth,n*=100,o.current.style.setProperty("--translation",n))};let i;document.addEventListener("touchmove",r),document.addEventListener("touchend",i=()=>{setTimeout((()=>{const e=parseFloat(o.current.style.getPropertyValue("--translation"));o.current.style.setProperty("--translation",e>5?"100":e<-5?"-100":"0"),document.removeEventListener("touchmove",r),document.removeEventListener("touchend",i),setTimeout((()=>{if(!o.current)return;const e=parseFloat(o.current.style.getPropertyValue("--translation"));e>=75?g(-1):e<=-75&&g(1)}),200)}),100)})}};return e.createElement("div",{ref:o,className:"ImageModal",onClick:e=>e.target===e.currentTarget&&_E.pop(),...N},e.createElement("div",{className:m("ImageContainer",[E,"Expanded"])},e.createElement(wE,{key:v(),image:i[s-1],setLoaded:T,setFailed:C,className:"Previous",onClick:()=>g(-1),isPreview:!0}),e.createElement(bE,{key:v(),image:i[s],setLoaded:T,setFailed:C,notes:d}),e.createElement(wE,{key:v(),image:i[s+1],setLoaded:T,setFailed:C,className:"Next",onClick:()=>g(1),isPreview:!0})),e.createElement("div",{className:"Footer"},e.createElement("div",{className:m("Button Arrow Left",[!i.length||!s,"Disabled"]),onClick:()=>g(-1)},e.createElement(S,null),e.createElement(Zw,null,"Previous Image")),e.createElement("div",{className:"Divider"}),r?.(n[s])??e.createElement(e.Fragment,null,e.createElement("div",{className:"Button",onClick:()=>_(!E)},E?e.createElement(O,null):e.createElement(A,null),e.createElement(Zw,null,E?"Compress":"Expand")),e.createElement("div",{className:"Button"},e.createElement(D,null),e.createElement(Zw,null,"Copy URL")),e.createElement(Rb,{className:"Button",style:{display:"block",color:"white"},href:i[s].full},e.createElement(j,null),e.createElement(Zw,null,"Open In New Tab"))),e.createElement("div",{className:"Divider"}),e.createElement("div",{className:m("Button Arrow Right",[!i.length||s+1>=i.length,"Disabled"]),onClick:()=>g(1)},e.createElement(z,null),e.createElement(Zw,null,"Next Image"))))}class _E extends e.Component{static push(e){this.instance.setState({stack:[...this.instance.state.stack,e]})}static async pop(){const{stack:e,closing:t}=this.instance.state,n=e[e.length-1];e.length&&n&&(this.instance.setState({closing:[...t,n]}),await new Promise((e=>setTimeout(e,150))),this.instance.setState({stack:this.instance.state.stack.filter((e=>e!==n)),closing:this.instance.state.closing.filter((e=>e!==n))}))}componentDidMount(){_E.instance=this}componentDidUpdate(e,t,n){document.documentElement.style.overflowY=this.state.stack.length?"hidden":null}handleBackdropClick(e){if(e.target!==e.currentTarget)return;const{stack:t}=this.state;if(t[t.length-1]&&"function"==typeof t[t.length-1].props?.onBackdropClick)return t[t.length-1].props.onBackdropClick();_E.pop().catch(console.error.bind(console,"Failed to pop modal!"))}render(){const{stack:t,closing:n}=this.state;return e.createElement("div",{className:"ModalStack"+(t.length>n.length?" Active":"")},t.map(((r,i)=>e.createElement(gE,null,e.createElement("div",{className:"ModalContainer"+(~n.indexOf(r)||i<t.length-1?" Closing":""),key:i,onMouseDown:this.handleBackdropClick.bind(this),style:{zIndex:10*i}},r)))))}constructor(...e){super(...e),vE(this,"state",{stack:[],closing:[]})}}function kE(t){const{title:n="",description:r="",yesText:i="Confirm",noText:o="Cancel",yesColor:s="",noColor:a="",value:l="",onChange:u=null,rich:c=!1,resolve:h,id:d}=t,[f,p]=e.useState(!1),[m,g]=e.useState(!1);return e.createElement("div",{className:"StringModal PrimaryBg"},e.createElement("div",{className:"Title",dangerouslySetInnerHTML:{__html:n}}),e.createElement("div",{className:"Description",dangerouslySetInnerHTML:{__html:r}}),e.createElement("input",{id:d,className:"Field TertiaryBg",defaultValue:l,onChange:u}),e.createElement("div",{className:"Footer"},e.createElement("div",{className:"Button TertiaryBg",onClick:()=>(h(null),p(!0)),style:{backgroundColor:a}},f?e.createElement(Jw,null):o),e.createElement("div",{className:"Button TertiaryBg",onClick:()=>(h(document.getElementById(d).value),g(!0)),style:{backgroundColor:s}},m?e.createElement(Jw,null):i)))}vE(_E,"instance",void 0);var TE=n(294);function SE(){return window.location.pathname}const IE=class extends Qw{getCurrentRoute(){return SE()}getFormattedRoute(){return SE().split("?")[0].split("/").filter((e=>e&&"#"!==e))}static formatUri(e){return e}constructor(e,t){super(e,t),window.addEventListener("popstate",(()=>{e.dispatch({type:y.UPDATE_PAGE}),"#sign_in"!==window.location.hash||_E.instance.state.stack.length||_E.push(TE.createElement(dw,null))}))}},CE=new IE(w,{[y.UPDATE_ROUTE]:({path:e,replace:t=!1})=>{e=IE.formatUri(e),window.history[t?"replaceState":"pushState"]({last:SE(),lastTime:Date.now()},null,e),w.dispatch({type:y.UPDATE_PAGE})},[y.UPDATE_PAGE]:()=>{}}),OE=n.p+"assets/media/Chevron.svg";function NE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xE;class AE extends e.Component{close(){AE.activeWrapper&&AE.activeWrapper.setState({menu:null,open:!1})}componentDidMount(){document.addEventListener("click",this.docClickEv)}componentWillUnmount(){document.removeEventListener("click",this.docClickEv)}render(){return e.createElement(gE,null,e.createElement("div",{className:"ContextMenu",...this.props,ref:this.ref},this.props.children))}constructor(...t){super(...t),NE(this,"ref",(0,e.createRef)()),NE(this,"docClickEv",(e=>{!this.ref.current||this.ref.current.contains(e.target)||document.getElementsByClassName("ContextMenu")[0].contains(e.target)||this.close()}))}}AE.Handler=(NE(xE=class extends e.Component{render(){return e.createElement(gE,null,e.createElement("div",{ref:AE.Handler.ref,className:"ContextMenuWrapper MainContextMenuContainer"}))}},"ref",(0,e.createRef)()),xE),AE.Wrapper=class extends e.Component{get publicProps(){return function(e,...t){const n=Object.assign({},e);for(const e of t)delete n[e];return n}(this.props,"menu","openOnClick","wrapperClassName","overrideX","overrideY")}async componentDidUpdate(e,t,n){if(AE.activeWrapper!==this||this.state.open||(AE.activeWrapper=null),this.state.open&&this.ref.current){const[e]=document.getElementsByClassName("ContextMenuContainer");if(e){const t=e.getBoundingClientRect();e.style.transform=t.y+t.height>window.innerHeight?`translateY(${window.innerHeight-(t.y+t.height)-20}px)`:null}}}render(){return this.props.menu?e.createElement(gE,null,e.createElement("div",{ref:this.ref,className:"ContextMenuWrapper "+(this.props.wrapperClassName||""),onClick:this.props.openOnClick?e=>{"function"!=typeof e.target.onClick&&this.handleContextMenu(this.props.openOnClick())}:null,...this.publicProps,onContextMenu:this.handleContextMenu},this.props.children,e.createElement(gE,null,this.state.open?this.state.menu:null))):this.props.children}constructor(...n){super(...n),NE(this,"state",{menu:null,open:!1}),NE(this,"ref",(0,e.createRef)()),NE(this,"handleContextMenu",(n=>{if("function"==typeof n.preventDefault&&n.preventDefault(),AE.activeWrapper){if(this.ref.current.contains(AE.activeWrapper.ref.current)&&AE.activeWrapper.props.menu!==this.props.menu)return;AE.activeWrapper.setState({menu:null,open:!1})}AE.activeWrapper=this;let r=this.props.menu.props.overrideY?.()||n.clientY,i=this.props.menu.props.overrideX?.()||n.clientX;for(;i+200>window.innerWidth;)i-=10;this.setState({menu:t.createPortal(e.createElement("div",{className:"ContextMenuContainer SecondaryBg",...this.publicProps,style:{position:"fixed",top:r,left:i}},this.props.menu),AE.Handler.ref.current),open:!0})}))}},AE.Item=class extends e.Component{render(){const t=Object.assign({},this.props);return delete t.autoClose,delete t.icon,e.createElement("div",{className:"ContextMenuItem",...t,onClick:this.handleClick},this.props.icon,this.props.children)}constructor(...e){super(...e),NE(this,"handleClick",(e=>{e.preventDefault(),e.stopPropagation(),AE.activeWrapper&&this.props.autoClose&&AE.activeWrapper.setState({menu:null,open:!1}),this.props.onClick&&this.props.onClick(this)}))}},AE.SubMenuItem=class extends e.Component{mount(e){if(!e)return;const t=e.getBoundingClientRect();e.style.transform=t.y+t.height>window.innerHeight?`translateY(${window.innerHeight-(t.y+t.height)-20}px)`:null,t.x+t.width>window.innerWidth&&(e.style.left="unset",e.style.right="100%")}render(){const t=Object.assign({},this.props);return delete t.autoClose,delete t.label,delete t.icon,e.createElement("div",{className:"ContextMenuItem HasSubMenu",...t,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.props.icon,this.props.label," ",e.createElement("img",{className:"ContextSubMenuChevron",src:OE}),this.state.open?e.createElement("div",{className:"ContextMenuContainer SubMenuContainer SecondaryBg",ref:this.mount},e.createElement("div",{className:"ContextMenu SubMenu"},this.props.children)):null)}constructor(...e){super(...e),NE(this,"state",{open:!1}),NE(this,"handleMouseEnter",(()=>{this.setState({open:!0})})),NE(this,"handleMouseLeave",(()=>{this.setState({open:!1})})),NE(this,"handleClick",(e=>{e.target===e.currentTarget&&(AE.activeWrapper&&this.props.autoClose&&AE.activeWrapper.setState({menu:null,open:!1}),this.props.onClick&&this.props.onClick(this))}))}},AE.ToggleItem=class extends e.Component{componentDidMount(){this.setState({checked:this.props.checked})}render(){const t=Object.assign({},this.props);return delete t.autoClose,delete t.callback,e.createElement("div",{className:"ContextMenuItem ToggleItem",...t,onClick:this.callback},e.createElement("div",{className:"ToggleBox"+(this.state.checked?" Checked":"")},this.state.checked?e.createElement("div",{className:"ToggleBoxTick"}):null),this.props.children)}constructor(...e){super(...e),NE(this,"state",{checked:!1}),NE(this,"callback",(()=>{AE.activeWrapper&&this.props.autoClose&&AE.activeWrapper.setState({menu:null,open:!1});const e=!this.state.checked;this.props.callback&&this.props.callback(e),this.setState({checked:e})}))}},AE.Divider=class extends e.Component{render(){return e.createElement("div",{className:"ContextMenuDivider",...this.props})}};const PE=AE;function RE(){return RE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RE.apply(this,arguments)}var DE=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",RE({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("circle",{cx:"12",cy:"12",r:"10"}),e.createElement("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),e.createElement("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}))}));DE.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},DE.displayName="Globe";const LE=DE;function ME(){return ME=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ME.apply(this,arguments)}var jE=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",ME({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}))}));jE.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},jE.displayName="GitHub";const UE=jE;function FE(){return FE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FE.apply(this,arguments)}var zE=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",FE({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"}))}));zE.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},zE.displayName="Twitter";const BE=zE;function VE(){return VE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VE.apply(this,arguments)}var $E=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",VE({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),e.createElement("polyline",{points:"22,6 12,13 2,6"}))}));$E.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},$E.displayName="Mail";const WE=$E;function qE(){return qE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qE.apply(this,arguments)}var HE=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",qE({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}))}));HE.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},HE.displayName="MessageSquare";const KE=HE,GE=n.p+"assets/media/icon50x50.png",QE=n.p+"assets/media/TwemojiHeart.svg";function YE(){const t={website:()=>window.open("https://kinzoku.one/","_blank"),github:()=>window.open("https://github.com/metalloriff/","_blank"),twitter:()=>window.open("https://twitter.com/Metalloriff/","_blank"),email:()=>window.open("mailto:metalloriff@gmail.com","_blank"),discord:()=>yE("Metalloriff 💕🌈#2891")};return e.createElement("footer",null,e.createElement("div",{className:"Flex"},e.createElement("div",{className:"LeftSections"},e.createElement("div",{className:"HeadSection FlexCenter"},e.createElement("img",{className:"Logo",src:GE,alt:"Logo"}),e.createElement("div",null,e.createElement("h2",null,"Metalloriff"),e.createElement("div",null,"Made with ",e.createElement("img",{src:QE,alt:"♥",width:15,height:15})))),e.createElement("div",{className:"ContactSection Flex"},e.createElement("div",{className:"ContactEntry",onClick:t.website},e.createElement(LE,null),e.createElement(Zw,null,"Website")),e.createElement("div",{className:"ContactEntry",onClick:t.github},e.createElement(UE,null),e.createElement(Zw,null,"GitHub")),e.createElement("div",{className:"ContactEntry",onClick:t.twitter},e.createElement(BE,null),e.createElement(Zw,null,"Twitter")),e.createElement("div",{className:"ContactEntry",onClick:t.email},e.createElement(WE,null),e.createElement(Zw,null,"Email")),e.createElement("div",{className:"ContactEntry",onClick:t.discord},e.createElement(KE,null),e.createElement(Zw,null,"Discord")))),e.createElement("div",{className:"MiddleSection"}),e.createElement("div",{className:"RightSections FlexCenter"},e.createElement("div",{className:"LinksSection"},e.createElement("a",{href:"https://github.com/Metalloriff/sucralose"},"Source Code"),e.createElement("a",{href:"https://feathericons.com/"},"Icons Used"),e.createElement("a",{href:"https://metalloriff.github.io/city-fog"},"Color Palette"),e.createElement("a",{href:"https://kinzoku.one/donate"},e.createElement("img",{src:QE,alt:"♥",width:15,height:15}),e.createElement("span",{style:{margin:"0 7px"}},"Donate"),e.createElement("img",{src:QE,alt:"♥",width:15,height:15})),e.createElement("div",{className:"Copyright"},"Copyright © ",(new Date).getFullYear()," Israel Boone")))))}var XE=n(294);function JE({value:e=null,children:t=null,onChange:n=(e=>{})}){const r={onChange:e=>{n(e.target.value)}};return XE.createElement("select",{className:"Dropdown",...r,defaultValue:e},t)}function ZE({value:e,children:t}){return XE.createElement("option",{className:"DropdownItem",value:e},t)}var e_=n(294);function t_({forceUpdate:e}){return lE.getLocalUser()&&e_.createElement("div",{className:"Blacklists FlexCenter"},e_.createElement("h2",{className:"Label"},"Blacklist"),e_.createElement(JE,{value:lE.getLocalUser().currentBlacklist,onChange:t=>{if(t.startsWith("action.")){switch(t){case"action.create":_E.push(e_.createElement($b,null));break;case"action.edit":w.dispatch({type:y.UPDATE_ROUTE,path:"/settings"})}return e()}lE.getLocalUser().currentBlacklist=t,hw.update(hw.doc("users",lE.getLocalUser().uid),{currentBlacklist:t}),w.dispatch({type:y.UPDATE_LOCAL_USER,user:lE.getLocalUser()})},key:v()},e_.createElement(ZE,{value:"defaults.none"},"None"),(lE.getLocalUser().blacklists??[]).map((({name:e,tags:t},n)=>e_.createElement(ZE,{key:n,value:n},e))),e_.createElement(ZE,{value:"action.none"}),e_.createElement(ZE,{value:"action.edit"},"EDIT BLACKLISTS"),e_.createElement(ZE,{value:"action.create"},"CREATE NEW BLACKLIST")))}function n_(){return n_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n_.apply(this,arguments)}var r_=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",n_({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("circle",{cx:"12",cy:"12",r:"10"}),e.createElement("path",{d:"M16 16s-1.5-2-4-2-4 2-4 2"}),e.createElement("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),e.createElement("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"}))}));r_.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},r_.displayName="Frown";const i_=r_;function o_(){return o_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o_.apply(this,arguments)}var s_=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",o_({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("polygon",{points:"5 3 19 12 5 21 5 3"}))}));s_.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},s_.displayName="Play";const a_=s_;function l_(){return l_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l_.apply(this,arguments)}var u_=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",l_({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"}))}));u_.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},u_.displayName="ThumbsDown";const c_=u_;function h_(){return h_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h_.apply(this,arguments)}var d_=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",h_({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))}));d_.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},d_.displayName="Plus";const f_=d_;function p_(){return p_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p_.apply(this,arguments)}var m_=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",p_({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),e.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));m_.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},m_.displayName="PlusSquare";const g_=m_;function v_({postId:t}){const n=e.useRef();return e.createElement(Db,{title:"Create New Set"},e.createElement("div",{className:"CreateSetModal",ref:n},e.createElement("div",{className:"FieldContainer"},e.createElement("h3",null,"Name"),e.createElement("input",{className:"Field",placeholder:"Ex - Epic Dragons"})),e.createElement("div",{className:"FieldContainer"},e.createElement("h3",null,"Short Name"),e.createElement("div",{className:"Note"},"The short name is used for the set's metatag name, or a unique identifier.",e.createElement("br",null),"It can only contain letters, numbers, and underscores."),e.createElement("input",{className:"Field",placeholder:"Ex - epic_dragons"})),e.createElement("div",{className:"FieldContainer"},e.createElement("h3",null,"Description"),e.createElement("textarea",{className:"Field",placeholder:"Note - Follows DText markdown formatting"})),e.createElement("div",{className:"FieldContainer"},e.createElement(Lb,{title:"Public",callback:null}),e.createElement("div",{className:"Note"},"Public sets will be visible to anyone.",e.createElement("br",null),"Private sets will only be visible to you.")),e.createElement("div",{className:"FieldContainer"},e.createElement("div",{className:"Button",onClick:async function(){const[r,i,o]=[...n.current.getElementsByClassName("Field")].map((e=>e.value)),s=n.current.querySelector(".SwitchItem > input").checked,a=await mE.request("post_sets",{"post_set[name]":r,"post_set[shortname]":i,"post_set[description]":o,"post_set[is_public]":s?1:0,"post_set[transfer_on_delete]":1,commit:"Create"},!0,{method:"POST"});if(a.errors)for(const t in a.errors)p.showToast(e.createElement("div",null,e.createElement("h4",null,t," errors"),e.createElement("ul",{style:{textAlign:"left"}},a.errors[t].map(((t,n)=>e.createElement("li",{key:n},t)))),e.createElement("p",null,"Click to dismiss.")),"",20);else await mE.request(`post_sets/${a.id}/add_posts`,{"post_ids[]":t},!0,{method:"POST"}),a.post_ids.push(t),(await lE.getLocalUser().getSets()).push(a),p.showToast("Successfully created set","Success"),await _E.pop()}},e.createElement(f_,null),"Create Set"))))}function y_(){return y_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y_.apply(this,arguments)}var w_=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",y_({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"}),e.createElement("path",{d:"M18.63 13A17.89 17.89 0 0 1 18 8"}),e.createElement("path",{d:"M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"}),e.createElement("path",{d:"M18 8a6 6 0 0 0-9.33-5"}),e.createElement("line",{x1:"1",y1:"1",x2:"23",y2:"23"}))}));w_.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},w_.displayName="BellOff";const b_=w_;function E_(){return E_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E_.apply(this,arguments)}var __=(0,e.forwardRef)((function(t,n){var r=t.color,i=void 0===r?"currentColor":r,o=t.size,s=void 0===o?24:o,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["color","size"]);return e.createElement("svg",E_({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),e.createElement("circle",{cx:"12",cy:"12",r:"10"}),e.createElement("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),e.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))}));__.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},__.displayName="HelpCircle";const k_=__;function T_({children:t}){return e.createElement(PE.Wrapper,{menu:e.createElement(S_,{tag:t}),wrapperClassName:"TagItemContextMenuWrapper"},e.createElement(Rb,{className:"TagItem",href:`/posts?search=${t}`},t))}function S_({tag:t}){const n={appendToSearch:()=>tb.handleSearch(tb.value.trim()+" "+t),subscribe:()=>{const n=lE.getLocalUser();n.subscriptions=n.subscriptions??[],n.subscriptions.push(t),hw.update(hw.doc("users",n.uid),{subscriptions:n.subscriptions}).then((()=>p.showToast(e.createElement("span",null,"Added ",e.createElement("b",null,t)," to subscribed tags")))).catch((e=>(console.error(e),p.showToast("An unknown error occurred","Failure"))))},unsubscribe:()=>{const n=lE.getLocalUser();n.subscriptions=n.subscriptions.filter((e=>e!==t)),hw.update(hw.doc("users",n.uid),{subscriptions:n.subscriptions}).then((()=>p.showToast(e.createElement("span",null,"Removed ",e.createElement("b",null,t)," from subscribed tags")))).catch((e=>(console.error(e),p.showToast("An unknown error occurred","Failure"))))},blacklist:()=>{},tagInfo:()=>{window.open(`https://e621.net/wiki_pages/${t}`,"_blank")}};return e.createElement(PE,null,e.createElement(PE.Item,{autoClose:!0,icon:e.createElement(f_,null),onClick:n.appendToSearch},"Append To Search Tags"),e.createElement(PE.Divider,null),lE.getLocalUser()?.signedIn&&e.createElement(e.Fragment,null,~(lE.getLocalUser().subscriptions??[]).indexOf(t.toLowerCase())?e.createElement(PE.Item,{autoClose:!0,icon:e.createElement(b_,null),onClick:n.unsubscribe},"Unsubscribe"):e.createElement(PE.Item,{autoClose:!0,icon:e.createElement(gb,null),onClick:n.subscribe},"Subscribe"),e.createElement(PE.Divider,null)),e.createElement(PE.Item,{autoClose:!0,icon:e.createElement(k_,null),onClick:n.tagInfo},"Tag Info"))}function I_({post:t}){const{id:n,description:r,sample:o,file:s,preview:a,fav_count:l,is_favorited:u,score:c,flags:h,created_at:d,rating:f,tags:p,pools:v}=t,y=o?.url??a?.url??s?.url,[w,b]=e.useState(""),[E,_]=e.useState("left"),[k,T]=e.useState([]),[S,I]=e.useState(!1),C=e.useMemo((()=>({text:t,children:n,onClick:r,tooltipText:i,tooltipSide:o,className:s})=>{const a={onClick:r,onMouseEnter:()=>(b(i),_(o??"left")),onMouseLeave:()=>b("")};return e.createElement("div",{className:m("Button","FlexCenter",s),...a},~k.indexOf(i)?e.createElement($,{className:"Spinner"}):n,t&&e.createElement("span",null,t))}),[k]);let O=!1;const N={toggleFavorite:()=>{T([...k,"Favorite"]);const e=()=>T(k.filter((e=>"Favorite"!==e)));u?mE.removeFavorite(n).then((()=>(t.is_favorited=!1,e()))):(mE.favorite(n).then((()=>(t.is_favorited=!0,e()))),N.vote(1))},vote:e=>{T([...k,"Upvote","Downvote"]),mE.vote(n,e).then((e=>(i().extend(t.score,e),T(k.filter((e=>!~["Upvote","Downvote"].indexOf(e)))))))},download:()=>{O||(O=!0,T([...k,"Download"]),g(s.url).then((()=>(T(k.filter((e=>"Download"!==e))),O=!1))))},openInNewTab:()=>window.open(`post/${n}`,"_blank")},x=p.artist.indexOf("conditional_dnp");return~x&&p.artist.splice(x,1),y&&"swf"!==s.ext?e.createElement(A_.Consumer,null,(r=>e.createElement("div",{className:"Post"},e.createElement("div",{className:"PostHeader"},"Artist",p.artist.length>1?"s":null,e.createElement("div",{className:"Divider"}),p.artist.length?p.artist.map(((t,n)=>e.createElement(T_,{key:n},t))):e.createElement("span",{style:{opacity:.65}},"unknown")),!S&&e.createElement("div",{className:"Preview Flex Loading"},e.createElement(Jw,null)),e.createElement(PE.Wrapper,{menu:e.createElement(C_,{post:t})},e.createElement("img",{src:y,className:"Preview",alt:"Preview",onLoad:()=>I(!0),onClick:()=>_E.push(e.createElement(EE,{startPost:t,posts:r.posts.filter(x_),buttons:t=>e.createElement(O_,{post:t})}))})),"webm"===s.ext&&e.createElement("div",{className:"VideoOverlay"},e.createElement(a_,null)),e.createElement("div",{className:"PostFooter","data-url":y},w&&e.createElement("div",{className:m("FooterTooltip",["right"===E,"RightSide"])},w),e.createElement("div",{className:"VotesContainer"},e.createElement("div",{className:"Flex"},e.createElement(C,{text:c.up,tooltipText:"Upvote",className:1===c.our_score?"Active":"",onClick:N.vote.bind(null,1)},e.createElement(_b,null)),e.createElement(C,{text:-c.down,tooltipText:"Downvote",className:-1===c.our_score?"Active":"",onClick:N.vote.bind(null,-1)},e.createElement(c_,null))),e.createElement("div",{className:"VotesTally"},e.createElement("div",{className:"UpVotes",style:{width:c.up/(c.up+-c.down)*100+"%"}}))),e.createElement(C,{text:l,tooltipText:"Favorite",className:u?"Favorited":"",onClick:N.toggleFavorite},e.createElement(wb,null)),e.createElement("div",{style:{position:"absolute",right:5},className:"Flex"},v?.length>0&&e.createElement(PE.Wrapper,{menu:e.createElement(N_,{pools:v})},e.createElement(C,{tooltipText:"Pools",tooltipSide:"right",onClick:e=>(e=i().cloneDeep(e),setTimeout((()=>e.currentTarget.parentElement.dispatchEvent(new MouseEvent("contextmenu",{...e,bubbles:!0}))),0))},e.createElement(Tw,null))),e.createElement(Rb,{href:`post/${n}`},e.createElement(C,{tooltipText:"View Post",tooltipSide:"right"},e.createElement(j,null)))))))):null}function C_({post:t}){const[n,r]=(0,e.useState)([]);(0,e.useEffect)((()=>{const e=lE.getLocalUser();e&&e.getSets().then((e=>r(e)))}));const[,i]=e.useReducer((e=>e+1),0);return e.createElement(PE,null,e.createElement(PE.Item,{icon:e.createElement(D,null),onClick:()=>yE(t.id),autoClose:!0},"Copy Post ID"),e.createElement(PE.Item,{icon:e.createElement(D,null),onClick:()=>yE(`https://e621.net/posts/${t.id}`),autoClose:!0},"Copy e621.net Link"),e.createElement(PE.Item,{icon:e.createElement(qw,null),onClick:()=>(Zb.props.backgroundImage.url.value=t.file.url,Zb.save()),autoClose:!0},"Set As Background"),e.createElement(PE.Divider,null),e.createElement(PE.SubMenuItem,{label:"Sets",icon:e.createElement(fb,null)},!!n.length&&e.createElement(e.Fragment,null,n.map(((n,r)=>e.createElement(PE.Item,{className:m("ContextMenuItem","SetCmItem",[!!~n.post_ids.indexOf(t.id),"Active"]),key:n.id,icon:e.createElement(f_,null),onClick:async()=>(await(async e=>{const n=lE.getLocalUser()?.getSets?.()[e],r=n.post_ids.indexOf(t.id);-1!==r?(await mE.request(`post_sets/${n.id}/remove_posts`,{"post_ids[]":t.id},!0,{method:"POST"}),n.post_ids.splice(r,1)):(await mE.request(`post_sets/${n.id}/add_posts`,{"post_ids[]":t.id},!0,{method:"POST"}),n.post_ids.push(t.id))})(r),i())},n.name))),e.createElement(PE.Divider,null)),e.createElement(PE.Item,{icon:e.createElement(g_,null),autoClose:!0,onClick:()=>_E.push(e.createElement(v_,{postId:t.id}))},"New Set")))}function O_({post:t}){const{id:n,is_favorited:r,score:o,fav_count:s,file:a,tags:l}=t,[,u]=e.useReducer((e=>e+1),0),c={favorite:()=>{r?mE.removeFavorite(n).then((()=>(t.is_favorited=!1,u()))):(mE.favorite(n).then((()=>(t.is_favorited=!0,u()))),c.vote(1))},vote:e=>mE.vote(n,e).then((e=>(i().extend(t.score,e),u()))),download:()=>g(a.url)};return window.currentModalEvents=c,e.createElement(e.Fragment,null,e.createElement("div",{className:"Button Flex",style:{alignItems:"center",justifyContent:"center",color:1===o.our_score?"var(--primary-color)":null},onClick:c.vote.bind(null,1)},e.createElement(_b,null),e.createElement("div",{style:{marginLeft:5}},o.up),e.createElement(Zw,{style:{color:"var(--txt-color)"}},"Upvote")),e.createElement("div",{className:"Button Flex",style:{alignItems:"center",justifyContent:"center",color:-1===o.our_score?"var(--primary-color)":null},onClick:c.vote.bind(null,-1)},e.createElement(c_,null),e.createElement("div",{style:{marginLeft:5}},-o.down),e.createElement(Zw,{style:{color:"var(--txt-color)"}},"Downvote")),e.createElement("div",{className:"Button Flex",style:{alignItems:"center",justifyContent:"center",color:r?"var(--red)":null},onClick:c.favorite},e.createElement(wb,null),e.createElement("div",{style:{marginLeft:5}},s),e.createElement(Zw,{style:{color:"var(--txt-color)"}},"Favorite")),e.createElement("div",{className:"ModalArtistsList FlexCenter"},e.createElement("div",{className:"ArtistTag MainTag"},"Artists - "),l.artist.filter((e=>"conditional_dnp"!==e)).map((t=>e.createElement("a",{className:"ArtistTag",key:t,href:`/posts?search=${t}`},t)))))}function N_({pools:t}){const[n,r]=e.useState(!1),[i,o]=e.useState(null);return e.useEffect((()=>{Promise.all(t.map((e=>mE.request(`/pools/${e}`)))).then((e=>{o(e),r(!0)}))}),[t]),n?e.createElement(PE,null,i.map((t=>e.createElement(PE.Item,{key:t.id},e.createElement("a",{href:`/posts?search=pool:${t.id}`},e.createElement("div",null,e.createElement("div",null,e.createElement("b",null,t.name.replaceAll("_"," "))),e.createElement("div",{style:{color:"var(--secondary-color)"}},t.post_count," post",1!==t.post_count&&"s"))))))):e.createElement(PE,null,e.createElement(PE.Item,null,e.createElement(Jw,null)))}function x_(e,t){const n=lE.getLocalUser();if(!n)return;const r=parseInt(n.currentBlacklist),i=n?.blacklists?.[r]??[];if(r>-1){if(!i)return p.showToast("Warning! There was an error finding your blacklist, no posts are filtered currently.","Failure"),!0;const t=Object.values(e.tags).flat().map((e=>e.toLowerCase())),n=i.tags.split("\n").map((e=>e.toLowerCase()));return t.push(`rating:${e.rating}`),!n.some((e=>e.split(" ").filter(Boolean).every((e=>t.includes(e)))))}return!0}let A_=e.createContext({}),P_=performance.now(),R_=!1,D_=CE.getFormattedRoute()[0],L_=null;function M_({prependedTags:t,emptyPlaceholder:n=null,request:r=null,pagingDisabled:o=!1}){const[s,a]=e.useState([]),[l,u]=e.useState(!0),[c,h]=e.useState(Xw.get("search")),[d,f]=e.useState(CE.getFormattedRoute()[0]),[p,g]=e.useState(r),v=Xw.useState((()=>Xw.get("search"))),E=Xw.useState((()=>Xw.get("page")));lE.useState((()=>lE.getLocalUser())),lE.useState((()=>lE.getLocalUser()?.currentBlacklist)),w.useForceUpdater(y.UPDATE_LOCAL_USER),e.useEffect((()=>{u(!0),a([])}),[v]),e.useEffect((()=>{R_||o||u(!0)}),[E]),e.useEffect((()=>{const n=parseInt(E||1),o=[v,t].join(" ").trim();i().isArray(p?.[1]?.tags)&&(p[1].tags=p[1].tags.join(" ").trim()),JSON.stringify(p)!==JSON.stringify(r)&&(!l&&u(!0),g(r)),l&&setTimeout((async()=>{r&&!r[1].page&&(r[1].page=n),r&&!r[1].tags&&(r[1].tags=o);let l="posts";const p={tags:o,page:n},m=lE.getLocalUser();t!==`favoritedby:${m?.e621User?.name}`||v||(l="favorites",delete p.tags);const g=r??[l,p];if(i().isEqual(L_,g)&&D_===CE.getFormattedRoute()[0])return u(!1);const y=lE.getLocalUser()?.e621User?.tagQueryLimit??40,w=[];let b=[];if("favorites"===l)b=(await mE.request(...g)).posts;else{const t=function(t){let n=y;const r=[],i=(t[1].tags||"").split(" ").filter(Boolean);if(i.length>=y){for(;n<=i.length+y;)r.push(i.slice(n-y,n).join(" ")),n+=y;localStorage.getItem("chunk-tag-warning")||(_E.push(e.createElement(Db,{title:"Tag Warning!"},"Your tag query is too large to be processed by the server.",e.createElement("br",null),"e621 has a limit of ",y," tags per request,",e.createElement("br",null),"but Sucralose attempts to chunk your tag query into multiple requests.",e.createElement("br",null),e.createElement("br",null),"Because of this, your tag query will be split into ",r.length," requests.",e.createElement("br",null),e.createElement("br",null),"This will drastically increase the amount of time it takes to",e.createElement("br",null),"process your requests, and may interfere with sorting.",e.createElement("br",null),e.createElement("br",null),"It's recommended that you reduce your search tags, blacklists, or subscribed tag count.")),localStorage.setItem("chunk-tag-warning","1")),t[1].tags=r}else t[1].tags=[t[1].tags||""],localStorage.removeItem("chunk-tag-warning");return t}(g);for(let e=0;e<t[1].tags?.length;e++){const n=t[1].tags[e],r=i().cloneDeep(t);r[1].tags=n,r[1].limit=Math.max(5,(m?.e621User?.per_page??50)/t[1].tags.length);const o=await mE.request(...r);w.push(...o.posts??[])}b=g[1].tags.length>1?w.filter(((e,t)=>w.indexOf(e)===t)).sort(((e,t)=>e.created_at<t.created_at?1:-1)):w}u(!1),R_=!1,n>1&&!b.length?(Xw.set("page",n-1,{pushHistory:!1}),R_=!0):L_=g;const E=o!==c||CE.getFormattedRoute()[0]!==d||r?b:[...s,...b];a(E.filter(((e,t)=>E.findIndex((t=>t&&t.id===e.id))===t))),h(o),f(CE.getFormattedRoute()[0])}),0)}),[l,r,p,v,E]),b("scroll",(()=>{if(o)return;if(performance.now()-P_<2e3||l||!s?.length||R_||document.querySelector(".FetchingStateModal.Active"))return;const e=document.documentElement;e.scrollTop>=e.scrollHeight-window.innerHeight-100&&(Xw.set("page",parseInt(Xw.get("page",1))+1,{pushHistory:!1}),P_=performance.now())}),{dependencies:[l,s,r,R_]});const _=s.filter(x_);return e.createElement(A_.Provider,{value:{posts:s}},e.createElement("div",{className:"Posts"},e.createElement("h2",{className:"PageLabel"},Y_.hash),!l&&!_?.length&&e.createElement("div",{className:"NoPosts"},e.createElement("div",{className:"Placeholder"},n??e.createElement(e.Fragment,null,e.createElement("h2",null,"No posts found."),e.createElement("div",null,"Check your search tags, and ensure you've made no typos."))),e.createElement(i_,null)),e.createElement("div",{className:"Items"},_?.map((t=>e.createElement(I_,{post:t,key:t.id})))),R_&&e.createElement("div",{className:"ReachedEndPlaceholder FlexCenter"},e.createElement("h2",null,"You've reached the end of your search."),e.createElement(i_,null)),e.createElement("div",{className:m("FetchingStateModal",[l,"Active"])},e.createElement(Jw,null))))}function j_(e){return e.toUTCString({year:"numeric",month:"2-digit",day:"2-digit"})}function U_(e){const t=new Date(e);return t.setDate(t.getDate()+1),j_(t)}function F_(){(new Date).setHours(0,0,0,0);const[t,n]=e.useState(new Date(Xw.get("date")??new Date)),[,r]=(0,e.useReducer)((e=>e+1),0),[o,s]=(0,e.useState)(Xw.get("range")??"day");return e.createElement("div",{className:"PostsPage"},e.createElement(Bb,{hasSearch:!1}),e.createElement("div",{className:"DatePicker"},e.createElement("h2",null,"Date"),e.createElement("input",{type:"date",defaultValue:new Date(t).toISOString().split("T")[0],onInput:i().debounce((e=>{const t=new Date(e.target.value);n(t),Xw.set("date",j_(t),{pushHistory:!1})}),2e3)})),e.createElement("div",{className:"FlexCenter"},e.createElement("h2",{className:"Label",style:{marginRight:10}},"Range"),e.createElement(JE,{value:o,onChange:e=>{Xw.set("range",e,{pushHistory:!1}),s(e)}},e.createElement(ZE,{value:"day"},"Day"),e.createElement(ZE,{value:"week"},"Week"),e.createElement(ZE,{value:"month"},"Month"))),e.createElement(t_,{forceUpdate:r}),lE.getLocalUser()&&e.createElement(M_,{request:["popular",{date:U_(t),scale:o,tags:"",page:"1"}],pagingDisabled:!0}))}function z_({id:t}){const[n,r]=e.useState(null),i=lE.useState((()=>lE.getLocalUser()));return function(t,n,r=!1,i=[]){e.useEffect((()=>{const e=setInterval(t,n);return r&&t(),()=>clearInterval(e)}),i)}((()=>{mE.request(`posts/${t}/comments`).then((e=>{const t=(new DOMParser).parseFromString(e.html,"text/html");r([...t.getElementsByClassName("comment")].map((t=>({id:t.dataset.commentId,userId:t.dataset.creatorId,username:t.dataset.creator,score:parseInt(t.dataset.score),isDeleted:"true"===t.dataset.isDeleted,body:t.querySelector(".content > .body")?.innerHTML,avatarPost:e.posts[t.querySelector(".avatar > .placeholder")?.dataset.id],timestamp:t.querySelector("time")?.dateTime}))))}))}),1e4,!0),e.createElement("div",{className:"PostComments"},null===n?e.createElement(Jw,null):0===n.length?e.createElement("div",{className:"NoComments"},e.createElement("h1",null,"No comments here.")):e.createElement("div",{className:"Comments"},n.map((t=>e.createElement("div",{className:"Comment",key:t.id},e.createElement("div",{className:"UserSection"},e.createElement("div",{className:"AvatarContainer"},e.createElement("div",{className:"AvatarPlaceholder FlexCenter"},e.createElement(xw,null)),t.avatarPost?e.createElement(Rb,{href:`/post/${t.avatarPost?.id??"not_found"}`},e.createElement("img",{className:m("Avatar",["e"===t.avatarPost?.rating,"NSFW"]),src:t.avatarPost?.cropped_url,onError:({target:e})=>e.src=t.avatarPost?.preview_url,alt:""})):null)),e.createElement("div",{className:"BodySection"},e.createElement(Rb,{href:`/user/${t.userId}`},e.createElement("div",{className:"Username"},t.username)),e.createElement("div",{className:"Body",dangerouslySetInnerHTML:{__html:t.body}})))))),i?.e621User&&e.createElement("div",{className:"CommentCreatorSection Comments"},e.createElement("div",{className:"Comment"},e.createElement("div",{className:"UserSection"},e.createElement("div",{className:"AvatarContainer"},e.createElement("div",{className:"AvatarPlaceholder FlexCenter"},e.createElement(xw,null)),i.e621User.avatarPost?e.createElement(Rb,{href:`#post/${i.e621User.avatarPost?.id??"not_found"}`},e.createElement("img",{className:m("Avatar",["e"===i.e621User.avatarPost?.rating,"NSFW"]),src:i.e621User.avatarPost?.cropped_url,onError:({target:e})=>e.src=i.e621User.avatarPost?.preview_url,alt:""})):null)),e.createElement("div",{className:"BodySection Flex"},e.createElement("textarea",{className:"Body",placeholder:"This doesn't do anything yet. I got lazy."})))))}class B_ extends e.Component{componentDidMount(){this.setState({active:0})}render(){const t=e.Children.toArray(this.props.children);return e.createElement("div",null,e.createElement("div",{className:"TabsList"},this.props.tabs.filter(Boolean).map(((t,n)=>e.createElement("span",{key:t,className:"TabItem"+(n===this.state.active?" Active":""),onClick:()=>{this.setState({active:n}),this.props.onChange&&this.props.onChange(t,n,this)}},e.createElement("span",{className:"TabItemTitle"},t),e.createElement("div",{className:"TabItemBorder"}))))),t[this.state.active])}constructor(...e){super(...e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"state",{active:null})}}function V_({id:t}){const[n,r]=e.useState(null),[o,s]=e.useState(!1),[,a]=e.useReducer((e=>e+1),0),l=lE.useState((()=>lE.getLocalUser()));e.useEffect((()=>{mE.request(`posts/${t}`).then((e=>e?.post?r(e.post):s(!0))).catch((e=>(console.error(e),s(!0))))}),[l]);const u={toggleFavorite:()=>{n.is_favorited?mE.removeFavorite(t).then((()=>(n.is_favorited=!1,a()))):mE.favorite(t).then((()=>(n.is_favorited=!0,a())))},vote:e=>mE.vote(t,e).then((e=>(i().extend(n.score,e),a())))};return e.createElement("div",{className:"PostPage"},e.createElement(Bb,null),n?e.createElement("div",{className:"PostBody"},e.createElement("div",{className:"ImageContainer"},e.createElement("img",{className:"Image",src:n.file.url,onError:({target:e})=>e.outerHTML=e.outerHTML.replace("img","video"),loop:!0,controls:!0,alt:"Post Image"})),e.createElement("div",{className:"PostBodyMain"},e.createElement("div",{className:"Button",style:{color:1===n.score.our_score?"var(--primary-color)":null},onClick:u.vote.bind(null,1)},e.createElement(_b,null),e.createElement("div",null,n.score.up)),e.createElement("div",{className:"Button",style:{color:-1===n.score.our_score?"var(--primary-color)":null},onClick:u.vote.bind(null,-1)},e.createElement(c_,null),e.createElement("div",null,-n.score.down)),e.createElement("div",{className:"Button",style:{color:n.is_favorited?"var(--red)":null},onClick:u.toggleFavorite},e.createElement(wb,null),e.createElement("div",null,n.fav_count))),n.description&&e.createElement("div",{className:"PostDescriptionContainer Flex"},e.createElement("div",{className:"PostDescription"},n.description)),e.createElement(B_,{tabs:["Comments","Tags","Details",n.pools.length>0&&"Pool"]},e.createElement(z_,{id:t}),e.createElement("div",{className:"TagsList"},Object.keys(n.tags).filter((e=>n.tags[e].length)).reverse().map((t=>e.createElement("div",{className:"TagCategory",key:t},e.createElement("h2",null,t," - ",n.tags[t].length),e.createElement("div",{className:"Tags"},n.tags[t].map(((t,n)=>e.createElement(T_,{key:n},t)))))))),e.createElement("div",{className:"PostDetails Flex"},e.createElement("div",null,e.createElement("div",{className:"Entry"},e.createElement("h2",null,"Post ID"),e.createElement("div",null,"#",t)),e.createElement("div",{className:"Entry"},e.createElement("h2",null,"Post MD5 Hash"),e.createElement("div",null,n.file.md5)),e.createElement("div",{className:"Entry"},e.createElement("h2",null,"Creation Date"),e.createElement("div",null,n.created_at)),e.createElement("div",{className:"Entry"},e.createElement("h2",null,"Size"),e.createElement("div",null,function(e,t=2){if(0===e)return"N/A";const n=t<0?0:t,r=[" bytes","KB","MB","GB","TB"],i=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,i)).toFixed(n).toLocaleString()+(r[i]??r[r.length-1])}(n.file.size))),e.createElement("div",{className:"Entry"},e.createElement("h2",null,"Width"),e.createElement("div",null,n.file.width," pixels")),e.createElement("div",{className:"Entry"},e.createElement("h2",null,"Height"),e.createElement("div",null,n.file.height," pixels")),e.createElement("div",{className:"Entry"},e.createElement("h2",null,"Sources"),e.createElement("div",null,n.sources.map(((t,n)=>e.createElement("div",{key:n,style:{marginTop:10}},e.createElement("a",{href:t},t)))))))),e.createElement(M_,{prependedTags:`pool:${n.pools[0]}`}))):e.createElement("div",null))}var $_=n(294);function W_({search:t="",searchPlaceholder:n,emptyPlaceholder:r=null}){const i=decodeURIComponent(window.location.href.split("search=")?.[1]);w.useForceUpdater(y.UPDATE_ROUTE);const[o,s]=(0,e.useReducer)((e=>e+1),0),[a,l]=(0,e.useState)(null);return(0,e.useEffect)((()=>(i.startsWith("pool:")?mE.request(`/pools/${i.split(":")[1]}`).then((e=>{l(e)})):l(null),()=>l(null))),[i]),$_.createElement("div",{className:"PostsPage"},$_.createElement(Bb,{searchPlaceholder:n}),$_.createElement(t_,{forceUpdate:s}),a&&$_.createElement("div",{className:"PoolInfo"},$_.createElement("h2",{className:"Name"},$_.createElement("span",null,a.name.split("_").join(" "))," by ",$_.createElement("a",{href:`/posts?search=${a.creator_name}`},a.creator_name)),$_.createElement("p",{className:"Description"},a.description)),lE.getLocalUser()&&$_.createElement(M_,{key:t,prependedTags:t,emptyPlaceholder:r}))}let q_=Date.now();function H_({options:t={}}){const[n,r]=e.useState([]),[i,o]=e.useState(!0),[s,a]=e.useState(""),[l,u]=e.useState(window.location.hash),c=Xw.useState((()=>Xw.get("page")))||1,h=Xw.useState((()=>Xw.get("search")))||"";return e.useEffect((()=>{mE.request("post_sets",{commit:"Search",page:c,"search[order]":"update","search[name]":`*${h}*`,...t}).then((e=>{if(o(!1),!Array.isArray(e))return;const t=h===s&&CE.getFormattedRoute()[0]===l?[...n,...e]:e;r(t.filter(((e,n)=>t.findIndex((t=>t&&t.id===e.id))===n))),a(h),u(window.location.hash)}))}),[i,c,h]),b("scroll",(()=>{if(Date.now()-q_<2e3||i||!n?.length)return;const e=document.documentElement;e.scrollTop>=e.scrollHeight-window.innerHeight-100&&(Xw.set("page",parseInt(Xw.get("page",1))+1,{pushHistory:!1}),q_=Date.now())}),{dependencies:[i,n]}),e.createElement("div",{className:"Sets"},!i&&!n?.length&&e.createElement("div",{className:"NoSets"},e.createElement("div",{className:"Placeholder"},e.createElement("h2",null,"No sets found."),e.createElement("div",null,"Check your search tags, and ensure that you've made no typos.")),e.createElement(i_,null)),e.createElement("div",{className:"Items"},e.createElement("div",{className:"PostSet PostSetWarning"},"WARNING! This page is currently experimental and may be buggy."),e.createElement("div",{className:"PostSet PostSetNote"},"Note: Right click/tap and hold on a set to favorite it!"),n?.map((t=>e.createElement(Rb,{key:t.id,href:`/posts?search=set:${t.shortname}`},e.createElement(PE.Wrapper,{menu:e.createElement(K_,{set:t})},e.createElement("div",{className:"PostSet"},e.createElement("div",{className:"Head"},e.createElement("div",{className:"Title"},t.name),e.createElement("div",{className:"ShortName"},t.shortname,",",e.createElement("span",null,t.post_count," posts"))),t.description&&e.createElement("div",{className:"Description"},t.description))))))),e.createElement("div",{className:m("FetchingStateModal",[i,"Active"])},e.createElement(Jw,null)))}function K_({set:t,forceUpdate:n}){const r=lE.useState((()=>lE.getLocalUser()));return r?e.createElement(PE,null,e.createElement(PE.Item,{icon:e.createElement(wb,null),onClick:()=>{r.favoriteSets=r.favoriteSets??[],r.favoriteSets.find((e=>e.id===t.id))?r.favoriteSets.splice(r.favoriteSets.findIndex((e=>e.id===t.id)),1):r.favoriteSets.push(i().pick(t,"created_at","creator_id","description","id","name","shortname")),hw.update(hw.doc("users",r.uid),{favoriteSets:r.favoriteSets}).then((()=>{p.showToast("Favorite sets updated!","Success"),n?.()}))},autoClose:!0},r.favoriteSets?.find((e=>e.id===t.id))?"Remove from":"Add to"," Favorites")):null}function G_(){const t=lE.useState((()=>lE.getLocalUser())),n=lE.useState((()=>lE.getLocalUser()?.favoriteSets)),[,r]=(0,e.useReducer)((e=>e+1),0);return e.createElement("div",{className:"SetsPage"},e.createElement(Bb,{searchPlaceholder:"Search sets..."}),e.createElement(B_,{tabs:["All","Owned","Favorites"]},e.createElement(H_,null),e.createElement(H_,{options:{"search[creator_name]":lE.getLocalUser()?.username}}),t?e.createElement("div",{className:"Sets"},e.createElement("div",{className:"Items"},(n??[]).map((t=>e.createElement(Rb,{key:t.id,href:`/posts?search=set:${t.shortname}`},e.createElement(PE.Wrapper,{menu:e.createElement(K_,{set:t,forceUpdate:r})},e.createElement("div",{className:"PostSet"},e.createElement("div",{className:"Head"},e.createElement("div",{className:"Title"},t.name),e.createElement("div",{className:"ShortName"},t.shortname)),t.description&&e.createElement("div",{className:"Description"},t.description)))))))):e.createElement("div",{className:"NoSets"},e.createElement("div",{className:"Placeholder"},e.createElement("h2",null,"Not signed in"),e.createElement("div",null,"You can't view favorited sets without signing in."),e.createElement("div",null,"Favorited sets are saved in Sucralose's database, not e621's.")),e.createElement(i_,null))))}function Q_(){w.useForceUpdater(y.UPDATE_PAGE);const[t,...n]=CE.getFormattedRoute(),r=lE.useState((()=>lE.getLocalUser()));switch(!1===r?.signedIn&&(~["subscriptions","favorites","settings"].indexOf(t)||location.hash.includes("sign_in"))&&0===_E.instance?.state?.stack?.length&&_E.push(e.createElement(dw,null)),t){default:return e.createElement(zb,null);case"posts":return e.createElement(W_,{searchPlaceholder:"Search posts..."});case"post":return e.createElement(V_,{id:n[0]});case"hot":return e.createElement(W_,{search:"order:rank",searchPlaceholder:"Search hot posts..."});case"popular":return e.createElement(F_,null);case"sets":return e.createElement(G_,null);case"subscriptions":return e.createElement(W_,{search:(r?.subscriptions?.length?r.subscriptions.map((e=>`~${e}`)):["____"]).join(" "),searchPlaceholder:"Search subscriptions...",emptyPlaceholder:e.createElement(e.Fragment,null,e.createElement("h2",null,"No subscribed posts found."),e.createElement("div",null,'You can subscribe to tags by right clicking on them and pressing "Subscribe."'))});case"favorites":return e.createElement(W_,{search:`favoritedby:${r?.e621User?.name}`,searchPlaceholder:"Search favorites...",emptyPlaceholder:e.createElement(e.Fragment,null,e.createElement("h2",null,"No favorited posts found."),e.createElement("div",null,"Check your search tags, as they also apply to favorites."))});case"upvoted":return e.createElement(W_,{search:`votedup:${r?.e621User?.name}`,searchPlaceholder:"Search upvoted posts...",emptyPlaceholder:e.createElement(e.Fragment,null,e.createElement("h2",null,"No upvoted posts found."),e.createElement("div",null,"Check your search tags, as they also apply to upvotes."))});case"settings":return e.createElement(Jb,null)}}function Y_(){const t=function(t,n){const r=e.useMemo((()=>window.matchMedia(`(${t}: 1200px)`)),[t,n]),[i,o]=e.useState(r.matches);return e.useEffect((()=>{const e=e=>o(e.matches);return r.addEventListener("change",e),()=>r.removeEventListener("change",e)}),[t,n]),i}("max-width",1200),[n,r]=e.useState(!1);return b("scroll",i().debounce((()=>{const{scrollTop:e}=document.documentElement;r(e>window.innerHeight&&!!~["posts","hot","popular","sets","subscriptions","favorites","upvoted"].indexOf(CE.getFormattedRoute()[0]))}),100)),e.createElement("div",{className:m("App",t?"Mobile":"Desktop")},e.createElement("div",{className:"AppBackground"}),e.createElement("div",{className:"Main"},e.createElement(Q_,null),e.createElement("div",{className:m("ScrollIndicator","HasTooltip","FlexCenter",[n,"Active"]),onClick:()=>window.scrollTo(0,0,{behavior:"smooth"},r(!1))},e.createElement(u,null))),e.createElement(YE,null),e.createElement(_E,null),e.createElement(p,null),e.createElement(PE.Handler,null),e.createElement(nE,null))}window.history.scrollRestoration="manual",t.render(e.createElement(e.StrictMode,null,e.createElement(Y_,null)),document.getElementById("root"))})()})();